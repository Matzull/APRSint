var p3 = Object.create;
var Fm = Object.defineProperty;
var g3 = Object.getOwnPropertyDescriptor;
var v3 = Object.getOwnPropertyNames;
var _3 = Object.getPrototypeOf, x3 = Object.prototype.hasOwnProperty;
var b3 =
  (t =>
    typeof require < "u"
      ? require
      : typeof Proxy < "u"
      ? new Proxy(t, { get: (e, i) => (typeof require < "u" ? require : e)[i] })
      : t)(function(t) {
      if (typeof require < "u") return require.apply(this, arguments);
      throw Error("Dynamic require of \"" + t + "\" is not supported");
    });
var y3 = (t, e) => () => (t && (e = t(t = 0)), e);
var Nn = (t, e) => () => (e || t((e = { exports: {} }).exports, e), e.exports),
  Nc = (t, e) => {
    for (var i in e) Fm(t, i, { get: e[i], enumerable: !0 });
  },
  w3 = (t, e, i, r) => {
    if (e && typeof e == "object" || typeof e == "function") {
      for (let n of v3(e)) {
        !x3.call(t, n) && n !== i
          && Fm(t, n, {
            get: () => e[n],
            enumerable: !(r = g3(e, n)) || r.enumerable,
          });
      }
    }
    return t;
  };
var Dm = (
  t,
  e,
  i,
) => (i = t != null ? p3(_3(t)) : {},
  w3(
    e || !t || !t.__esModule
      ? Fm(i, "default", { value: t, enumerable: !0 })
      : i,
    t,
  ));
var K_ = Nn((eh, th) => {
  (function(t, e) {
    typeof eh == "object" && typeof th < "u"
      ? th.exports = e()
      : typeof define == "function" && define.amd
      ? define(e)
      : t.createREGL = e();
  })(eh, function() {
    "use strict";
    var t = function(m) {
        return m instanceof Uint8Array || m instanceof Uint16Array
          || m instanceof Uint32Array || m instanceof Int8Array
          || m instanceof Int16Array || m instanceof Int32Array
          || m instanceof Float32Array || m instanceof Float64Array
          || m instanceof Uint8ClampedArray;
      },
      e = function(m, w) {
        for (var F = Object.keys(w), J = 0; J < F.length; ++J) {
          m[F[J]] = w[F[J]];
        }
        return m;
      },
      i = `
`;
    function r(m) {
      return typeof atob < "u" ? atob(m) : "base64:" + m;
    }
    function n(m) {
      var w = new Error("(regl) " + m);
      throw console.error(w), w;
    }
    function a(m, w) {
      m || n(w);
    }
    function o(m) {
      return m ? ": " + m : "";
    }
    function s(m, w, F) {
      m in w
        || n(
          "unknown parameter (" + m + ")" + o(F) + ". possible values: "
            + Object.keys(w).join(),
        );
    }
    function l(m, w) {
      t(m) || n("invalid parameter type" + o(w) + ". must be a typed array");
    }
    function d(m, w) {
      switch (w) {
        case "number":
          return typeof m == "number";
        case "object":
          return typeof m == "object";
        case "string":
          return typeof m == "string";
        case "boolean":
          return typeof m == "boolean";
        case "function":
          return typeof m == "function";
        case "undefined":
          return typeof m > "u";
        case "symbol":
          return typeof m == "symbol";
      }
    }
    function c(m, w, F) {
      d(m, w)
        || n(
          "invalid parameter type" + o(F) + ". expected " + w + ", got "
            + typeof m,
        );
    }
    function u(m, w) {
      m >= 0 && (m | 0) === m
        || n(
          "invalid parameter type, (" + m + ")" + o(w)
            + ". must be a nonnegative integer",
        );
    }
    function f(m, w, F) {
      w.indexOf(m) < 0 && n("invalid value" + o(F) + ". must be one of: " + w);
    }
    var h = [
      "gl",
      "canvas",
      "container",
      "attributes",
      "pixelRatio",
      "extensions",
      "optionalExtensions",
      "profile",
      "onDone",
    ];
    function x(m) {
      Object.keys(m).forEach(function(w) {
        h.indexOf(w) < 0
          && n(
            "invalid regl constructor argument \"" + w + "\". must be one of "
              + h,
          );
      });
    }
    function S(m, w) {
      for (m = m + ""; m.length < w;) m = " " + m;
      return m;
    }
    function p() {
      this.name = "unknown",
        this.lines = [],
        this.index = {},
        this.hasErrors = !1;
    }
    function y(m, w) {
      this.number = m, this.line = w, this.errors = [];
    }
    function E(m, w, F) {
      this.file = m, this.line = w, this.message = F;
    }
    function g() {
      var m = new Error(),
        w = (m.stack || m).toString(),
        F = /compileProcedure.*\n\s*at.*\((.*)\)/.exec(w);
      if (F) return F[1];
      var J = /compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(w);
      return J ? J[1] : "unknown";
    }
    function _() {
      var m = new Error(),
        w = (m.stack || m).toString(),
        F = /at REGLCommand.*\n\s+at.*\((.*)\)/.exec(w);
      if (F) return F[1];
      var J = /at REGLCommand.*\n\s+at\s+(.*)\n/.exec(w);
      return J ? J[1] : "unknown";
    }
    function $(m, w) {
      var F = m.split(`
`),
        J = 1,
        ce = 0,
        Z = { unknown: new p(), 0: new p() };
      Z.unknown.name = Z[0].name = w || g(), Z.unknown.lines.push(new y(0, ""));
      for (var re = 0; re < F.length; ++re) {
        var ye = F[re], be = /^\s*#\s*(\w+)\s+(.+)\s*$/.exec(ye);
        if (be) {
          switch (be[1]) {
            case "line":
              var ke = /(\d+)(\s+\d+)?/.exec(be[2]);
              ke
                && (J = ke[1] | 0,
                  ke[2] && (ce = ke[2] | 0, ce in Z || (Z[ce] = new p())));
              break;
            case "define":
              var Oe = /SHADER_NAME(_B64)?\s+(.*)$/.exec(be[2]);
              Oe && (Z[ce].name = Oe[1] ? r(Oe[2]) : Oe[2]);
              break;
          }
        }
        Z[ce].lines.push(new y(J++, ye));
      }
      return Object.keys(Z).forEach(function(Le) {
        var Me = Z[Le];
        Me.lines.forEach(function(we) {
          Me.index[we.number] = we;
        });
      }),
        Z;
    }
    function z(m) {
      var w = [];
      return m.split(`
`).forEach(function(F) {
        if (!(F.length < 5)) {
          var J = /^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(F);
          J
            ? w.push(new E(J[1] | 0, J[2] | 0, J[3].trim()))
            : F.length > 0 && w.push(new E("unknown", 0, F));
        }
      }),
        w;
    }
    function I(m, w) {
      w.forEach(function(F) {
        var J = m[F.file];
        if (J) {
          var ce = J.index[F.line];
          if (ce) {
            ce.errors.push(F), J.hasErrors = !0;
            return;
          }
        }
        m.unknown.hasErrors = !0, m.unknown.lines[0].errors.push(F);
      });
    }
    function D(m, w, F, J, ce) {
      if (!m.getShaderParameter(w, m.COMPILE_STATUS)) {
        var Z = m.getShaderInfoLog(w),
          re = J === m.FRAGMENT_SHADER ? "fragment" : "vertex";
        X(F, "string", re + " shader source must be a string", ce);
        var ye = $(F, ce), be = z(Z);
        I(ye, be),
          Object.keys(ye).forEach(function(ke) {
            var Oe = ye[ke];
            if (!Oe.hasErrors) return;
            var Le = [""], Me = [""];
            function we(Ce, H) {
              Le.push(Ce), Me.push(H || "");
            }
            we(
              "file number " + ke + ": " + Oe.name + `
`,
              "color:red;text-decoration:underline;font-weight:bold",
            ),
              Oe.lines.forEach(function(Ce) {
                if (Ce.errors.length > 0) {
                  we(
                    S(Ce.number, 4) + "|  ",
                    "background-color:yellow; font-weight:bold",
                  ),
                    we(
                      Ce.line + i,
                      "color:red; background-color:yellow; font-weight:bold",
                    );
                  var H = 0;
                  Ce.errors.forEach(function(ie) {
                    var Ie = ie.message, Ve = /^\s*'(.*)'\s*:\s*(.*)$/.exec(Ie);
                    if (Ve) {
                      var ve = Ve[1];
                      switch (Ie = Ve[2], ve) {
                        case "assign":
                          ve = "=";
                          break;
                      }
                      H = Math.max(Ce.line.indexOf(ve, H), 0);
                    }
                    else H = 0;
                    we(S("| ", 6)),
                      we(S("^^^", H + 3) + i, "font-weight:bold"),
                      we(S("| ", 6)),
                      we(Ie + i, "font-weight:bold");
                  }), we(S("| ", 6) + i);
                }
                else {
                  we(S(Ce.number, 4) + "|  "), we(Ce.line + i, "color:red");
                }
              }),
              typeof document < "u" && !window.chrome
                ? (Me[0] = Le.join("%c"), console.log.apply(console, Me))
                : console.log(Le.join(""));
          }),
          a.raise("Error compiling " + re + " shader, " + ye[0].name);
      }
    }
    function V(m, w, F, J, ce) {
      if (!m.getProgramParameter(w, m.LINK_STATUS)) {
        var Z = m.getProgramInfoLog(w),
          re = $(F, ce),
          ye = $(J, ce),
          be = "Error linking program with vertex shader, \"" + ye[0].name
            + "\", and fragment shader \"" + re[0].name + "\"";
        typeof document < "u"
          ? console.log(
            "%c" + be + i + "%c" + Z,
            "color:red;text-decoration:underline;font-weight:bold",
            "color:red",
          )
          : console.log(be + i + Z), a.raise(be);
      }
    }
    function ue(m) {
      m._commandRef = g();
    }
    function ne(m, w, F, J) {
      ue(m);
      function ce(be) {
        return be ? J.id(be) : 0;
      }
      m._fragId = ce(m.static.frag), m._vertId = ce(m.static.vert);
      function Z(be, ke) {
        Object.keys(ke).forEach(function(Oe) {
          be[J.id(Oe)] = !0;
        });
      }
      var re = m._uniformSet = {};
      Z(re, w.static), Z(re, w.dynamic);
      var ye = m._attributeSet = {};
      Z(ye, F.static),
        Z(ye, F.dynamic),
        m._hasCount = "count" in m.static || "count" in m.dynamic
          || "elements" in m.static || "elements" in m.dynamic;
    }
    function ee(m, w) {
      var F = _();
      n(
        m + " in command " + (w || g())
          + (F === "unknown" ? "" : " called from " + F),
      );
    }
    function R(m, w, F) {
      m || ee(w, F || g());
    }
    function A(m, w, F, J) {
      m in w
        || ee(
          "unknown parameter (" + m + ")" + o(F) + ". possible values: "
            + Object.keys(w).join(),
          J || g(),
        );
    }
    function X(m, w, F, J) {
      d(m, w)
        || ee(
          "invalid parameter type" + o(F) + ". expected " + w + ", got "
            + typeof m,
          J || g(),
        );
    }
    function G(m) {
      m();
    }
    function te(m, w, F) {
      m.texture
        ? f(
          m.texture._texture.internalformat,
          w,
          "unsupported texture format for attachment",
        )
        : f(
          m.renderbuffer._renderbuffer.format,
          F,
          "unsupported renderbuffer format for attachment",
        );
    }
    var De = 33071,
      Se = 9728,
      Fe = 9984,
      Be = 9985,
      We = 9986,
      me = 9987,
      gt = 5120,
      St = 5121,
      ft = 5122,
      xt = 5123,
      _e = 5124,
      le = 5125,
      Ke = 5126,
      dt = 32819,
      Ee = 32820,
      Tt = 33635,
      At = 34042,
      yi = 36193,
      Wt = {};
    Wt[gt] = Wt[St] = 1,
      Wt[ft] = Wt[xt] = Wt[yi] = Wt[Tt] = Wt[dt] = Wt[Ee] = 2,
      Wt[_e] = Wt[le] = Wt[Ke] = Wt[At] = 4;
    function mt(m, w) {
      return m === Ee || m === dt || m === Tt ? 2 : m === At ? 4 : Wt[m] * w;
    }
    function Rt(m) {
      return !(m & m - 1) && !!m;
    }
    function xe(m, w, F) {
      var J, ce = w.width, Z = w.height, re = w.channels;
      a(
        ce > 0 && ce <= F.maxTextureSize && Z > 0 && Z <= F.maxTextureSize,
        "invalid texture shape",
      ),
        (m.wrapS !== De || m.wrapT !== De)
        && a(
          Rt(ce) && Rt(Z),
          "incompatible wrap mode for texture, both width and height must be power of 2",
        ),
        w.mipmask === 1
          ? ce !== 1 && Z !== 1
            && a(
              m.minFilter !== Fe && m.minFilter !== We && m.minFilter !== Be
                && m.minFilter !== me,
              "min filter requires mipmap",
            )
          : (a(
            Rt(ce) && Rt(Z),
            "texture must be a square power of 2 to support mipmapping",
          ),
            a(
              w.mipmask === (ce << 1) - 1,
              "missing or incomplete mipmap data",
            )),
        w.type === Ke
        && (F.extensions.indexOf("oes_texture_float_linear") < 0
          && a(
            m.minFilter === Se && m.magFilter === Se,
            "filter not supported, must enable oes_texture_float_linear",
          ),
          a(
            !m.genMipmaps,
            "mipmap generation not supported with float textures",
          ));
      var ye = w.images;
      for (J = 0; J < 16; ++J) {
        if (ye[J]) {
          var be = ce >> J, ke = Z >> J;
          a(w.mipmask & 1 << J, "missing mipmap data");
          var Oe = ye[J];
          if (
            a(
              Oe.width === be && Oe.height === ke,
              "invalid shape for mip images",
            ),
              a(
                Oe.format === w.format && Oe.internalformat === w.internalformat
                  && Oe.type === w.type,
                "incompatible type for mip image",
              ),
              !Oe.compressed
          ) {
            if (Oe.data) {
              var Le = Math.ceil(mt(Oe.type, re) * be / Oe.unpackAlignment)
                * Oe.unpackAlignment;
              a(
                Oe.data.byteLength === Le * ke,
                "invalid data for image, buffer size is inconsistent with image format",
              );
            }
            else Oe.element || Oe.copy;
          }
        }
        else m.genMipmaps || a((w.mipmask & 1 << J) === 0, "extra mipmap data");
      }
      w.compressed
        && a(
          !m.genMipmaps,
          "mipmap generation for compressed images not supported",
        );
    }
    function at(m, w, F, J) {
      var ce = m.width, Z = m.height, re = m.channels;
      a(
        ce > 0 && ce <= J.maxTextureSize && Z > 0 && Z <= J.maxTextureSize,
        "invalid texture shape",
      ),
        a(ce === Z, "cube map must be square"),
        a(
          w.wrapS === De && w.wrapT === De,
          "wrap mode not supported by cube map",
        );
      for (var ye = 0; ye < F.length; ++ye) {
        var be = F[ye];
        a(
          be.width === ce && be.height === Z,
          "inconsistent cube map face shape",
        ),
          w.genMipmaps
          && (a(
            !be.compressed,
            "can not generate mipmap for compressed textures",
          ),
            a(
              be.mipmask === 1,
              "can not specify mipmaps and generate mipmaps",
            ));
        for (var ke = be.images, Oe = 0; Oe < 16; ++Oe) {
          var Le = ke[Oe];
          if (Le) {
            var Me = ce >> Oe, we = Z >> Oe;
            a(be.mipmask & 1 << Oe, "missing mipmap data"),
              a(
                Le.width === Me && Le.height === we,
                "invalid shape for mip images",
              ),
              a(
                Le.format === m.format && Le.internalformat === m.internalformat
                  && Le.type === m.type,
                "incompatible type for mip image",
              ),
              Le.compressed || (Le.data
                ? a(
                  Le.data.byteLength
                    === Me * we * Math.max(mt(Le.type, re), Le.unpackAlignment),
                  "invalid data for image, buffer size is inconsistent with image format",
                )
                : Le.element || Le.copy);
          }
        }
      }
    }
    var v = e(a, {
        optional: G,
        raise: n,
        commandRaise: ee,
        command: R,
        parameter: s,
        commandParameter: A,
        constructor: x,
        type: c,
        commandType: X,
        isTypedArray: l,
        nni: u,
        oneOf: f,
        shaderError: D,
        linkError: V,
        callSite: _,
        saveCommandRef: ue,
        saveDrawInfo: ne,
        framebufferFormat: te,
        guessCommand: g,
        texture2D: xe,
        textureCube: at,
      }),
      vi = 0,
      jr = 0,
      K = 5,
      $i = 6;
    function on(m, w) {
      this.id = vi++, this.type = m, this.data = w;
    }
    function Ze(m) {
      return m.replace(/\\/g, "\\\\").replace(/"/g, "\\\"");
    }
    function nt(m) {
      if (m.length === 0) return [];
      var w = m.charAt(0), F = m.charAt(m.length - 1);
      if (m.length > 1 && w === F && (w === "\"" || w === "'")) {
        return ["\"" + Ze(m.substr(1, m.length - 2)) + "\""];
      }
      var J = /\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(m);
      if (J) {
        return nt(m.substr(0, J.index)).concat(nt(J[1])).concat(
          nt(m.substr(J.index + J[0].length)),
        );
      }
      var ce = m.split(".");
      if (ce.length === 1) return ["\"" + Ze(m) + "\""];
      for (var Z = [], re = 0; re < ce.length; ++re) Z = Z.concat(nt(ce[re]));
      return Z;
    }
    function ge(m) {
      return "[" + nt(m).join("][") + "]";
    }
    function oe(m, w) {
      return new on(m, ge(w + ""));
    }
    function It(m) {
      return typeof m == "function" && !m._reglType || m instanceof on;
    }
    function ct(m, w) {
      if (typeof m == "function") return new on(jr, m);
      if (typeof m == "number" || typeof m == "boolean") return new on(K, m);
      if (Array.isArray(m)) {
        return new on(
          $i,
          m.map(function(F, J) {
            return ct(F, w + "[" + J + "]");
          }),
        );
      }
      if (m instanceof on) return m;
      v(!1, "invalid option type in uniform " + w);
    }
    var et = {
        DynamicVariable: on,
        define: oe,
        isDynamic: It,
        unbox: ct,
        accessor: ge,
      },
      wi = {
        next: typeof requestAnimationFrame == "function"
          ? function(m) {
            return requestAnimationFrame(m);
          }
          : function(m) {
            return setTimeout(m, 16);
          },
        cancel: typeof cancelAnimationFrame == "function"
          ? function(m) {
            return cancelAnimationFrame(m);
          }
          : clearTimeout,
      },
      er = typeof performance < "u" && performance.now
        ? function() {
          return performance.now();
        }
        : function() {
          return +new Date();
        };
    function or() {
      var m = { "": 0 }, w = [""];
      return {
        id: function(F) {
          var J = m[F];
          return J || (J = m[F] = w.length, w.push(F), J);
        },
        str: function(F) {
          return w[F];
        },
      };
    }
    function Wi(m, w, F) {
      var J = document.createElement("canvas");
      e(J.style, {
        border: 0,
        margin: 0,
        padding: 0,
        top: 0,
        left: 0,
        width: "100%",
        height: "100%",
      }),
        m.appendChild(J),
        m === document.body
        && (J.style.position = "absolute",
          e(m.style, { margin: 0, padding: 0 }));
      function ce() {
        var ye = window.innerWidth, be = window.innerHeight;
        if (m !== document.body) {
          var ke = J.getBoundingClientRect();
          ye = ke.right - ke.left, be = ke.bottom - ke.top;
        }
        J.width = F * ye, J.height = F * be;
      }
      var Z;
      m !== document.body && typeof ResizeObserver == "function"
        ? (Z = new ResizeObserver(function() {
          setTimeout(ce);
        }),
          Z.observe(m))
        : window.addEventListener("resize", ce, !1);
      function re() {
        Z ? Z.disconnect() : window.removeEventListener("resize", ce),
          m.removeChild(J);
      }
      return ce(), { canvas: J, onDestroy: re };
    }
    function Or(m, w) {
      function F(J) {
        try {
          return m.getContext(J, w);
        }
        catch {
          return null;
        }
      }
      return F("webgl") || F("experimental-webgl") || F("webgl-experimental");
    }
    function Pi(m) {
      return typeof m.nodeName == "string" && typeof m.appendChild == "function"
        && typeof m.getBoundingClientRect == "function";
    }
    function Si(m) {
      return typeof m.drawArrays == "function"
        || typeof m.drawElements == "function";
    }
    function tr(m) {
      return typeof m == "string"
        ? m.split()
        : (v(Array.isArray(m), "invalid extension array"), m);
    }
    function Rr(m) {
      return typeof m == "string"
        ? (v(typeof document < "u", "not supported outside of DOM"),
          document.querySelector(m))
        : m;
    }
    function Rn(m) {
      var w = m || {},
        F,
        J,
        ce,
        Z,
        re = {},
        ye = [],
        be = [],
        ke = typeof window > "u" ? 1 : window.devicePixelRatio,
        Oe = !1,
        Le = function(Ce) {
          Ce && v.raise(Ce);
        },
        Me = function() {};
      if (
        typeof w == "string"
          ? (v(
            typeof document < "u",
            "selector queries only supported in DOM enviroments",
          ),
            F = document.querySelector(w),
            v(F, "invalid query string for element"))
          : typeof w == "object"
          ? Pi(w)
            ? F = w
            : Si(w)
            ? (Z = w, ce = Z.canvas)
            : (v.constructor(w),
              "gl" in w
                ? Z = w.gl
                : "canvas" in w
                ? ce = Rr(w.canvas)
                : "container" in w && (J = Rr(w.container)),
              "attributes" in w
              && (re = w.attributes,
                v.type(re, "object", "invalid context attributes")),
              "extensions" in w && (ye = tr(w.extensions)),
              "optionalExtensions" in w && (be = tr(w.optionalExtensions)),
              "onDone" in w
              && (v.type(
                w.onDone,
                "function",
                "invalid or missing onDone callback",
              ),
                Le = w.onDone),
              "profile" in w && (Oe = !!w.profile),
              "pixelRatio" in w
              && (ke = +w.pixelRatio, v(ke > 0, "invalid pixel ratio")))
          : v.raise("invalid arguments to regl"),
          F && (F.nodeName.toLowerCase() === "canvas" ? ce = F : J = F),
          !Z
      ) {
        if (!ce) {
          v(
            typeof document < "u",
            "must manually specify webgl context outside of DOM environments",
          );
          var we = Wi(J || document.body, Le, ke);
          if (!we) return null;
          ce = we.canvas, Me = we.onDestroy;
        }
        re.premultipliedAlpha === void 0 && (re.premultipliedAlpha = !0),
          Z = Or(ce, re);
      }
      return Z
        ? {
          gl: Z,
          canvas: ce,
          container: J,
          extensions: ye,
          optionalExtensions: be,
          pixelRatio: ke,
          profile: Oe,
          onDone: Le,
          onDestroy: Me,
        }
        : (Me(),
          Le(
            "webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org",
          ),
          null);
    }
    function ya(m, w) {
      var F = {};
      function J(re) {
        v.type(re, "string", "extension name must be string");
        var ye = re.toLowerCase(), be;
        try {
          be = F[ye] = m.getExtension(ye);
        }
        catch {}
        return !!be;
      }
      for (var ce = 0; ce < w.extensions.length; ++ce) {
        var Z = w.extensions[ce];
        if (!J(Z)) {
          return w.onDestroy(),
            w.onDone(
              "\"" + Z
                + "\" extension is not supported by the current WebGL context, try upgrading your system or a different browser",
            ),
            null;
        }
      }
      return w.optionalExtensions.forEach(J),
        {
          extensions: F,
          restore: function() {
            Object.keys(F).forEach(function(re) {
              if (F[re] && !J(re)) {
                throw new Error("(regl): error restoring extension " + re);
              }
            });
          },
        };
    }
    function ur(m, w) {
      for (var F = Array(m), J = 0; J < m; ++J) F[J] = w(J);
      return F;
    }
    var wa = 5120,
      Nr = 5121,
      Ja = 5122,
      Ir = 5123,
      sr = 5124,
      $f = 5125,
      dl = 5126;
    function tc(m) {
      for (var w = 16; w <= 1 << 28; w *= 16) if (m <= w) return w;
      return 0;
    }
    function ic(m) {
      var w, F;
      return w = (m > 65535) << 4,
        m >>>= w,
        F = (m > 255) << 3,
        m >>>= F,
        w |= F,
        F = (m > 15) << 2,
        m >>>= F,
        w |= F,
        F = (m > 3) << 1,
        m >>>= F,
        w |= F,
        w | m >> 1;
    }
    function cl() {
      var m = ur(8, function() {
        return [];
      });
      function w(Z) {
        var re = tc(Z), ye = m[ic(re) >> 2];
        return ye.length > 0 ? ye.pop() : new ArrayBuffer(re);
      }
      function F(Z) {
        m[ic(Z.byteLength) >> 2].push(Z);
      }
      function J(Z, re) {
        var ye = null;
        switch (Z) {
          case wa:
            ye = new Int8Array(w(re), 0, re);
            break;
          case Nr:
            ye = new Uint8Array(w(re), 0, re);
            break;
          case Ja:
            ye = new Int16Array(w(2 * re), 0, re);
            break;
          case Ir:
            ye = new Uint16Array(w(2 * re), 0, re);
            break;
          case sr:
            ye = new Int32Array(w(4 * re), 0, re);
            break;
          case $f:
            ye = new Uint32Array(w(4 * re), 0, re);
            break;
          case dl:
            ye = new Float32Array(w(4 * re), 0, re);
            break;
          default:
            return null;
        }
        return ye.length !== re ? ye.subarray(0, re) : ye;
      }
      function ce(Z) {
        F(Z.buffer);
      }
      return { alloc: w, free: F, allocType: J, freeType: ce };
    }
    var zi = cl();
    zi.zero = cl();
    var Mf = 3408,
      rc = 3410,
      Qe = 3411,
      Bt = 3412,
      li = 3413,
      ir = 3414,
      Yt = 3415,
      Ft = 33901,
      fi = 33902,
      Ei = 3379,
      lr = 3386,
      fr = 34921,
      mr = 36347,
      ea = 36348,
      sn = 35661,
      Sa = 35660,
      is = 34930,
      ta = 36349,
      ia = 34076,
      ul = 34024,
      xn = 7936,
      nc = 7937,
      jw = 7938,
      Vw = 35724,
      qw = 34047,
      Ww = 36063,
      Yw = 34852,
      ac = 3553,
      vg = 34067,
      Xw = 34069,
      Kw = 33984,
      fl = 6408,
      Nf = 5126,
      _g = 5121,
      Pf = 36160,
      Zw = 36053,
      Jw = 36064,
      Qw = 16384,
      e2 = function(m, w) {
        var F = 1;
        w.ext_texture_filter_anisotropic && (F = m.getParameter(qw));
        var J = 1, ce = 1;
        w.webgl_draw_buffers
          && (J = m.getParameter(Yw), ce = m.getParameter(Ww));
        var Z = !!w.oes_texture_float;
        if (Z) {
          var re = m.createTexture();
          m.bindTexture(ac, re), m.texImage2D(ac, 0, fl, 1, 1, 0, fl, Nf, null);
          var ye = m.createFramebuffer();
          if (
            m.bindFramebuffer(Pf, ye),
              m.framebufferTexture2D(Pf, Jw, ac, re, 0),
              m.bindTexture(ac, null),
              m.checkFramebufferStatus(Pf) !== Zw
          ) {
            Z = !1;
          }
          else {
            m.viewport(0, 0, 1, 1), m.clearColor(1, 0, 0, 1), m.clear(Qw);
            var be = zi.allocType(Nf, 4);
            m.readPixels(0, 0, 1, 1, fl, Nf, be),
              m.getError()
                ? Z = !1
                : (m.deleteFramebuffer(ye),
                  m.deleteTexture(re),
                  Z = be[0] === 1),
              zi.freeType(be);
          }
        }
        var ke = typeof navigator < "u"
            && (/MSIE/.test(navigator.userAgent)
              || /Trident\//.test(navigator.appVersion)
              || /Edge/.test(navigator.userAgent)),
          Oe = !0;
        if (!ke) {
          var Le = m.createTexture(), Me = zi.allocType(_g, 36);
          m.activeTexture(Kw),
            m.bindTexture(vg, Le),
            m.texImage2D(Xw, 0, fl, 3, 3, 0, fl, _g, Me),
            zi.freeType(Me),
            m.bindTexture(vg, null),
            m.deleteTexture(Le),
            Oe = !m.getError();
        }
        return {
          colorBits: [
            m.getParameter(rc),
            m.getParameter(Qe),
            m.getParameter(Bt),
            m.getParameter(li),
          ],
          depthBits: m.getParameter(ir),
          stencilBits: m.getParameter(Yt),
          subpixelBits: m.getParameter(Mf),
          extensions: Object.keys(w).filter(function(we) {
            return !!w[we];
          }),
          maxAnisotropic: F,
          maxDrawbuffers: J,
          maxColorAttachments: ce,
          pointSizeDims: m.getParameter(Ft),
          lineWidthDims: m.getParameter(fi),
          maxViewportDims: m.getParameter(lr),
          maxCombinedTextureUnits: m.getParameter(sn),
          maxCubeMapSize: m.getParameter(ia),
          maxRenderbufferSize: m.getParameter(ul),
          maxTextureUnits: m.getParameter(is),
          maxTextureSize: m.getParameter(Ei),
          maxAttributes: m.getParameter(fr),
          maxVertexUniforms: m.getParameter(mr),
          maxVertexTextureUnits: m.getParameter(Sa),
          maxVaryingVectors: m.getParameter(ea),
          maxFragmentUniforms: m.getParameter(ta),
          glsl: m.getParameter(Vw),
          renderer: m.getParameter(nc),
          vendor: m.getParameter(xn),
          version: m.getParameter(jw),
          readFloat: Z,
          npotTextureCube: Oe,
        };
      };
    function bn(m) {
      return !!m && typeof m == "object" && Array.isArray(m.shape)
        && Array.isArray(m.stride) && typeof m.offset == "number"
        && m.shape.length === m.stride.length
        && (Array.isArray(m.data) || t(m.data));
    }
    var en = function(m) {
        return Object.keys(m).map(function(w) {
          return m[w];
        });
      },
      oc = { shape: n2, flatten: r2 };
    function t2(m, w, F) {
      for (var J = 0; J < w; ++J) F[J] = m[J];
    }
    function i2(m, w, F, J) {
      for (var ce = 0, Z = 0; Z < w; ++Z) {for (
          var re = m[Z], ye = 0; ye < F; ++ye
        )
        {
          J[ce++] = re[ye];
        }}
    }
    function xg(m, w, F, J, ce, Z) {
      for (var re = Z, ye = 0; ye < w; ++ye) {
        for (var be = m[ye], ke = 0; ke < F; ++ke) {
          for (var Oe = be[ke], Le = 0; Le < J; ++Le) {
            ce[re++] = Oe[Le];
          }
        }
      }
    }
    function bg(m, w, F, J, ce) {
      for (var Z = 1, re = F + 1; re < w.length; ++re) Z *= w[re];
      var ye = w[F];
      if (w.length - F === 4) {
        var be = w[F + 1], ke = w[F + 2], Oe = w[F + 3];
        for (re = 0; re < ye; ++re) xg(m[re], be, ke, Oe, J, ce), ce += Z;
      }
      else for (re = 0; re < ye; ++re) bg(m[re], w, F + 1, J, ce), ce += Z;
    }
    function r2(m, w, F, J) {
      var ce = 1;
      if (w.length) for (var Z = 0; Z < w.length; ++Z) ce *= w[Z];
      else ce = 0;
      var re = J || zi.allocType(F, ce);
      switch (w.length) {
        case 0:
          break;
        case 1:
          t2(m, w[0], re);
          break;
        case 2:
          i2(m, w[0], w[1], re);
          break;
        case 3:
          xg(m, w[0], w[1], w[2], re, 0);
          break;
        default:
          bg(m, w, 0, re, 0);
      }
      return re;
    }
    function n2(m) {
      for (var w = [], F = m; F.length; F = F[0]) w.push(F.length);
      return w;
    }
    var zf = {
        "[object Int8Array]": 5120,
        "[object Int16Array]": 5122,
        "[object Int32Array]": 5124,
        "[object Uint8Array]": 5121,
        "[object Uint8ClampedArray]": 5121,
        "[object Uint16Array]": 5123,
        "[object Uint32Array]": 5125,
        "[object Float32Array]": 5126,
        "[object Float64Array]": 5121,
        "[object ArrayBuffer]": 5121,
      },
      a2 = 5120,
      o2 = 5122,
      s2 = 5124,
      l2 = 5121,
      d2 = 5123,
      c2 = 5125,
      u2 = 5126,
      f2 = 5126,
      Qa = {
        int8: a2,
        int16: o2,
        int32: s2,
        uint8: l2,
        uint16: d2,
        uint32: c2,
        float: u2,
        float32: f2,
      },
      m2 = 35048,
      h2 = 35040,
      sc = { dynamic: m2, stream: h2, static: 35044 },
      Bf = oc.flatten,
      yg = oc.shape,
      wg = 35044,
      p2 = 35040,
      Uf = 5121,
      Gf = 5126,
      Ea = [];
    Ea[5120] = 1,
      Ea[5122] = 2,
      Ea[5124] = 4,
      Ea[5121] = 1,
      Ea[5123] = 2,
      Ea[5125] = 4,
      Ea[5126] = 4;
    function lc(m) {
      return zf[Object.prototype.toString.call(m)] | 0;
    }
    function Sg(m, w) {
      for (var F = 0; F < w.length; ++F) m[F] = w[F];
    }
    function Eg(m, w, F, J, ce, Z, re) {
      for (var ye = 0, be = 0; be < F; ++be) {
        for (var ke = 0; ke < J; ++ke) m[ye++] = w[ce * be + Z * ke + re];
      }
    }
    function g2(m, w, F, J) {
      var ce = 0, Z = {};
      function re(H) {
        this.id = ce++,
          this.buffer = m.createBuffer(),
          this.type = H,
          this.usage = wg,
          this.byteLength = 0,
          this.dimension = 1,
          this.dtype = Uf,
          this.persistentData = null,
          F.profile && (this.stats = { size: 0 });
      }
      re.prototype.bind = function() {
        m.bindBuffer(this.type, this.buffer);
      },
        re.prototype.destroy = function() {
          Me(this);
        };
      var ye = [];
      function be(H, ie) {
        var Ie = ye.pop();
        return Ie || (Ie = new re(H)), Ie.bind(), Le(Ie, ie, p2, 0, 1, !1), Ie;
      }
      function ke(H) {
        ye.push(H);
      }
      function Oe(H, ie, Ie) {
        H.byteLength = ie.byteLength, m.bufferData(H.type, ie, Ie);
      }
      function Le(H, ie, Ie, Ve, ve, He) {
        var Ue;
        if (H.usage = Ie, Array.isArray(ie)) {
          if (H.dtype = Ve || Gf, ie.length > 0) {
            var lt;
            if (Array.isArray(ie[0])) {
              Ue = yg(ie);
              for (var fe = 1, de = 1; de < Ue.length; ++de) fe *= Ue[de];
              H.dimension = fe,
                lt = Bf(ie, Ue, H.dtype),
                Oe(H, lt, Ie),
                He ? H.persistentData = lt : zi.freeType(lt);
            }
            else if (typeof ie[0] == "number") {
              H.dimension = ve;
              var Xe = zi.allocType(H.dtype, ie.length);
              Sg(Xe, ie),
                Oe(H, Xe, Ie),
                He ? H.persistentData = Xe : zi.freeType(Xe);
            }
            else {
              t(ie[0])
                ? (H.dimension = ie[0].length,
                  H.dtype = Ve || lc(ie[0]) || Gf,
                  lt = Bf(ie, [ie.length, ie[0].length], H.dtype),
                  Oe(H, lt, Ie),
                  He ? H.persistentData = lt : zi.freeType(lt))
                : v.raise("invalid buffer data");
            }
          }
        }
        else if (t(ie)) {
          H.dtype = Ve || lc(ie),
            H.dimension = ve,
            Oe(H, ie, Ie),
            He
            && (H.persistentData = new Uint8Array(new Uint8Array(ie.buffer)));
        }
        else if (bn(ie)) {
          Ue = ie.shape;
          var Ne = ie.stride, Ae = ie.offset, Pe = 0, ze = 0, yt = 0, _t = 0;
          Ue.length === 1
            ? (Pe = Ue[0], ze = 1, yt = Ne[0], _t = 0)
            : Ue.length === 2
            ? (Pe = Ue[0], ze = Ue[1], yt = Ne[0], _t = Ne[1])
            : v.raise("invalid shape"),
            H.dtype = Ve || lc(ie.data) || Gf,
            H.dimension = ze;
          var Ge = zi.allocType(H.dtype, Pe * ze);
          Eg(Ge, ie.data, Pe, ze, yt, _t, Ae),
            Oe(H, Ge, Ie),
            He ? H.persistentData = Ge : zi.freeType(Ge);
        }
        else {
          ie instanceof ArrayBuffer
            ? (H.dtype = Uf,
              H.dimension = ve,
              Oe(H, ie, Ie),
              He && (H.persistentData = new Uint8Array(new Uint8Array(ie))))
            : v.raise("invalid buffer data");
        }
      }
      function Me(H) {
        w.bufferCount--, J(H);
        var ie = H.buffer;
        v(ie, "buffer must not be deleted already"),
          m.deleteBuffer(ie),
          H.buffer = null,
          delete Z[H.id];
      }
      function we(H, ie, Ie, Ve) {
        w.bufferCount++;
        var ve = new re(ie);
        Z[ve.id] = ve;
        function He(fe) {
          var de = wg, Xe = null, Ne = 0, Ae = 0, Pe = 1;
          return Array.isArray(fe) || t(fe) || bn(fe)
              || fe instanceof ArrayBuffer
            ? Xe = fe
            : typeof fe == "number"
            ? Ne = fe | 0
            : fe
              && (v.type(
                fe,
                "object",
                "buffer arguments must be an object, a number or an array",
              ),
                "data" in fe
                && (v(
                  Xe === null || Array.isArray(Xe) || t(Xe) || bn(Xe),
                  "invalid data for buffer",
                ),
                  Xe = fe.data),
                "usage" in fe
                && (v.parameter(fe.usage, sc, "invalid buffer usage"),
                  de = sc[fe.usage]),
                "type" in fe
                && (v.parameter(fe.type, Qa, "invalid buffer type"),
                  Ae = Qa[fe.type]),
                "dimension" in fe
                && (v.type(fe.dimension, "number", "invalid dimension"),
                  Pe = fe.dimension | 0),
                "length" in fe
                && (v.nni(Ne, "buffer length must be a nonnegative integer"),
                  Ne = fe.length | 0)),
            ve.bind(),
            Xe ? Le(ve, Xe, de, Ae, Pe, Ve)
            : (Ne && m.bufferData(ve.type, Ne, de),
              ve.dtype = Ae || Uf,
              ve.usage = de,
              ve.dimension = Pe,
              ve.byteLength = Ne),
            F.profile && (ve.stats.size = ve.byteLength * Ea[ve.dtype]),
            He;
        }
        function Ue(fe, de) {
          v(
            de + fe.byteLength <= ve.byteLength,
            "invalid buffer subdata call, buffer is too small.  Can't write data of size "
              + fe.byteLength + " starting from offset " + de
              + " to a buffer of size " + ve.byteLength,
          ), m.bufferSubData(ve.type, de, fe);
        }
        function lt(fe, de) {
          var Xe = (de || 0) | 0, Ne;
          if (ve.bind(), t(fe) || fe instanceof ArrayBuffer) Ue(fe, Xe);
          else if (Array.isArray(fe)) {
            if (fe.length > 0) {
              if (typeof fe[0] == "number") {
                var Ae = zi.allocType(ve.dtype, fe.length);
                Sg(Ae, fe), Ue(Ae, Xe), zi.freeType(Ae);
              }
              else if (Array.isArray(fe[0]) || t(fe[0])) {
                Ne = yg(fe);
                var Pe = Bf(fe, Ne, ve.dtype);
                Ue(Pe, Xe), zi.freeType(Pe);
              }
              else v.raise("invalid buffer data");
            }
          }
          else if (bn(fe)) {
            Ne = fe.shape;
            var ze = fe.stride, yt = 0, _t = 0, Ge = 0, je = 0;
            Ne.length === 1 ? (yt = Ne[0], _t = 1, Ge = ze[0], je = 0)
            : Ne.length === 2
              ? (yt = Ne[0], _t = Ne[1], Ge = ze[0], je = ze[1])
              : v.raise("invalid shape");
            var ht = Array.isArray(fe.data) ? ve.dtype : lc(fe.data),
              wt = zi.allocType(ht, yt * _t);
            Eg(wt, fe.data, yt, _t, Ge, je, fe.offset),
              Ue(wt, Xe),
              zi.freeType(wt);
          }
          else v.raise("invalid data for buffer subdata");
          return He;
        }
        return Ie || He(H),
          He._reglType = "buffer",
          He._buffer = ve,
          He.subdata = lt,
          F.profile && (He.stats = ve.stats),
          He.destroy = function() {
            Me(ve);
          },
          He;
      }
      function Ce() {
        en(Z).forEach(function(H) {
          H.buffer = m.createBuffer(),
            m.bindBuffer(H.type, H.buffer),
            m.bufferData(H.type, H.persistentData || H.byteLength, H.usage);
        });
      }
      return F.profile && (w.getTotalBufferSize = function() {
        var H = 0;
        return Object.keys(Z).forEach(function(ie) {
          H += Z[ie].stats.size;
        }),
          H;
      }),
        {
          create: we,
          createStream: be,
          destroyStream: ke,
          clear: function() {
            en(Z).forEach(Me), ye.forEach(Me);
          },
          getBuffer: function(H) {
            return H && H._buffer instanceof re ? H._buffer : null;
          },
          restore: Ce,
          _initBuffer: Le,
        };
    }
    var v2 = 0,
      _2 = 0,
      x2 = 1,
      b2 = 1,
      y2 = 4,
      w2 = 4,
      Ta = {
        points: v2,
        point: _2,
        lines: x2,
        line: b2,
        triangles: y2,
        triangle: w2,
        "line loop": 2,
        "line strip": 3,
        "triangle strip": 5,
        "triangle fan": 6,
      },
      S2 = 0,
      E2 = 1,
      ml = 4,
      T2 = 5120,
      rs = 5121,
      Tg = 5122,
      ns = 5123,
      Ag = 5124,
      eo = 5125,
      Hf = 34963,
      A2 = 35040,
      I2 = 35044;
    function C2(m, w, F, J) {
      var ce = {}, Z = 0, re = { uint8: rs, uint16: ns };
      w.oes_element_index_uint && (re.uint32 = eo);
      function ye(Ce) {
        this.id = Z++,
          ce[this.id] = this,
          this.buffer = Ce,
          this.primType = ml,
          this.vertCount = 0,
          this.type = 0;
      }
      ye.prototype.bind = function() {
        this.buffer.bind();
      };
      var be = [];
      function ke(Ce) {
        var H = be.pop();
        return H || (H = new ye(F.create(null, Hf, !0, !1)._buffer)),
          Le(H, Ce, A2, -1, -1, 0, 0),
          H;
      }
      function Oe(Ce) {
        be.push(Ce);
      }
      function Le(Ce, H, ie, Ie, Ve, ve, He) {
        Ce.buffer.bind();
        var Ue;
        if (H) {
          var lt = He;
          !He && (!t(H) || bn(H) && !t(H.data))
          && (lt = w.oes_element_index_uint ? eo : ns),
            F._initBuffer(Ce.buffer, H, ie, lt, 3);
        }
        else {
          m.bufferData(Hf, ve, ie),
            Ce.buffer.dtype = Ue || rs,
            Ce.buffer.usage = ie,
            Ce.buffer.dimension = 3,
            Ce.buffer.byteLength = ve;
        }
        if (Ue = He, !He) {
          switch (Ce.buffer.dtype) {
            case rs:
            case T2:
              Ue = rs;
              break;
            case ns:
            case Tg:
              Ue = ns;
              break;
            case eo:
            case Ag:
              Ue = eo;
              break;
            default:
              v.raise("unsupported type for element array");
          }
          Ce.buffer.dtype = Ue;
        }
        Ce.type = Ue,
          v(
            Ue !== eo || !!w.oes_element_index_uint,
            "32 bit element buffers not supported, enable oes_element_index_uint first",
          );
        var fe = Ve;
        fe < 0 && (fe = Ce.buffer.byteLength,
          Ue === ns
            ? fe >>= 1
            : Ue === eo && (fe >>= 2)), Ce.vertCount = fe;
        var de = Ie;
        if (Ie < 0) {
          de = ml;
          var Xe = Ce.buffer.dimension;
          Xe === 1 && (de = S2), Xe === 2 && (de = E2), Xe === 3 && (de = ml);
        }
        Ce.primType = de;
      }
      function Me(Ce) {
        J.elementsCount--,
          v(Ce.buffer !== null, "must not double destroy elements"),
          delete ce[Ce.id],
          Ce.buffer.destroy(),
          Ce.buffer = null;
      }
      function we(Ce, H) {
        var ie = F.create(null, Hf, !0), Ie = new ye(ie._buffer);
        J.elementsCount++;
        function Ve(ve) {
          if (!ve) ie(), Ie.primType = ml, Ie.vertCount = 0, Ie.type = rs;
          else if (typeof ve == "number") {
            ie(ve), Ie.primType = ml, Ie.vertCount = ve | 0, Ie.type = rs;
          }
          else {
            var He = null, Ue = I2, lt = -1, fe = -1, de = 0, Xe = 0;
            Array.isArray(ve) || t(ve) || bn(ve)
              ? He = ve
              : (v.type(ve, "object", "invalid arguments for elements"),
                "data" in ve
                && (He = ve.data,
                  v(
                    Array.isArray(He) || t(He) || bn(He),
                    "invalid data for element buffer",
                  )),
                "usage" in ve
                && (v.parameter(ve.usage, sc, "invalid element buffer usage"),
                  Ue = sc[ve.usage]),
                "primitive" in ve
                && (v.parameter(
                  ve.primitive,
                  Ta,
                  "invalid element buffer primitive",
                ),
                  lt = Ta[ve.primitive]),
                "count" in ve
                && (v(
                  typeof ve.count == "number" && ve.count >= 0,
                  "invalid vertex count for elements",
                ),
                  fe = ve.count | 0),
                "type" in ve
                && (v.parameter(ve.type, re, "invalid buffer type"),
                  Xe = re[ve.type]),
                "length" in ve
                  ? de = ve.length | 0
                  : (de = fe,
                    Xe === ns || Xe === Tg
                      ? de *= 2
                      : (Xe === eo || Xe === Ag) && (de *= 4))),
              Le(Ie, He, Ue, lt, fe, de, Xe);
          }
          return Ve;
        }
        return Ve(Ce),
          Ve._reglType = "elements",
          Ve._elements = Ie,
          Ve.subdata = function(ve, He) {
            return ie.subdata(ve, He), Ve;
          },
          Ve.destroy = function() {
            Me(Ie);
          },
          Ve;
      }
      return {
        create: we,
        createStream: ke,
        destroyStream: Oe,
        getElements: function(Ce) {
          return typeof Ce == "function" && Ce._elements instanceof ye
            ? Ce._elements
            : null;
        },
        clear: function() {
          en(ce).forEach(Me);
        },
      };
    }
    var Ig = new Float32Array(1), k2 = new Uint32Array(Ig.buffer), L2 = 5123;
    function Cg(m) {
      for (var w = zi.allocType(L2, m.length), F = 0; F < m.length; ++F) {
        if (isNaN(m[F])) w[F] = 65535;
        else if (m[F] === 1 / 0) w[F] = 31744;
        else if (m[F] === -1 / 0) w[F] = 64512;
        else {
          Ig[0] = m[F];
          var J = k2[0],
            ce = J >>> 31 << 15,
            Z = (J << 1 >>> 24) - 127,
            re = J >> 13 & 1024 - 1;
          if (Z < -24) w[F] = ce;
          else if (Z < -14) {
            var ye = -14 - Z;
            w[F] = ce + (re + 1024 >> ye);
          }
          else Z > 15 ? w[F] = ce + 31744 : w[F] = ce + (Z + 15 << 10) + re;
        }
      }
      return w;
    }
    function Ri(m) {
      return Array.isArray(m) || t(m);
    }
    var kg = function(m) {
        return !(m & m - 1) && !!m;
      },
      O2 = 34467,
      Fn = 3553,
      jf = 34067,
      dc = 34069,
      to = 6408,
      Vf = 6406,
      cc = 6407,
      hl = 6409,
      uc = 6410,
      Lg = 32854,
      qf = 32855,
      Og = 36194,
      R2 = 32819,
      F2 = 32820,
      D2 = 33635,
      $2 = 34042,
      Wf = 6402,
      fc = 34041,
      Yf = 35904,
      Xf = 35906,
      as = 36193,
      Kf = 33776,
      Zf = 33777,
      Jf = 33778,
      Qf = 33779,
      Rg = 35986,
      Fg = 35987,
      Dg = 34798,
      $g = 35840,
      Mg = 35841,
      Ng = 35842,
      Pg = 35843,
      zg = 36196,
      os = 5121,
      em = 5123,
      tm = 5125,
      pl = 5126,
      M2 = 10242,
      N2 = 10243,
      P2 = 10497,
      im = 33071,
      z2 = 33648,
      B2 = 10240,
      U2 = 10241,
      rm = 9728,
      G2 = 9729,
      nm = 9984,
      Bg = 9985,
      Ug = 9986,
      am = 9987,
      H2 = 33170,
      mc = 4352,
      j2 = 4353,
      V2 = 4354,
      q2 = 34046,
      W2 = 3317,
      Y2 = 37440,
      X2 = 37441,
      K2 = 37443,
      Gg = 37444,
      gl = 33984,
      Z2 = [nm, Ug, Bg, am],
      hc = [0, hl, uc, cc, to],
      ln = {};
    ln[hl] = ln[Vf] = ln[Wf] = 1,
      ln[fc] = ln[uc] = 2,
      ln[cc] = ln[Yf] = 3,
      ln[to] = ln[Xf] = 4;
    function ss(m) {
      return "[object " + m + "]";
    }
    var Hg = ss("HTMLCanvasElement"),
      jg = ss("OffscreenCanvas"),
      Vg = ss("CanvasRenderingContext2D"),
      qg = ss("ImageBitmap"),
      Wg = ss("HTMLImageElement"),
      Yg = ss("HTMLVideoElement"),
      J2 = Object.keys(zf).concat([Hg, jg, Vg, qg, Wg, Yg]),
      ls = [];
    ls[os] = 1, ls[pl] = 4, ls[as] = 2, ls[em] = 2, ls[tm] = 4;
    var vr = [];
    vr[Lg] = 2,
      vr[qf] = 2,
      vr[Og] = 2,
      vr[fc] = 4,
      vr[Kf] = .5,
      vr[Zf] = .5,
      vr[Jf] = 1,
      vr[Qf] = 1,
      vr[Rg] = .5,
      vr[Fg] = 1,
      vr[Dg] = 1,
      vr[$g] = .5,
      vr[Mg] = .25,
      vr[Ng] = .5,
      vr[Pg] = .25,
      vr[zg] = .5;
    function Xg(m) {
      return Array.isArray(m) && (m.length === 0 || typeof m[0] == "number");
    }
    function Kg(m) {
      if (!Array.isArray(m)) return !1;
      var w = m.length;
      return !(w === 0 || !Ri(m[0]));
    }
    function io(m) {
      return Object.prototype.toString.call(m);
    }
    function Zg(m) {
      return io(m) === Hg;
    }
    function Jg(m) {
      return io(m) === jg;
    }
    function Q2(m) {
      return io(m) === Vg;
    }
    function eS(m) {
      return io(m) === qg;
    }
    function tS(m) {
      return io(m) === Wg;
    }
    function iS(m) {
      return io(m) === Yg;
    }
    function om(m) {
      if (!m) return !1;
      var w = io(m);
      return J2.indexOf(w) >= 0 ? !0 : Xg(m) || Kg(m) || bn(m);
    }
    function Qg(m) {
      return zf[Object.prototype.toString.call(m)] | 0;
    }
    function rS(m, w) {
      var F = w.length;
      switch (m.type) {
        case os:
        case em:
        case tm:
        case pl:
          var J = zi.allocType(m.type, F);
          J.set(w), m.data = J;
          break;
        case as:
          m.data = Cg(w);
          break;
        default:
          v.raise("unsupported texture type, must specify a typed array");
      }
    }
    function e0(m, w) {
      return zi.allocType(m.type === as ? pl : m.type, w);
    }
    function t0(m, w) {
      m.type === as ? (m.data = Cg(w), zi.freeType(w)) : m.data = w;
    }
    function nS(m, w, F, J, ce, Z) {
      for (
        var re = m.width,
          ye = m.height,
          be = m.channels,
          ke = re * ye * be,
          Oe = e0(m, ke),
          Le = 0,
          Me = 0;
        Me < ye;
        ++Me
      ) {
        for (var we = 0; we < re; ++we) {
          for (var Ce = 0; Ce < be; ++Ce) {
            Oe[Le++] = w[F * we + J * Me + ce * Ce + Z];
          }
        }
      }
      t0(m, Oe);
    }
    function pc(m, w, F, J, ce, Z) {
      var re;
      if (
        typeof vr[m] < "u" ? re = vr[m] : re = ln[m] * ls[w], Z && (re *= 6), ce
      ) {
        for (var ye = 0, be = F; be >= 1;) ye += re * be * be, be /= 2;
        return ye;
      }
      else return re * F * J;
    }
    function aS(m, w, F, J, ce, Z, re) {
      var ye = { "don't care": mc, "dont care": mc, nice: V2, fast: j2 },
        be = { repeat: P2, clamp: im, mirror: z2 },
        ke = { nearest: rm, linear: G2 },
        Oe = e({
          mipmap: am,
          "nearest mipmap nearest": nm,
          "linear mipmap nearest": Bg,
          "nearest mipmap linear": Ug,
          "linear mipmap linear": am,
        }, ke),
        Le = { none: 0, browser: Gg },
        Me = { uint8: os, rgba4: R2, rgb565: D2, "rgb5 a1": F2 },
        we = {
          alpha: Vf,
          luminance: hl,
          "luminance alpha": uc,
          rgb: cc,
          rgba: to,
          rgba4: Lg,
          "rgb5 a1": qf,
          rgb565: Og,
        },
        Ce = {};
      w.ext_srgb && (we.srgb = Yf, we.srgba = Xf),
        w.oes_texture_float && (Me.float32 = Me.float = pl),
        w.oes_texture_half_float && (Me.float16 = Me["half float"] = as),
        w.webgl_depth_texture
        && (e(we, { depth: Wf, "depth stencil": fc }),
          e(Me, { uint16: em, uint32: tm, "depth stencil": $2 })),
        w.webgl_compressed_texture_s3tc
        && e(Ce, {
          "rgb s3tc dxt1": Kf,
          "rgba s3tc dxt1": Zf,
          "rgba s3tc dxt3": Jf,
          "rgba s3tc dxt5": Qf,
        }),
        w.webgl_compressed_texture_atc
        && e(Ce, {
          "rgb atc": Rg,
          "rgba atc explicit alpha": Fg,
          "rgba atc interpolated alpha": Dg,
        }),
        w.webgl_compressed_texture_pvrtc
        && e(Ce, {
          "rgb pvrtc 4bppv1": $g,
          "rgb pvrtc 2bppv1": Mg,
          "rgba pvrtc 4bppv1": Ng,
          "rgba pvrtc 2bppv1": Pg,
        }),
        w.webgl_compressed_texture_etc1 && (Ce["rgb etc1"] = zg);
      var H = Array.prototype.slice.call(m.getParameter(O2));
      Object.keys(Ce).forEach(function(L) {
        var Q = Ce[L];
        H.indexOf(Q) >= 0 && (we[L] = Q);
      });
      var ie = Object.keys(we);
      F.textureFormats = ie;
      var Ie = [];
      Object.keys(we).forEach(function(L) {
        var Q = we[L];
        Ie[Q] = L;
      });
      var Ve = [];
      Object.keys(Me).forEach(function(L) {
        var Q = Me[L];
        Ve[Q] = L;
      });
      var ve = [];
      Object.keys(ke).forEach(function(L) {
        var Q = ke[L];
        ve[Q] = L;
      });
      var He = [];
      Object.keys(Oe).forEach(function(L) {
        var Q = Oe[L];
        He[Q] = L;
      });
      var Ue = [];
      Object.keys(be).forEach(function(L) {
        var Q = be[L];
        Ue[Q] = L;
      });
      var lt = ie.reduce(function(L, Q) {
        var Y = we[Q];
        return Y === hl || Y === Vf || Y === hl || Y === uc || Y === Wf
            || Y === fc || w.ext_srgb && (Y === Yf || Y === Xf)
          ? L[Y] = Y
          : Y === qf || Q.indexOf("rgba") >= 0
          ? L[Y] = to
          : L[Y] = cc,
          L;
      }, {});
      function fe() {
        this.internalformat = to,
          this.format = to,
          this.type = os,
          this.compressed = !1,
          this.premultiplyAlpha = !1,
          this.flipY = !1,
          this.unpackAlignment = 1,
          this.colorSpace = Gg,
          this.width = 0,
          this.height = 0,
          this.channels = 0;
      }
      function de(L, Q) {
        L.internalformat = Q.internalformat,
          L.format = Q.format,
          L.type = Q.type,
          L.compressed = Q.compressed,
          L.premultiplyAlpha = Q.premultiplyAlpha,
          L.flipY = Q.flipY,
          L.unpackAlignment = Q.unpackAlignment,
          L.colorSpace = Q.colorSpace,
          L.width = Q.width,
          L.height = Q.height,
          L.channels = Q.channels;
      }
      function Xe(L, Q) {
        if (!(typeof Q != "object" || !Q)) {
          if (
            "premultiplyAlpha" in Q
            && (v.type(
              Q.premultiplyAlpha,
              "boolean",
              "invalid premultiplyAlpha",
            ),
              L.premultiplyAlpha = Q.premultiplyAlpha),
              "flipY" in Q
              && (v.type(Q.flipY, "boolean", "invalid texture flip"),
                L.flipY = Q.flipY),
              "alignment" in Q
              && (v.oneOf(
                Q.alignment,
                [1, 2, 4, 8],
                "invalid texture unpack alignment",
              ),
                L.unpackAlignment = Q.alignment),
              "colorSpace" in Q
              && (v.parameter(Q.colorSpace, Le, "invalid colorSpace"),
                L.colorSpace = Le[Q.colorSpace]),
              "type" in Q
          ) {
            var Y = Q.type;
            v(
              w.oes_texture_float || !(Y === "float" || Y === "float32"),
              "you must enable the OES_texture_float extension in order to use floating point textures.",
            ),
              v(
                w.oes_texture_half_float
                  || !(Y === "half float" || Y === "float16"),
                "you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures.",
              ),
              v(
                w.webgl_depth_texture
                  || !(Y === "uint16" || Y === "uint32"
                    || Y === "depth stencil"),
                "you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures.",
              ),
              v.parameter(Y, Me, "invalid texture type"),
              L.type = Me[Y];
          }
          var Ye = L.width, Ct = L.height, T = L.channels, b = !1;
          "shape" in Q
            ? (v(
              Array.isArray(Q.shape) && Q.shape.length >= 2,
              "shape must be an array",
            ),
              Ye = Q.shape[0],
              Ct = Q.shape[1],
              Q.shape.length === 3
              && (T = Q.shape[2],
                v(T > 0 && T <= 4, "invalid number of channels"),
                b = !0),
              v(Ye >= 0 && Ye <= F.maxTextureSize, "invalid width"),
              v(Ct >= 0 && Ct <= F.maxTextureSize, "invalid height"))
            : ("radius" in Q
              && (Ye = Ct = Q.radius,
                v(Ye >= 0 && Ye <= F.maxTextureSize, "invalid radius")),
              "width" in Q
              && (Ye = Q.width,
                v(Ye >= 0 && Ye <= F.maxTextureSize, "invalid width")),
              "height" in Q
              && (Ct = Q.height,
                v(Ct >= 0 && Ct <= F.maxTextureSize, "invalid height")),
              "channels" in Q
              && (T = Q.channels,
                v(T > 0 && T <= 4, "invalid number of channels"),
                b = !0)),
            L.width = Ye | 0,
            L.height = Ct | 0,
            L.channels = T | 0;
          var M = !1;
          if ("format" in Q) {
            var U = Q.format;
            v(
              w.webgl_depth_texture
                || !(U === "depth" || U === "depth stencil"),
              "you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures.",
            ), v.parameter(U, we, "invalid texture format");
            var j = L.internalformat = we[U];
            L.format = lt[j],
              U in Me && ("type" in Q || (L.type = Me[U])),
              U in Ce && (L.compressed = !0),
              M = !0;
          }
          !b && M
            ? L.channels = ln[L.format]
            : b && !M
            ? L.channels !== hc[L.format]
              && (L.format = L.internalformat = hc[L.channels])
            : M && b
              && v(
                L.channels === ln[L.format],
                "number of channels inconsistent with specified format",
              );
        }
      }
      function Ne(L) {
        m.pixelStorei(Y2, L.flipY),
          m.pixelStorei(X2, L.premultiplyAlpha),
          m.pixelStorei(K2, L.colorSpace),
          m.pixelStorei(W2, L.unpackAlignment);
      }
      function Ae() {
        fe.call(this),
          this.xOffset = 0,
          this.yOffset = 0,
          this.data = null,
          this.needsFree = !1,
          this.element = null,
          this.needsCopy = !1;
      }
      function Pe(L, Q) {
        var Y = null;
        if (
          om(Q)
            ? Y = Q
            : Q
              && (v.type(Q, "object", "invalid pixel data type"),
                Xe(L, Q),
                "x" in Q && (L.xOffset = Q.x | 0),
                "y" in Q && (L.yOffset = Q.y | 0),
                om(Q.data) && (Y = Q.data)),
            v(
              !L.compressed || Y instanceof Uint8Array,
              "compressed texture data must be stored in a uint8array",
            ),
            Q.copy
        ) {
          v(!Y, "can not specify copy and data field for the same texture");
          var Ye = ce.viewportWidth, Ct = ce.viewportHeight;
          L.width = L.width || Ye - L.xOffset,
            L.height = L.height || Ct - L.yOffset,
            L.needsCopy = !0,
            v(
              L.xOffset >= 0 && L.xOffset < Ye && L.yOffset >= 0
                && L.yOffset < Ct && L.width > 0 && L.width <= Ye
                && L.height > 0 && L.height <= Ct,
              "copy texture read out of bounds",
            );
        }
        else if (!Y) {
          L.width = L.width || 1,
            L.height = L.height || 1,
            L.channels = L.channels || 4;
        }
        else if (t(Y)) {
          L.channels = L.channels || 4,
            L.data = Y,
            !("type" in Q) && L.type === os && (L.type = Qg(Y));
        }
        else if (Xg(Y)) {
          L.channels = L.channels || 4,
            rS(L, Y),
            L.alignment = 1,
            L.needsFree = !0;
        }
        else if (bn(Y)) {
          var T = Y.data;
          !Array.isArray(T) && L.type === os && (L.type = Qg(T));
          var b = Y.shape, M = Y.stride, U, j, P, N, B, C;
          b.length === 3
            ? (P = b[2], C = M[2])
            : (v(b.length === 2, "invalid ndarray pixel data, must be 2 or 3D"),
              P = 1,
              C = 1),
            U = b[0],
            j = b[1],
            N = M[0],
            B = M[1],
            L.alignment = 1,
            L.width = U,
            L.height = j,
            L.channels = P,
            L.format = L.internalformat = hc[P],
            L.needsFree = !0,
            nS(L, T, N, B, C, Y.offset);
        }
        else if (Zg(Y) || Jg(Y) || Q2(Y)) {
          Zg(Y) || Jg(Y) ? L.element = Y : L.element = Y.canvas,
            L.width = L.element.width,
            L.height = L.element.height,
            L.channels = 4;
        }
        else if (eS(Y)) {L.element = Y,
            L.width = Y.width,
            L.height = Y.height,
            L.channels = 4;}
        else if (tS(Y)) {
          L.element = Y,
            L.width = Y.naturalWidth,
            L.height = Y.naturalHeight,
            L.channels = 4;
        }
        else if (iS(Y)) {
          L.element = Y,
            L.width = Y.videoWidth,
            L.height = Y.videoHeight,
            L.channels = 4;
        }
        else if (Kg(Y)) {
          var O = L.width || Y[0].length,
            k = L.height || Y.length,
            W = L.channels;
          Ri(Y[0][0]) ? W = W || Y[0][0].length : W = W || 1;
          for (var q = oc.shape(Y), se = 1, he = 0; he < q.length; ++he) {
            se *= q[he];
          }
          var $e = e0(L, se);
          oc.flatten(Y, q, "", $e),
            t0(L, $e),
            L.alignment = 1,
            L.width = O,
            L.height = k,
            L.channels = W,
            L.format = L.internalformat = hc[W],
            L.needsFree = !0;
        }
        L.type === pl
          ? v(
            F.extensions.indexOf("oes_texture_float") >= 0,
            "oes_texture_float extension not enabled",
          )
          : L.type === as
            && v(
              F.extensions.indexOf("oes_texture_half_float") >= 0,
              "oes_texture_half_float extension not enabled",
            );
      }
      function ze(L, Q, Y) {
        var Ye = L.element,
          Ct = L.data,
          T = L.internalformat,
          b = L.format,
          M = L.type,
          U = L.width,
          j = L.height;
        Ne(L),
          Ye
            ? m.texImage2D(Q, Y, b, b, M, Ye)
            : L.compressed
            ? m.compressedTexImage2D(Q, Y, T, U, j, 0, Ct)
            : L.needsCopy
            ? (J(), m.copyTexImage2D(Q, Y, b, L.xOffset, L.yOffset, U, j, 0))
            : m.texImage2D(Q, Y, b, U, j, 0, b, M, Ct || null);
      }
      function yt(L, Q, Y, Ye, Ct) {
        var T = L.element,
          b = L.data,
          M = L.internalformat,
          U = L.format,
          j = L.type,
          P = L.width,
          N = L.height;
        Ne(L),
          T
            ? m.texSubImage2D(Q, Ct, Y, Ye, U, j, T)
            : L.compressed
            ? m.compressedTexSubImage2D(Q, Ct, Y, Ye, M, P, N, b)
            : L.needsCopy
            ? (J(),
              m.copyTexSubImage2D(Q, Ct, Y, Ye, L.xOffset, L.yOffset, P, N))
            : m.texSubImage2D(Q, Ct, Y, Ye, P, N, U, j, b);
      }
      var _t = [];
      function Ge() {
        return _t.pop() || new Ae();
      }
      function je(L) {
        L.needsFree && zi.freeType(L.data), Ae.call(L), _t.push(L);
      }
      function ht() {
        fe.call(this),
          this.genMipmaps = !1,
          this.mipmapHint = mc,
          this.mipmask = 0,
          this.images = Array(16);
      }
      function wt(L, Q, Y) {
        var Ye = L.images[0] = Ge();
        L.mipmask = 1,
          Ye.width = L.width = Q,
          Ye.height = L.height = Y,
          Ye.channels = L.channels = 4;
      }
      function kt(L, Q) {
        var Y = null;
        if (om(Q)) Y = L.images[0] = Ge(), de(Y, L), Pe(Y, Q), L.mipmask = 1;
        else if (Xe(L, Q), Array.isArray(Q.mipmap)) {
          for (var Ye = Q.mipmap, Ct = 0; Ct < Ye.length; ++Ct) {
            Y = L.images[Ct] = Ge(),
              de(Y, L),
              Y.width >>= Ct,
              Y.height >>= Ct,
              Pe(Y, Ye[Ct]),
              L.mipmask |= 1 << Ct;
          }
        }
        else Y = L.images[0] = Ge(), de(Y, L), Pe(Y, Q), L.mipmask = 1;
        de(L, L.images[0]),
          L.compressed
          && (L.internalformat === Kf || L.internalformat === Zf
            || L.internalformat === Jf || L.internalformat === Qf)
          && v(
            L.width % 4 === 0 && L.height % 4 === 0,
            "for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4",
          );
      }
      function Fi(L, Q) {
        for (var Y = L.images, Ye = 0; Ye < Y.length; ++Ye) {
          if (!Y[Ye]) return;
          ze(Y[Ye], Q, Ye);
        }
      }
      var Mi = [];
      function Dt() {
        var L = Mi.pop() || new ht();
        fe.call(L), L.mipmask = 0;
        for (var Q = 0; Q < 16; ++Q) L.images[Q] = null;
        return L;
      }
      function rr(L) {
        for (var Q = L.images, Y = 0; Y < Q.length; ++Y) {
          Q[Y] && je(Q[Y]), Q[Y] = null;
        }
        Mi.push(L);
      }
      function Ti() {
        this.minFilter = rm,
          this.magFilter = rm,
          this.wrapS = im,
          this.wrapT = im,
          this.anisotropic = 1,
          this.genMipmaps = !1,
          this.mipmapHint = mc;
      }
      function Xi(L, Q) {
        if ("min" in Q) {
          var Y = Q.min;
          v.parameter(Y, Oe),
            L.minFilter = Oe[Y],
            Z2.indexOf(L.minFilter) >= 0 && !("faces" in Q)
            && (L.genMipmaps = !0);
        }
        if ("mag" in Q) {
          var Ye = Q.mag;
          v.parameter(Ye, ke), L.magFilter = ke[Ye];
        }
        var Ct = L.wrapS, T = L.wrapT;
        if ("wrap" in Q) {
          var b = Q.wrap;
          typeof b == "string" ? (v.parameter(b, be), Ct = T = be[b])
          : Array.isArray(b)
            && (v.parameter(b[0], be),
              v.parameter(b[1], be),
              Ct = be[b[0]],
              T = be[b[1]]);
        }
        else {
          if ("wrapS" in Q) {
            var M = Q.wrapS;
            v.parameter(M, be), Ct = be[M];
          }
          if ("wrapT" in Q) {
            var U = Q.wrapT;
            v.parameter(U, be), T = be[U];
          }
        }
        if (L.wrapS = Ct, L.wrapT = T, "anisotropic" in Q) {
          var j = Q.anisotropic;
          v(
            typeof j == "number" && j >= 1 && j <= F.maxAnisotropic,
            "aniso samples must be between 1 and ",
          ), L.anisotropic = Q.anisotropic;
        }
        if ("mipmap" in Q) {
          var P = !1;
          switch (typeof Q.mipmap) {
            case "string":
              v.parameter(Q.mipmap, ye, "invalid mipmap hint"),
                L.mipmapHint = ye[Q.mipmap],
                L.genMipmaps = !0,
                P = !0;
              break;
            case "boolean":
              P = L.genMipmaps = Q.mipmap;
              break;
            case "object":
              v(Array.isArray(Q.mipmap), "invalid mipmap type"),
                L.genMipmaps = !1,
                P = !0;
              break;
            default:
              v.raise("invalid mipmap type");
          }
          P && !("min" in Q) && (L.minFilter = nm);
        }
      }
      function nr(L, Q) {
        m.texParameteri(Q, U2, L.minFilter),
          m.texParameteri(Q, B2, L.magFilter),
          m.texParameteri(Q, M2, L.wrapS),
          m.texParameteri(Q, N2, L.wrapT),
          w.ext_texture_filter_anisotropic
          && m.texParameteri(Q, q2, L.anisotropic),
          L.genMipmaps && (m.hint(H2, L.mipmapHint), m.generateMipmap(Q));
      }
      var ar = 0,
        hr = {},
        _r = F.maxTextureUnits,
        Hi = Array(_r).map(function() {
          return null;
        });
      function Et(L) {
        fe.call(this),
          this.mipmask = 0,
          this.internalformat = to,
          this.id = ar++,
          this.refCount = 1,
          this.target = L,
          this.texture = m.createTexture(),
          this.unit = -1,
          this.bindCount = 0,
          this.texInfo = new Ti(),
          re.profile && (this.stats = { size: 0 });
      }
      function xr(L) {
        m.activeTexture(gl), m.bindTexture(L.target, L.texture);
      }
      function ii() {
        var L = Hi[0];
        L ? m.bindTexture(L.target, L.texture) : m.bindTexture(Fn, null);
      }
      function ut(L) {
        var Q = L.texture;
        v(Q, "must not double destroy texture");
        var Y = L.unit, Ye = L.target;
        Y >= 0
        && (m.activeTexture(gl + Y), m.bindTexture(Ye, null), Hi[Y] = null),
          m.deleteTexture(Q),
          L.texture = null,
          L.params = null,
          L.pixels = null,
          L.refCount = 0,
          delete hr[L.id],
          Z.textureCount--;
      }
      e(Et.prototype, {
        bind: function() {
          var L = this;
          L.bindCount += 1;
          var Q = L.unit;
          if (Q < 0) {
            for (var Y = 0; Y < _r; ++Y) {
              var Ye = Hi[Y];
              if (Ye) {
                if (Ye.bindCount > 0) continue;
                Ye.unit = -1;
              }
              Hi[Y] = L, Q = Y;
              break;
            }
            Q >= _r && v.raise("insufficient number of texture units"),
              re.profile && Z.maxTextureUnits < Q + 1
              && (Z.maxTextureUnits = Q + 1),
              L.unit = Q,
              m.activeTexture(gl + Q),
              m.bindTexture(L.target, L.texture);
          }
          return Q;
        },
        unbind: function() {
          this.bindCount -= 1;
        },
        decRef: function() {
          --this.refCount <= 0 && ut(this);
        },
      });
      function Lt(L, Q) {
        var Y = new Et(Fn);
        hr[Y.id] = Y, Z.textureCount++;
        function Ye(b, M) {
          var U = Y.texInfo;
          Ti.call(U);
          var j = Dt();
          return typeof b == "number"
            ? typeof M == "number" ? wt(j, b | 0, M | 0) : wt(j, b | 0, b | 0)
            : b
            ? (v.type(b, "object", "invalid arguments to regl.texture"),
              Xi(U, b),
              kt(j, b))
            : wt(j, 1, 1),
            U.genMipmaps && (j.mipmask = (j.width << 1) - 1),
            Y.mipmask = j.mipmask,
            de(Y, j),
            v.texture2D(U, j, F),
            Y.internalformat = j.internalformat,
            Ye.width = j.width,
            Ye.height = j.height,
            xr(Y),
            Fi(j, Fn),
            nr(U, Fn),
            ii(),
            rr(j),
            re.profile
            && (Y.stats.size = pc(
              Y.internalformat,
              Y.type,
              j.width,
              j.height,
              U.genMipmaps,
              !1,
            )),
            Ye.format = Ie[Y.internalformat],
            Ye.type = Ve[Y.type],
            Ye.mag = ve[U.magFilter],
            Ye.min = He[U.minFilter],
            Ye.wrapS = Ue[U.wrapS],
            Ye.wrapT = Ue[U.wrapT],
            Ye;
        }
        function Ct(b, M, U, j) {
          v(!!b, "must specify image data");
          var P = M | 0, N = U | 0, B = j | 0, C = Ge();
          return de(C, Y),
            C.width = 0,
            C.height = 0,
            Pe(C, b),
            C.width = C.width || (Y.width >> B) - P,
            C.height = C.height || (Y.height >> B) - N,
            v(
              Y.type === C.type && Y.format === C.format
                && Y.internalformat === C.internalformat,
              "incompatible format for texture.subimage",
            ),
            v(
              P >= 0 && N >= 0 && P + C.width <= Y.width
                && N + C.height <= Y.height,
              "texture.subimage write out of bounds",
            ),
            v(Y.mipmask & 1 << B, "missing mipmap data"),
            v(C.data || C.element || C.needsCopy, "missing image data"),
            xr(Y),
            yt(C, Fn, P, N, B),
            ii(),
            je(C),
            Ye;
        }
        function T(b, M) {
          var U = b | 0, j = M | 0 || U;
          if (U === Y.width && j === Y.height) return Ye;
          Ye.width = Y.width = U, Ye.height = Y.height = j, xr(Y);
          for (var P = 0; Y.mipmask >> P; ++P) {
            var N = U >> P, B = j >> P;
            if (!N || !B) break;
            m.texImage2D(Fn, P, Y.format, N, B, 0, Y.format, Y.type, null);
          }
          return ii(),
            re.profile
            && (Y.stats.size = pc(Y.internalformat, Y.type, U, j, !1, !1)),
            Ye;
        }
        return Ye(L, Q),
          Ye.subimage = Ct,
          Ye.resize = T,
          Ye._reglType = "texture2d",
          Ye._texture = Y,
          re.profile && (Ye.stats = Y.stats),
          Ye.destroy = function() {
            Y.decRef();
          },
          Ye;
      }
      function Pt(L, Q, Y, Ye, Ct, T) {
        var b = new Et(jf);
        hr[b.id] = b, Z.cubeCount++;
        var M = new Array(6);
        function U(N, B, C, O, k, W) {
          var q, se = b.texInfo;
          for (Ti.call(se), q = 0; q < 6; ++q) M[q] = Dt();
          if (typeof N == "number" || !N) {
            var he = N | 0 || 1;
            for (q = 0; q < 6; ++q) wt(M[q], he, he);
          }
          else if (typeof N == "object") {
            if (B) {
              kt(M[0], N),
                kt(M[1], B),
                kt(M[2], C),
                kt(M[3], O),
                kt(M[4], k),
                kt(M[5], W);
            }
            else if (Xi(se, N), Xe(b, N), "faces" in N) {
              var $e = N.faces;
              for (
                v(
                  Array.isArray($e) && $e.length === 6,
                  "cube faces must be a length 6 array",
                ), q = 0;
                q < 6;
                ++q
              ) {
                v(
                  typeof $e[q] == "object" && !!$e[q],
                  "invalid input for cube map face",
                ),
                  de(M[q], b),
                  kt(M[q], $e[q]);
              }
            }
            else for (q = 0; q < 6; ++q) kt(M[q], N);
          }
          else v.raise("invalid arguments to cube map");
          for (
            de(b, M[0]),
              v.optional(function() {
                F.npotTextureCube
                  || v(
                    kg(b.width) && kg(b.height),
                    "your browser does not support non power or two texture dimensions",
                  );
              }),
              se.genMipmaps
                ? b.mipmask = (M[0].width << 1) - 1
                : b.mipmask = M[0].mipmask,
              v.textureCube(b, se, M, F),
              b.internalformat = M[0].internalformat,
              U.width = M[0].width,
              U.height = M[0].height,
              xr(b),
              q = 0;
            q < 6;
            ++q
          ) {
            Fi(M[q], dc + q);
          }
          for (
            nr(se, jf),
              ii(),
              re.profile
              && (b.stats.size = pc(
                b.internalformat,
                b.type,
                U.width,
                U.height,
                se.genMipmaps,
                !0,
              )),
              U.format = Ie[b.internalformat],
              U.type = Ve[b.type],
              U.mag = ve[se.magFilter],
              U.min = He[se.minFilter],
              U.wrapS = Ue[se.wrapS],
              U.wrapT = Ue[se.wrapT],
              q = 0;
            q < 6;
            ++q
          ) {
            rr(M[q]);
          }
          return U;
        }
        function j(N, B, C, O, k) {
          v(!!B, "must specify image data"),
            v(
              typeof N == "number" && N === (N | 0) && N >= 0 && N < 6,
              "invalid face",
            );
          var W = C | 0, q = O | 0, se = k | 0, he = Ge();
          return de(he, b),
            he.width = 0,
            he.height = 0,
            Pe(he, B),
            he.width = he.width || (b.width >> se) - W,
            he.height = he.height || (b.height >> se) - q,
            v(
              b.type === he.type && b.format === he.format
                && b.internalformat === he.internalformat,
              "incompatible format for texture.subimage",
            ),
            v(
              W >= 0 && q >= 0 && W + he.width <= b.width
                && q + he.height <= b.height,
              "texture.subimage write out of bounds",
            ),
            v(b.mipmask & 1 << se, "missing mipmap data"),
            v(he.data || he.element || he.needsCopy, "missing image data"),
            xr(b),
            yt(he, dc + N, W, q, se),
            ii(),
            je(he),
            U;
        }
        function P(N) {
          var B = N | 0;
          if (B !== b.width) {
            U.width = b.width = B, U.height = b.height = B, xr(b);
            for (var C = 0; C < 6; ++C) {
              for (var O = 0; b.mipmask >> O; ++O) {
                m.texImage2D(
                  dc + C,
                  O,
                  b.format,
                  B >> O,
                  B >> O,
                  0,
                  b.format,
                  b.type,
                  null,
                );
              }
            }
            return ii(),
              re.profile
              && (b.stats.size = pc(
                b.internalformat,
                b.type,
                U.width,
                U.height,
                !1,
                !0,
              )),
              U;
          }
        }
        return U(L, Q, Y, Ye, Ct, T),
          U.subimage = j,
          U.resize = P,
          U._reglType = "textureCube",
          U._texture = b,
          re.profile && (U.stats = b.stats),
          U.destroy = function() {
            b.decRef();
          },
          U;
      }
      function ji() {
        for (var L = 0; L < _r; ++L) {m.activeTexture(gl + L),
            m.bindTexture(Fn, null),
            Hi[L] = null;}
        en(hr).forEach(ut), Z.cubeCount = 0, Z.textureCount = 0;
      }
      re.profile && (Z.getTotalTextureSize = function() {
        var L = 0;
        return Object.keys(hr).forEach(function(Q) {
          L += hr[Q].stats.size;
        }),
          L;
      });
      function $n() {
        for (var L = 0; L < _r; ++L) {
          var Q = Hi[L];
          Q && (Q.bindCount = 0, Q.unit = -1, Hi[L] = null);
        }
        en(hr).forEach(function(Y) {
          Y.texture = m.createTexture(), m.bindTexture(Y.target, Y.texture);
          for (var Ye = 0; Ye < 32; ++Ye) {
            if (Y.mipmask & 1 << Ye) {
              if (Y.target === Fn) {
                m.texImage2D(
                  Fn,
                  Ye,
                  Y.internalformat,
                  Y.width >> Ye,
                  Y.height >> Ye,
                  0,
                  Y.internalformat,
                  Y.type,
                  null,
                );
              }
              else {
                for (var Ct = 0; Ct < 6; ++Ct) {
                  m.texImage2D(
                    dc + Ct,
                    Ye,
                    Y.internalformat,
                    Y.width >> Ye,
                    Y.height >> Ye,
                    0,
                    Y.internalformat,
                    Y.type,
                    null,
                  );
                }
              }
            }
          }
          nr(Y.texInfo, Y.target);
        });
      }
      function co() {
        for (var L = 0; L < _r; ++L) {
          var Q = Hi[L];
          Q && (Q.bindCount = 0, Q.unit = -1, Hi[L] = null),
            m.activeTexture(gl + L),
            m.bindTexture(Fn, null),
            m.bindTexture(jf, null);
        }
      }
      return {
        create2D: Lt,
        createCube: Pt,
        clear: ji,
        getTexture: function(L) {
          return null;
        },
        restore: $n,
        refresh: co,
      };
    }
    var Aa = 36161,
      gc = 32854,
      i0 = 32855,
      r0 = 36194,
      n0 = 33189,
      a0 = 36168,
      o0 = 34041,
      s0 = 35907,
      l0 = 34836,
      d0 = 34842,
      c0 = 34843,
      yn = [];
    yn[gc] = 2,
      yn[i0] = 2,
      yn[r0] = 2,
      yn[n0] = 2,
      yn[a0] = 1,
      yn[o0] = 4,
      yn[s0] = 4,
      yn[l0] = 16,
      yn[d0] = 8,
      yn[c0] = 6;
    function u0(m, w, F) {
      return yn[m] * w * F;
    }
    var oS = function(m, w, F, J, ce) {
        var Z = {
          rgba4: gc,
          rgb565: r0,
          "rgb5 a1": i0,
          depth: n0,
          stencil: a0,
          "depth stencil": o0,
        };
        w.ext_srgb && (Z.srgba = s0),
          w.ext_color_buffer_half_float && (Z.rgba16f = d0, Z.rgb16f = c0),
          w.webgl_color_buffer_float && (Z.rgba32f = l0);
        var re = [];
        Object.keys(Z).forEach(function(we) {
          var Ce = Z[we];
          re[Ce] = we;
        });
        var ye = 0, be = {};
        function ke(we) {
          this.id = ye++,
            this.refCount = 1,
            this.renderbuffer = we,
            this.format = gc,
            this.width = 0,
            this.height = 0,
            ce.profile && (this.stats = { size: 0 });
        }
        ke.prototype.decRef = function() {
          --this.refCount <= 0 && Oe(this);
        };
        function Oe(we) {
          var Ce = we.renderbuffer;
          v(Ce, "must not double destroy renderbuffer"),
            m.bindRenderbuffer(Aa, null),
            m.deleteRenderbuffer(Ce),
            we.renderbuffer = null,
            we.refCount = 0,
            delete be[we.id],
            J.renderbufferCount--;
        }
        function Le(we, Ce) {
          var H = new ke(m.createRenderbuffer());
          be[H.id] = H, J.renderbufferCount++;
          function ie(Ve, ve) {
            var He = 0, Ue = 0, lt = gc;
            if (typeof Ve == "object" && Ve) {
              var fe = Ve;
              if ("shape" in fe) {
                var de = fe.shape;
                v(
                  Array.isArray(de) && de.length >= 2,
                  "invalid renderbuffer shape",
                ),
                  He = de[0] | 0,
                  Ue = de[1] | 0;
              }
              else {
                "radius" in fe && (He = Ue = fe.radius | 0),
                  "width" in fe && (He = fe.width | 0),
                  "height" in fe && (Ue = fe.height | 0);
              }
              "format" in fe
                && (v.parameter(fe.format, Z, "invalid renderbuffer format"),
                  lt = Z[fe.format]);
            }
            else {
              typeof Ve == "number"
                ? (He = Ve | 0, typeof ve == "number" ? Ue = ve | 0 : Ue = He)
                : Ve
                ? v.raise("invalid arguments to renderbuffer constructor")
                : He = Ue = 1;
            }
            if (
              v(
                He > 0 && Ue > 0 && He <= F.maxRenderbufferSize
                  && Ue <= F.maxRenderbufferSize,
                "invalid renderbuffer size",
              ), !(He === H.width && Ue === H.height && lt === H.format)
            ) {
              return ie.width = H.width = He,
                ie.height = H.height = Ue,
                H.format = lt,
                m.bindRenderbuffer(Aa, H.renderbuffer),
                m.renderbufferStorage(Aa, lt, He, Ue),
                v(m.getError() === 0, "invalid render buffer format"),
                ce.profile && (H.stats.size = u0(H.format, H.width, H.height)),
                ie.format = re[H.format],
                ie;
            }
          }
          function Ie(Ve, ve) {
            var He = Ve | 0, Ue = ve | 0 || He;
            return He === H.width && Ue === H.height
              || (v(
                He > 0 && Ue > 0 && He <= F.maxRenderbufferSize
                  && Ue <= F.maxRenderbufferSize,
                "invalid renderbuffer size",
              ),
                ie.width = H.width = He,
                ie.height = H.height = Ue,
                m.bindRenderbuffer(Aa, H.renderbuffer),
                m.renderbufferStorage(Aa, H.format, He, Ue),
                v(m.getError() === 0, "invalid render buffer format"),
                ce.profile && (H.stats.size = u0(H.format, H.width, H.height))),
              ie;
          }
          return ie(we, Ce),
            ie.resize = Ie,
            ie._reglType = "renderbuffer",
            ie._renderbuffer = H,
            ce.profile && (ie.stats = H.stats),
            ie.destroy = function() {
              H.decRef();
            },
            ie;
        }
        ce.profile && (J.getTotalRenderbufferSize = function() {
          var we = 0;
          return Object.keys(be).forEach(function(Ce) {
            we += be[Ce].stats.size;
          }),
            we;
        });
        function Me() {
          en(be).forEach(function(we) {
            we.renderbuffer = m.createRenderbuffer(),
              m.bindRenderbuffer(Aa, we.renderbuffer),
              m.renderbufferStorage(Aa, we.format, we.width, we.height);
          }), m.bindRenderbuffer(Aa, null);
        }
        return {
          create: Le,
          clear: function() {
            en(be).forEach(Oe);
          },
          restore: Me,
        };
      },
      ra = 36160,
      sm = 36161,
      ro = 3553,
      vc = 34069,
      f0 = 36064,
      m0 = 36096,
      h0 = 36128,
      p0 = 33306,
      g0 = 36053,
      sS = 36054,
      lS = 36055,
      dS = 36057,
      cS = 36061,
      uS = 36193,
      fS = 5121,
      mS = 5126,
      v0 = 6407,
      _0 = 6408,
      hS = 6402,
      pS = [v0, _0],
      lm = [];
    lm[_0] = 4, lm[v0] = 3;
    var _c = [];
    _c[fS] = 1, _c[mS] = 4, _c[uS] = 2;
    var gS = 32854,
      vS = 32855,
      _S = 36194,
      xS = 33189,
      bS = 36168,
      x0 = 34041,
      yS = 35907,
      wS = 34836,
      SS = 34842,
      ES = 34843,
      TS = [gS, vS, _S, yS, SS, ES, wS],
      ds = {};
    ds[g0] = "complete",
      ds[sS] = "incomplete attachment",
      ds[dS] = "incomplete dimensions",
      ds[lS] = "incomplete, missing attachment",
      ds[cS] = "unsupported";
    function AS(m, w, F, J, ce, Z) {
      var re = { cur: null, next: null, dirty: !1, setFBO: null },
        ye = ["rgba"],
        be = ["rgba4", "rgb565", "rgb5 a1"];
      w.ext_srgb && be.push("srgba"),
        w.ext_color_buffer_half_float && be.push("rgba16f", "rgb16f"),
        w.webgl_color_buffer_float && be.push("rgba32f");
      var ke = ["uint8"];
      w.oes_texture_half_float && ke.push("half float", "float16"),
        w.oes_texture_float && ke.push("float", "float32");
      function Oe(Ae, Pe, ze) {
        this.target = Ae, this.texture = Pe, this.renderbuffer = ze;
        var yt = 0, _t = 0;
        Pe
          ? (yt = Pe.width, _t = Pe.height)
          : ze && (yt = ze.width, _t = ze.height),
          this.width = yt,
          this.height = _t;
      }
      function Le(Ae) {
        Ae
          && (Ae.texture && Ae.texture._texture.decRef(),
            Ae.renderbuffer && Ae.renderbuffer._renderbuffer.decRef());
      }
      function Me(Ae, Pe, ze) {
        if (Ae) {
          if (Ae.texture) {
            var yt = Ae.texture._texture,
              _t = Math.max(1, yt.width),
              Ge = Math.max(1, yt.height);
            v(
              _t === Pe && Ge === ze,
              "inconsistent width/height for supplied texture",
            ), yt.refCount += 1;
          }
          else {
            var je = Ae.renderbuffer._renderbuffer;
            v(
              je.width === Pe && je.height === ze,
              "inconsistent width/height for renderbuffer",
            ), je.refCount += 1;
          }
        }
      }
      function we(Ae, Pe) {
        Pe && (Pe.texture
          ? m.framebufferTexture2D(
            ra,
            Ae,
            Pe.target,
            Pe.texture._texture.texture,
            0,
          )
          : m.framebufferRenderbuffer(
            ra,
            Ae,
            sm,
            Pe.renderbuffer._renderbuffer.renderbuffer,
          ));
      }
      function Ce(Ae) {
        var Pe = ro, ze = null, yt = null, _t = Ae;
        typeof Ae == "object"
        && (_t = Ae.data, "target" in Ae && (Pe = Ae.target | 0)),
          v.type(_t, "function", "invalid attachment data");
        var Ge = _t._reglType;
        return Ge === "texture2d"
          ? (ze = _t, v(Pe === ro))
          : Ge === "textureCube"
          ? (ze = _t, v(Pe >= vc && Pe < vc + 6, "invalid cube map target"))
          : Ge === "renderbuffer"
          ? (yt = _t, Pe = sm)
          : v.raise("invalid regl object for attachment"),
          new Oe(Pe, ze, yt);
      }
      function H(Ae, Pe, ze, yt, _t) {
        if (ze) {
          var Ge = J.create2D({ width: Ae, height: Pe, format: yt, type: _t });
          return Ge._texture.refCount = 0, new Oe(ro, Ge, null);
        }
        else {
          var je = ce.create({ width: Ae, height: Pe, format: yt });
          return je._renderbuffer.refCount = 0, new Oe(sm, null, je);
        }
      }
      function ie(Ae) {
        return Ae && (Ae.texture || Ae.renderbuffer);
      }
      function Ie(Ae, Pe, ze) {
        Ae
          && (Ae.texture
            ? Ae.texture.resize(Pe, ze)
            : Ae.renderbuffer && Ae.renderbuffer.resize(Pe, ze),
            Ae.width = Pe,
            Ae.height = ze);
      }
      var Ve = 0, ve = {};
      function He() {
        this.id = Ve++,
          ve[this.id] = this,
          this.framebuffer = m.createFramebuffer(),
          this.width = 0,
          this.height = 0,
          this.colorAttachments = [],
          this.depthAttachment = null,
          this.stencilAttachment = null,
          this.depthStencilAttachment = null;
      }
      function Ue(Ae) {
        Ae.colorAttachments.forEach(Le),
          Le(Ae.depthAttachment),
          Le(Ae.stencilAttachment),
          Le(Ae.depthStencilAttachment);
      }
      function lt(Ae) {
        var Pe = Ae.framebuffer;
        v(Pe, "must not double destroy framebuffer"),
          m.deleteFramebuffer(Pe),
          Ae.framebuffer = null,
          Z.framebufferCount--,
          delete ve[Ae.id];
      }
      function fe(Ae) {
        var Pe;
        m.bindFramebuffer(ra, Ae.framebuffer);
        var ze = Ae.colorAttachments;
        for (Pe = 0; Pe < ze.length; ++Pe) we(f0 + Pe, ze[Pe]);
        for (Pe = ze.length; Pe < F.maxColorAttachments; ++Pe) {
          m.framebufferTexture2D(ra, f0 + Pe, ro, null, 0);
        }
        m.framebufferTexture2D(ra, p0, ro, null, 0),
          m.framebufferTexture2D(ra, m0, ro, null, 0),
          m.framebufferTexture2D(ra, h0, ro, null, 0),
          we(m0, Ae.depthAttachment),
          we(h0, Ae.stencilAttachment),
          we(p0, Ae.depthStencilAttachment);
        var yt = m.checkFramebufferStatus(ra);
        !m.isContextLost() && yt !== g0
        && v.raise(
          "framebuffer configuration not supported, status = " + ds[yt],
        ),
          m.bindFramebuffer(ra, re.next ? re.next.framebuffer : null),
          re.cur = re.next,
          m.getError();
      }
      function de(Ae, Pe) {
        var ze = new He();
        Z.framebufferCount++;
        function yt(Ge, je) {
          var ht;
          v(
            re.next !== ze,
            "can not update framebuffer which is currently in use",
          );
          var wt = 0,
            kt = 0,
            Fi = !0,
            Mi = !0,
            Dt = null,
            rr = !0,
            Ti = "rgba",
            Xi = "uint8",
            nr = 1,
            ar = null,
            hr = null,
            _r = null,
            Hi = !1;
          if (typeof Ge == "number") wt = Ge | 0, kt = je | 0 || wt;
          else if (!Ge) wt = kt = 1;
          else {
            v.type(Ge, "object", "invalid arguments for framebuffer");
            var Et = Ge;
            if ("shape" in Et) {
              var xr = Et.shape;
              v(
                Array.isArray(xr) && xr.length >= 2,
                "invalid shape for framebuffer",
              ),
                wt = xr[0],
                kt = xr[1];
            }
            else {
              "radius" in Et && (wt = kt = Et.radius),
                "width" in Et && (wt = Et.width),
                "height" in Et && (kt = Et.height);
            }
            ("color" in Et || "colors" in Et)
            && (Dt = Et.color || Et.colors,
              Array.isArray(Dt)
              && v(
                Dt.length === 1 || w.webgl_draw_buffers,
                "multiple render targets not supported",
              )),
              Dt
              || ("colorCount" in Et
                && (nr = Et.colorCount | 0,
                  v(nr > 0, "invalid color buffer count")),
                "colorTexture" in Et && (rr = !!Et.colorTexture, Ti = "rgba4"),
                "colorType" in Et && (Xi = Et.colorType,
                  rr
                    ? (v(
                      w.oes_texture_float
                        || !(Xi === "float" || Xi === "float32"),
                      "you must enable OES_texture_float in order to use floating point framebuffer objects",
                    ),
                      v(
                        w.oes_texture_half_float
                          || !(Xi === "half float" || Xi === "float16"),
                        "you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects",
                      ))
                    : Xi === "half float" || Xi === "float16"
                    ? (v(
                      w.ext_color_buffer_half_float,
                      "you must enable EXT_color_buffer_half_float to use 16-bit render buffers",
                    ),
                      Ti = "rgba16f")
                    : (Xi === "float" || Xi === "float32")
                      && (v(
                        w.webgl_color_buffer_float,
                        "you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers",
                      ),
                        Ti = "rgba32f"),
                  v.oneOf(Xi, ke, "invalid color type")),
                "colorFormat" in Et && (Ti = Et.colorFormat,
                  ye.indexOf(Ti) >= 0
                    ? rr = !0
                    : be.indexOf(Ti) >= 0
                    ? rr = !1
                    : v.optional(function() {
                      rr
                        ? v.oneOf(
                          Et.colorFormat,
                          ye,
                          "invalid color format for texture",
                        )
                        : v.oneOf(
                          Et.colorFormat,
                          be,
                          "invalid color format for renderbuffer",
                        );
                    }))),
              ("depthTexture" in Et || "depthStencilTexture" in Et)
              && (Hi = !!(Et.depthTexture || Et.depthStencilTexture),
                v(
                  !Hi || w.webgl_depth_texture,
                  "webgl_depth_texture extension not supported",
                )),
              "depth" in Et
              && (typeof Et.depth == "boolean"
                ? Fi = Et.depth
                : (ar = Et.depth, Mi = !1)),
              "stencil" in Et
              && (typeof Et.stencil == "boolean"
                ? Mi = Et.stencil
                : (hr = Et.stencil, Fi = !1)),
              "depthStencil" in Et
              && (typeof Et.depthStencil == "boolean"
                ? Fi = Mi = Et.depthStencil
                : (_r = Et.depthStencil, Fi = !1, Mi = !1));
          }
          var ii = null, ut = null, Lt = null, Pt = null;
          if (Array.isArray(Dt)) ii = Dt.map(Ce);
          else if (Dt) ii = [Ce(Dt)];
          else {
            for (ii = new Array(nr), ht = 0; ht < nr; ++ht) {
              ii[ht] = H(wt, kt, rr, Ti, Xi);
            }
          }
          v(
            w.webgl_draw_buffers || ii.length <= 1,
            "you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers.",
          ),
            v(
              ii.length <= F.maxColorAttachments,
              "too many color attachments, not supported",
            ),
            wt = wt || ii[0].width,
            kt = kt || ii[0].height,
            ar
              ? ut = Ce(ar)
              : Fi && !Mi && (ut = H(wt, kt, Hi, "depth", "uint32")),
            hr
              ? Lt = Ce(hr)
              : Mi && !Fi && (Lt = H(wt, kt, !1, "stencil", "uint8")),
            _r
              ? Pt = Ce(_r)
              : !ar && !hr && Mi && Fi
                && (Pt = H(wt, kt, Hi, "depth stencil", "depth stencil")),
            v(
              !!ar + !!hr + !!_r <= 1,
              "invalid framebuffer configuration, can specify exactly one depth/stencil attachment",
            );
          var ji = null;
          for (ht = 0; ht < ii.length; ++ht) {
            if (
              Me(ii[ht], wt, kt),
                v(
                  !ii[ht]
                    || ii[ht].texture
                      && pS.indexOf(ii[ht].texture._texture.format) >= 0
                    || ii[ht].renderbuffer
                      && TS.indexOf(ii[ht].renderbuffer._renderbuffer.format)
                        >= 0,
                  "framebuffer color attachment " + ht + " is invalid",
                ),
                ii[ht] && ii[ht].texture
            ) {
              var $n = lm[ii[ht].texture._texture.format]
                * _c[ii[ht].texture._texture.type];
              ji === null
                ? ji = $n
                : v(
                  ji === $n,
                  "all color attachments much have the same number of bits per pixel.",
                );
            }
          }
          return Me(ut, wt, kt),
            v(
              !ut || ut.texture && ut.texture._texture.format === hS
                || ut.renderbuffer
                  && ut.renderbuffer._renderbuffer.format === xS,
              "invalid depth attachment for framebuffer object",
            ),
            Me(Lt, wt, kt),
            v(
              !Lt
                || Lt.renderbuffer
                  && Lt.renderbuffer._renderbuffer.format === bS,
              "invalid stencil attachment for framebuffer object",
            ),
            Me(Pt, wt, kt),
            v(
              !Pt || Pt.texture && Pt.texture._texture.format === x0
                || Pt.renderbuffer
                  && Pt.renderbuffer._renderbuffer.format === x0,
              "invalid depth-stencil attachment for framebuffer object",
            ),
            Ue(ze),
            ze.width = wt,
            ze.height = kt,
            ze.colorAttachments = ii,
            ze.depthAttachment = ut,
            ze.stencilAttachment = Lt,
            ze.depthStencilAttachment = Pt,
            yt.color = ii.map(ie),
            yt.depth = ie(ut),
            yt.stencil = ie(Lt),
            yt.depthStencil = ie(Pt),
            yt.width = ze.width,
            yt.height = ze.height,
            fe(ze),
            yt;
        }
        function _t(Ge, je) {
          v(
            re.next !== ze,
            "can not resize a framebuffer which is currently in use",
          );
          var ht = Math.max(Ge | 0, 1), wt = Math.max(je | 0 || ht, 1);
          if (ht === ze.width && wt === ze.height) return yt;
          for (var kt = ze.colorAttachments, Fi = 0; Fi < kt.length; ++Fi) {
            Ie(kt[Fi], ht, wt);
          }
          return Ie(ze.depthAttachment, ht, wt),
            Ie(ze.stencilAttachment, ht, wt),
            Ie(ze.depthStencilAttachment, ht, wt),
            ze.width = yt.width = ht,
            ze.height = yt.height = wt,
            fe(ze),
            yt;
        }
        return yt(Ae, Pe),
          e(yt, {
            resize: _t,
            _reglType: "framebuffer",
            _framebuffer: ze,
            destroy: function() {
              lt(ze), Ue(ze);
            },
            use: function(Ge) {
              re.setFBO({ framebuffer: yt }, Ge);
            },
          });
      }
      function Xe(Ae) {
        var Pe = Array(6);
        function ze(_t) {
          var Ge;
          v(
            Pe.indexOf(re.next) < 0,
            "can not update framebuffer which is currently in use",
          );
          var je = { color: null },
            ht = 0,
            wt = null,
            kt = "rgba",
            Fi = "uint8",
            Mi = 1;
          if (typeof _t == "number") {
            ht = _t | 0;
          }
          else if (!_t) ht = 1;
          else {
            v.type(_t, "object", "invalid arguments for framebuffer");
            var Dt = _t;
            if ("shape" in Dt) {
              var rr = Dt.shape;
              v(
                Array.isArray(rr) && rr.length >= 2,
                "invalid shape for framebuffer",
              ),
                v(rr[0] === rr[1], "cube framebuffer must be square"),
                ht = rr[0];
            }
            else {
              "radius" in Dt && (ht = Dt.radius | 0),
                "width" in Dt
                  ? (ht = Dt.width | 0,
                    "height" in Dt && v(Dt.height === ht, "must be square"))
                  : "height" in Dt && (ht = Dt.height | 0);
            }
            ("color" in Dt || "colors" in Dt)
            && (wt = Dt.color || Dt.colors,
              Array.isArray(wt)
              && v(
                wt.length === 1 || w.webgl_draw_buffers,
                "multiple render targets not supported",
              )),
              wt
              || ("colorCount" in Dt
                && (Mi = Dt.colorCount | 0,
                  v(Mi > 0, "invalid color buffer count")),
                "colorType" in Dt
                && (v.oneOf(Dt.colorType, ke, "invalid color type"),
                  Fi = Dt.colorType),
                "colorFormat" in Dt
                && (kt = Dt.colorFormat,
                  v.oneOf(
                    Dt.colorFormat,
                    ye,
                    "invalid color format for texture",
                  ))),
              "depth" in Dt && (je.depth = Dt.depth),
              "stencil" in Dt && (je.stencil = Dt.stencil),
              "depthStencil" in Dt && (je.depthStencil = Dt.depthStencil);
          }
          var Ti;
          if (wt) {
            if (Array.isArray(wt)) {for (
                Ti = [], Ge = 0; Ge < wt.length; ++Ge
              )
              {
                Ti[Ge] = wt[Ge];
              }}
            else Ti = [wt];
          }
          else {
            Ti = Array(Mi);
            var Xi = { radius: ht, format: kt, type: Fi };
            for (Ge = 0; Ge < Mi; ++Ge) Ti[Ge] = J.createCube(Xi);
          }
          for (je.color = Array(Ti.length), Ge = 0; Ge < Ti.length; ++Ge) {
            var nr = Ti[Ge];
            v(
              typeof nr == "function" && nr._reglType === "textureCube",
              "invalid cube map",
            ),
              ht = ht || nr.width,
              v(nr.width === ht && nr.height === ht, "invalid cube map shape"),
              je.color[Ge] = { target: vc, data: Ti[Ge] };
          }
          for (Ge = 0; Ge < 6; ++Ge) {
            for (var ar = 0; ar < Ti.length; ++ar) {
              je.color[ar].target = vc + Ge;
            }
            Ge > 0
            && (je.depth = Pe[0].depth,
              je.stencil = Pe[0].stencil,
              je.depthStencil = Pe[0].depthStencil),
              Pe[Ge] ? Pe[Ge](je) : Pe[Ge] = de(je);
          }
          return e(ze, { width: ht, height: ht, color: Ti });
        }
        function yt(_t) {
          var Ge, je = _t | 0;
          if (
            v(je > 0 && je <= F.maxCubeMapSize, "invalid radius for cube fbo"),
              je === ze.width
          ) {
            return ze;
          }
          var ht = ze.color;
          for (Ge = 0; Ge < ht.length; ++Ge) ht[Ge].resize(je);
          for (Ge = 0; Ge < 6; ++Ge) Pe[Ge].resize(je);
          return ze.width = ze.height = je, ze;
        }
        return ze(Ae),
          e(ze, {
            faces: Pe,
            resize: yt,
            _reglType: "framebufferCube",
            destroy: function() {
              Pe.forEach(function(_t) {
                _t.destroy();
              });
            },
          });
      }
      function Ne() {
        re.cur = null,
          re.next = null,
          re.dirty = !0,
          en(ve).forEach(function(Ae) {
            Ae.framebuffer = m.createFramebuffer(), fe(Ae);
          });
      }
      return e(re, {
        getFramebuffer: function(Ae) {
          if (typeof Ae == "function" && Ae._reglType === "framebuffer") {
            var Pe = Ae._framebuffer;
            if (Pe instanceof He) return Pe;
          }
          return null;
        },
        create: de,
        createCube: Xe,
        clear: function() {
          en(ve).forEach(lt);
        },
        restore: Ne,
      });
    }
    var IS = 5126,
      b0 = 34962,
      xc = 34963,
      y0 = [
        "attributes",
        "elements",
        "offset",
        "count",
        "primitive",
        "instances",
      ];
    function dm() {
      this.state = 0,
        this.x = 0,
        this.y = 0,
        this.z = 0,
        this.w = 0,
        this.buffer = null,
        this.size = 0,
        this.normalized = !1,
        this.type = IS,
        this.offset = 0,
        this.stride = 0,
        this.divisor = 0;
    }
    function CS(m, w, F, J, ce, Z, re) {
      for (
        var ye = F.maxAttributes, be = new Array(ye), ke = 0; ke < ye; ++ke
      ) {
        be[ke] = new dm();
      }
      var Oe = 0,
        Le = {},
        Me = {
          Record: dm,
          scope: {},
          state: be,
          currentVAO: null,
          targetVAO: null,
          restore: Ce() ? Ue : function() {},
          createVAO: lt,
          getVAO: ie,
          destroyBuffer: we,
          setVAO: Ce() ? Ie : Ve,
          clear: Ce() ? ve : function() {},
        };
      function we(fe) {
        for (var de = 0; de < be.length; ++de) {
          var Xe = be[de];
          Xe.buffer === fe
            && (m.disableVertexAttribArray(de), Xe.buffer = null);
        }
      }
      function Ce() {
        return w.oes_vertex_array_object;
      }
      function H() {
        return w.angle_instanced_arrays;
      }
      function ie(fe) {
        return typeof fe == "function" && fe._vao ? fe._vao : null;
      }
      function Ie(fe) {
        if (fe !== Me.currentVAO) {
          var de = Ce();
          fe ? de.bindVertexArrayOES(fe.vao) : de.bindVertexArrayOES(null),
            Me.currentVAO = fe;
        }
      }
      function Ve(fe) {
        if (fe !== Me.currentVAO) {
          if (fe) fe.bindAttrs();
          else {
            for (var de = H(), Xe = 0; Xe < be.length; ++Xe) {
              var Ne = be[Xe];
              Ne.buffer
                ? (m.enableVertexAttribArray(Xe),
                  Ne.buffer.bind(),
                  m.vertexAttribPointer(
                    Xe,
                    Ne.size,
                    Ne.type,
                    Ne.normalized,
                    Ne.stride,
                    Ne.offfset,
                  ),
                  de && Ne.divisor
                  && de.vertexAttribDivisorANGLE(Xe, Ne.divisor))
                : (m.disableVertexAttribArray(Xe),
                  m.vertexAttrib4f(Xe, Ne.x, Ne.y, Ne.z, Ne.w));
            }
            re.elements ? m.bindBuffer(xc, re.elements.buffer.buffer)
            : m.bindBuffer(xc, null);
          }
          Me.currentVAO = fe;
        }
      }
      function ve() {
        en(Le).forEach(function(fe) {
          fe.destroy();
        });
      }
      function He() {
        this.id = ++Oe,
          this.attributes = [],
          this.elements = null,
          this.ownsElements = !1,
          this.count = 0,
          this.offset = 0,
          this.instances = -1,
          this.primitive = 4;
        var fe = Ce();
        fe ? this.vao = fe.createVertexArrayOES() : this.vao = null,
          Le[this.id] = this,
          this.buffers = [];
      }
      He.prototype.bindAttrs = function() {
        for (var fe = H(), de = this.attributes, Xe = 0; Xe < de.length; ++Xe) {
          var Ne = de[Xe];
          Ne.buffer
            ? (m.enableVertexAttribArray(Xe),
              m.bindBuffer(b0, Ne.buffer.buffer),
              m.vertexAttribPointer(
                Xe,
                Ne.size,
                Ne.type,
                Ne.normalized,
                Ne.stride,
                Ne.offset,
              ),
              fe && Ne.divisor && fe.vertexAttribDivisorANGLE(Xe, Ne.divisor))
            : (m.disableVertexAttribArray(Xe),
              m.vertexAttrib4f(Xe, Ne.x, Ne.y, Ne.z, Ne.w));
        }
        for (var Ae = de.length; Ae < ye; ++Ae) m.disableVertexAttribArray(Ae);
        var Pe = Z.getElements(this.elements);
        Pe ? m.bindBuffer(xc, Pe.buffer.buffer) : m.bindBuffer(xc, null);
      },
        He.prototype.refresh = function() {
          var fe = Ce();
          fe
            && (fe.bindVertexArrayOES(this.vao),
              this.bindAttrs(),
              Me.currentVAO = null,
              fe.bindVertexArrayOES(null));
        },
        He.prototype.destroy = function() {
          if (this.vao) {
            var fe = Ce();
            this === Me.currentVAO
            && (Me.currentVAO = null, fe.bindVertexArrayOES(null)),
              fe.deleteVertexArrayOES(this.vao),
              this.vao = null;
          }
          this.ownsElements
          && (this.elements.destroy(),
            this.elements = null,
            this.ownsElements = !1),
            Le[this.id] && (delete Le[this.id], J.vaoCount -= 1);
        };
      function Ue() {
        var fe = Ce();
        fe && en(Le).forEach(function(de) {
          de.refresh();
        });
      }
      function lt(fe) {
        var de = new He();
        J.vaoCount += 1;
        function Xe(Ne) {
          var Ae;
          if (Array.isArray(Ne)) {
            Ae = Ne,
              de.elements && de.ownsElements && de.elements.destroy(),
              de.elements = null,
              de.ownsElements = !1,
              de.offset = 0,
              de.count = 0,
              de.instances = -1,
              de.primitive = 4;
          }
          else {
            if (
              v(typeof Ne == "object", "invalid arguments for create vao"),
                v("attributes" in Ne, "must specify attributes for vao"),
                Ne.elements
            ) {
              var Pe = Ne.elements;
              de.ownsElements
                ? typeof Pe == "function" && Pe._reglType === "elements"
                  ? (de.elements.destroy(), de.ownsElements = !1)
                  : (de.elements(Pe), de.ownsElements = !1)
                : Z.getElements(Ne.elements)
                ? (de.elements = Ne.elements, de.ownsElements = !1)
                : (de.elements = Z.create(Ne.elements), de.ownsElements = !0);
            }
            else de.elements = null, de.ownsElements = !1;
            Ae = Ne.attributes,
              de.offset = 0,
              de.count = -1,
              de.instances = -1,
              de.primitive = 4,
              de.elements
              && (de.count = de.elements._elements.vertCount,
                de.primitive = de.elements._elements.primType),
              "offset" in Ne && (de.offset = Ne.offset | 0),
              "count" in Ne && (de.count = Ne.count | 0),
              "instances" in Ne && (de.instances = Ne.instances | 0),
              "primitive" in Ne
              && (v(Ne.primitive in Ta, "bad primitive type: " + Ne.primitive),
                de.primitive = Ta[Ne.primitive]),
              v.optional(() => {
                for (var Fi = Object.keys(Ne), Mi = 0; Mi < Fi.length; ++Mi) {
                  v(
                    y0.indexOf(Fi[Mi]) >= 0,
                    "invalid option for vao: \"" + Fi[Mi]
                      + "\" valid options are " + y0,
                  );
                }
              }),
              v(Array.isArray(Ae), "attributes must be an array");
          }
          v(Ae.length < ye, "too many attributes"),
            v(Ae.length > 0, "must specify at least one attribute");
          var ze = {}, yt = de.attributes;
          yt.length = Ae.length;
          for (var _t = 0; _t < Ae.length; ++_t) {
            var Ge = Ae[_t], je = yt[_t] = new dm(), ht = Ge.data || Ge;
            if (Array.isArray(ht) || t(ht) || bn(ht)) {
              var wt;
              de.buffers[_t]
              && (wt = de.buffers[_t],
                t(ht) && wt._buffer.byteLength >= ht.byteLength
                  ? wt.subdata(ht)
                  : (wt.destroy(), de.buffers[_t] = null)),
                de.buffers[_t]
                || (wt = de.buffers[_t] = ce.create(Ge, b0, !1, !0)),
                je.buffer = ce.getBuffer(wt),
                je.size = je.buffer.dimension | 0,
                je.normalized = !1,
                je.type = je.buffer.dtype,
                je.offset = 0,
                je.stride = 0,
                je.divisor = 0,
                je.state = 1,
                ze[_t] = 1;
            }
            else {
              ce.getBuffer(Ge)
                ? (je.buffer = ce.getBuffer(Ge),
                  je.size = je.buffer.dimension | 0,
                  je.normalized = !1,
                  je.type = je.buffer.dtype,
                  je.offset = 0,
                  je.stride = 0,
                  je.divisor = 0,
                  je.state = 1)
                : ce.getBuffer(Ge.buffer)
                ? (je.buffer = ce.getBuffer(Ge.buffer),
                  je.size = (+Ge.size || je.buffer.dimension) | 0,
                  je.normalized = !!Ge.normalized || !1,
                  "type" in Ge
                    ? (v.parameter(Ge.type, Qa, "invalid buffer type"),
                      je.type = Qa[Ge.type])
                    : je.type = je.buffer.dtype,
                  je.offset = (Ge.offset || 0) | 0,
                  je.stride = (Ge.stride || 0) | 0,
                  je.divisor = (Ge.divisor || 0) | 0,
                  je.state = 1,
                  v(
                    je.size >= 1 && je.size <= 4,
                    "size must be between 1 and 4",
                  ),
                  v(je.offset >= 0, "invalid offset"),
                  v(
                    je.stride >= 0 && je.stride <= 255,
                    "stride must be between 0 and 255",
                  ),
                  v(je.divisor >= 0, "divisor must be positive"),
                  v(
                    !je.divisor || !!w.angle_instanced_arrays,
                    "ANGLE_instanced_arrays must be enabled to use divisor",
                  ))
                : "x" in Ge
                ? (v(_t > 0, "first attribute must not be a constant"),
                  je.x = +Ge.x || 0,
                  je.y = +Ge.y || 0,
                  je.z = +Ge.z || 0,
                  je.w = +Ge.w || 0,
                  je.state = 2)
                : v(!1, "invalid attribute spec for location " + _t);
            }
          }
          for (var kt = 0; kt < de.buffers.length; ++kt) {
            !ze[kt] && de.buffers[kt]
              && (de.buffers[kt].destroy(), de.buffers[kt] = null);
          }
          return de.refresh(), Xe;
        }
        return Xe.destroy = function() {
          for (var Ne = 0; Ne < de.buffers.length; ++Ne) {
            de.buffers[Ne] && de.buffers[Ne].destroy();
          }
          de.buffers.length = 0,
            de.ownsElements
            && (de.elements.destroy(),
              de.elements = null,
              de.ownsElements = !1),
            de.destroy();
        },
          Xe._vao = de,
          Xe._reglType = "vao",
          Xe(fe);
      }
      return Me;
    }
    var w0 = 35632, kS = 35633, LS = 35718, OS = 35721;
    function RS(m, w, F, J) {
      var ce = {}, Z = {};
      function re(H, ie, Ie, Ve) {
        this.name = H, this.id = ie, this.location = Ie, this.info = Ve;
      }
      function ye(H, ie) {
        for (var Ie = 0; Ie < H.length; ++Ie) {if (H[Ie].id === ie.id) {
            H[Ie].location = ie.location;
            return;
          }}
        H.push(ie);
      }
      function be(H, ie, Ie) {
        var Ve = H === w0 ? ce : Z, ve = Ve[ie];
        if (!ve) {
          var He = w.str(ie);
          ve = m.createShader(H),
            m.shaderSource(ve, He),
            m.compileShader(ve),
            v.shaderError(m, ve, He, H, Ie),
            Ve[ie] = ve;
        }
        return ve;
      }
      var ke = {}, Oe = [], Le = 0;
      function Me(H, ie) {
        this.id = Le++,
          this.fragId = H,
          this.vertId = ie,
          this.program = null,
          this.uniforms = [],
          this.attributes = [],
          this.refCount = 1,
          J.profile && (this.stats = { uniformsCount: 0, attributesCount: 0 });
      }
      function we(H, ie, Ie) {
        var Ve,
          ve,
          He = be(w0, H.fragId),
          Ue = be(kS, H.vertId),
          lt = H.program = m.createProgram();
        if (m.attachShader(lt, He), m.attachShader(lt, Ue), Ie) {
          for (Ve = 0; Ve < Ie.length; ++Ve) {
            var fe = Ie[Ve];
            m.bindAttribLocation(lt, fe[0], fe[1]);
          }
        }
        m.linkProgram(lt),
          v.linkError(m, lt, w.str(H.fragId), w.str(H.vertId), ie);
        var de = m.getProgramParameter(lt, LS);
        J.profile && (H.stats.uniformsCount = de);
        var Xe = H.uniforms;
        for (Ve = 0; Ve < de; ++Ve) {
          if (ve = m.getActiveUniform(lt, Ve), ve) {
            if (ve.size > 1) {
              for (var Ne = 0; Ne < ve.size; ++Ne) {
                var Ae = ve.name.replace("[0]", "[" + Ne + "]");
                ye(Xe, new re(Ae, w.id(Ae), m.getUniformLocation(lt, Ae), ve));
              }
            }
            var Pe = ve.name;
            ve.size > 1 && (Pe = Pe.replace("[0]", "")),
              ye(Xe, new re(Pe, w.id(Pe), m.getUniformLocation(lt, Pe), ve));
          }
        }
        var ze = m.getProgramParameter(lt, OS);
        J.profile && (H.stats.attributesCount = ze);
        var yt = H.attributes;
        for (Ve = 0; Ve < ze; ++Ve) {
          ve = m.getActiveAttrib(lt, Ve),
            ve
            && ye(
              yt,
              new re(
                ve.name,
                w.id(ve.name),
                m.getAttribLocation(lt, ve.name),
                ve,
              ),
            );
        }
      }
      J.profile && (F.getMaxUniformsCount = function() {
        var H = 0;
        return Oe.forEach(function(ie) {
          ie.stats.uniformsCount > H && (H = ie.stats.uniformsCount);
        }),
          H;
      },
        F.getMaxAttributesCount = function() {
          var H = 0;
          return Oe.forEach(function(ie) {
            ie.stats.attributesCount > H && (H = ie.stats.attributesCount);
          }),
            H;
        });
      function Ce() {
        ce = {}, Z = {};
        for (var H = 0; H < Oe.length; ++H) {
          we(
            Oe[H],
            null,
            Oe[H].attributes.map(function(ie) {
              return [ie.location, ie.name];
            }),
          );
        }
      }
      return {
        clear: function() {
          var H = m.deleteShader.bind(m);
          en(ce).forEach(H),
            ce = {},
            en(Z).forEach(H),
            Z = {},
            Oe.forEach(function(ie) {
              m.deleteProgram(ie.program);
            }),
            Oe.length = 0,
            ke = {},
            F.shaderCount = 0;
        },
        program: function(H, ie, Ie, Ve) {
          v.command(H >= 0, "missing vertex shader", Ie),
            v.command(ie >= 0, "missing fragment shader", Ie);
          var ve = ke[ie];
          ve || (ve = ke[ie] = {});
          var He = ve[H];
          if (He && (He.refCount++, !Ve)) return He;
          var Ue = new Me(ie, H);
          return F.shaderCount++,
            we(Ue, Ie, Ve),
            He || (ve[H] = Ue),
            Oe.push(Ue),
            e(Ue, {
              destroy: function() {
                if (Ue.refCount--, Ue.refCount <= 0) {
                  m.deleteProgram(Ue.program);
                  var lt = Oe.indexOf(Ue);
                  Oe.splice(lt, 1), F.shaderCount--;
                }
                ve[Ue.vertId].refCount <= 0
                && (m.deleteShader(Z[Ue.vertId]),
                  delete Z[Ue.vertId],
                  delete ke[Ue.fragId][Ue.vertId]),
                  Object.keys(ke[Ue.fragId]).length
                  || (m.deleteShader(ce[Ue.fragId]),
                    delete ce[Ue.fragId],
                    delete ke[Ue.fragId]);
              },
            });
        },
        restore: Ce,
        shader: be,
        frag: -1,
        vert: -1,
      };
    }
    var FS = 6408, vl = 5121, DS = 3333, bc = 5126;
    function $S(m, w, F, J, ce, Z, re) {
      function ye(Oe) {
        var Le;
        w.next === null
          ? (v(
            ce.preserveDrawingBuffer,
            "you must create a webgl context with \"preserveDrawingBuffer\":true in order to read pixels from the drawing buffer",
          ),
            Le = vl)
          : (v(
            w.next.colorAttachments[0].texture !== null,
            "You cannot read from a renderbuffer",
          ),
            Le = w.next.colorAttachments[0].texture._texture.type,
            v.optional(function() {
              Z.oes_texture_float
                ? (v(
                  Le === vl || Le === bc,
                  "Reading from a framebuffer is only allowed for the types 'uint8' and 'float'",
                ),
                  Le === bc
                  && v(
                    re.readFloat,
                    "Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float",
                  ))
                : v(
                  Le === vl,
                  "Reading from a framebuffer is only allowed for the type 'uint8'",
                );
            }));
        var Me = 0,
          we = 0,
          Ce = J.framebufferWidth,
          H = J.framebufferHeight,
          ie = null;
        t(Oe)
          ? ie = Oe
          : Oe
            && (v.type(Oe, "object", "invalid arguments to regl.read()"),
              Me = Oe.x | 0,
              we = Oe.y | 0,
              v(
                Me >= 0 && Me < J.framebufferWidth,
                "invalid x offset for regl.read",
              ),
              v(
                we >= 0 && we < J.framebufferHeight,
                "invalid y offset for regl.read",
              ),
              Ce = (Oe.width || J.framebufferWidth - Me) | 0,
              H = (Oe.height || J.framebufferHeight - we) | 0,
              ie = Oe.data || null),
          ie && (Le === vl
            ? v(
              ie instanceof Uint8Array,
              "buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'",
            )
            : Le === bc
              && v(
                ie instanceof Float32Array,
                "buffer must be 'Float32Array' when reading from a framebuffer of type 'float'",
              )),
          v(
            Ce > 0 && Ce + Me <= J.framebufferWidth,
            "invalid width for read pixels",
          ),
          v(
            H > 0 && H + we <= J.framebufferHeight,
            "invalid height for read pixels",
          ),
          F();
        var Ie = Ce * H * 4;
        return ie || (Le === vl
          ? ie = new Uint8Array(Ie)
          : Le === bc && (ie = ie || new Float32Array(Ie))),
          v.isTypedArray(
            ie,
            "data buffer for regl.read() must be a typedarray",
          ),
          v(ie.byteLength >= Ie, "data buffer for regl.read() too small"),
          m.pixelStorei(DS, 4),
          m.readPixels(Me, we, Ce, H, FS, Le, ie),
          ie;
      }
      function be(Oe) {
        var Le;
        return w.setFBO({ framebuffer: Oe.framebuffer }, function() {
          Le = ye(Oe);
        }),
          Le;
      }
      function ke(Oe) {
        return !Oe || !("framebuffer" in Oe) ? ye(Oe) : be(Oe);
      }
      return ke;
    }
    function cs(m) {
      return Array.prototype.slice.call(m);
    }
    function us(m) {
      return cs(m).join("");
    }
    function MS() {
      var m = 0, w = [], F = [];
      function J(Le) {
        for (var Me = 0; Me < F.length; ++Me) if (F[Me] === Le) return w[Me];
        var we = "g" + m++;
        return w.push(we), F.push(Le), we;
      }
      function ce() {
        var Le = [];
        function Me() {
          Le.push.apply(Le, cs(arguments));
        }
        var we = [];
        function Ce() {
          var H = "v" + m++;
          return we.push(H),
            arguments.length > 0
            && (Le.push(H, "="),
              Le.push.apply(Le, cs(arguments)),
              Le.push(";")),
            H;
        }
        return e(Me, {
          def: Ce,
          toString: function() {
            return us([
              we.length > 0
                ? "var " + we.join(",") + ";"
                : "",
              us(Le),
            ]);
          },
        });
      }
      function Z() {
        var Le = ce(), Me = ce(), we = Le.toString, Ce = Me.toString;
        function H(ie, Ie) {
          Me(ie, Ie, "=", Le.def(ie, Ie), ";");
        }
        return e(function() {
          Le.apply(Le, cs(arguments));
        }, {
          def: Le.def,
          entry: Le,
          exit: Me,
          save: H,
          set: function(ie, Ie, Ve) {
            H(ie, Ie), Le(ie, Ie, "=", Ve, ";");
          },
          toString: function() {
            return we() + Ce();
          },
        });
      }
      function re() {
        var Le = us(arguments),
          Me = Z(),
          we = Z(),
          Ce = Me.toString,
          H = we.toString;
        return e(Me, {
          then: function() {
            return Me.apply(Me, cs(arguments)), this;
          },
          else: function() {
            return we.apply(we, cs(arguments)), this;
          },
          toString: function() {
            var ie = H();
            return ie && (ie = "else{" + ie + "}"),
              us(["if(", Le, "){", Ce(), "}", ie]);
          },
        });
      }
      var ye = ce(), be = {};
      function ke(Le, Me) {
        var we = [];
        function Ce() {
          var ve = "a" + we.length;
          return we.push(ve), ve;
        }
        Me = Me || 0;
        for (var H = 0; H < Me; ++H) Ce();
        var ie = Z(),
          Ie = ie.toString,
          Ve = be[Le] = e(ie, {
            arg: Ce,
            toString: function() {
              return us(["function(", we.join(), "){", Ie(), "}"]);
            },
          });
        return Ve;
      }
      function Oe() {
        var Le = ["\"use strict\";", ye, "return {"];
        Object.keys(be).forEach(function(Ce) {
          Le.push("\"", Ce, "\":", be[Ce].toString(), ",");
        }), Le.push("}");
        var Me = us(Le).replace(
            /;/g,
            `;
`,
          ).replace(
            /}/g,
            `}
`,
          ).replace(
            /{/g,
            `{
`,
          ),
          we = Function.apply(null, w.concat(Me));
        return we.apply(null, F);
      }
      return {
        global: ye,
        link: J,
        block: ce,
        proc: ke,
        scope: Z,
        cond: re,
        compile: Oe,
      };
    }
    var fs = "xyzw".split(""),
      S0 = 5121,
      ms = 1,
      cm = 2,
      um = 0,
      fm = 1,
      mm = 2,
      hm = 3,
      yc = 4,
      E0 = 5,
      T0 = 6,
      A0 = "dither",
      I0 = "blend.enable",
      C0 = "blend.color",
      pm = "blend.equation",
      gm = "blend.func",
      k0 = "depth.enable",
      L0 = "depth.func",
      O0 = "depth.range",
      R0 = "depth.mask",
      vm = "colorMask",
      F0 = "cull.enable",
      D0 = "cull.face",
      _m = "frontFace",
      xm = "lineWidth",
      $0 = "polygonOffset.enable",
      bm = "polygonOffset.offset",
      M0 = "sample.alpha",
      N0 = "sample.enable",
      ym = "sample.coverage",
      P0 = "stencil.enable",
      z0 = "stencil.mask",
      wm = "stencil.func",
      Sm = "stencil.opFront",
      _l = "stencil.opBack",
      B0 = "scissor.enable",
      wc = "scissor.box",
      na = "viewport",
      xl = "profile",
      no = "framebuffer",
      bl = "vert",
      yl = "frag",
      ao = "elements",
      oo = "primitive",
      so = "count",
      Sc = "offset",
      Ec = "instances",
      wl = "vao",
      Em = "Width",
      Tm = "Height",
      hs = no + Em,
      ps = no + Tm,
      NS = na + Em,
      PS = na + Tm,
      U0 = "drawingBuffer",
      G0 = U0 + Em,
      H0 = U0 + Tm,
      zS = [gm, pm, wm, Sm, _l, ym, na, wc, bm],
      gs = 34962,
      Am = 34963,
      BS = 35632,
      US = 35633,
      j0 = 3553,
      GS = 34067,
      HS = 2884,
      jS = 3042,
      VS = 3024,
      qS = 2960,
      WS = 2929,
      YS = 3089,
      XS = 32823,
      KS = 32926,
      ZS = 32928,
      Im = 5126,
      Tc = 35664,
      Ac = 35665,
      Ic = 35666,
      Cm = 5124,
      Cc = 35667,
      kc = 35668,
      Lc = 35669,
      km = 35670,
      Oc = 35671,
      Rc = 35672,
      Fc = 35673,
      Sl = 35674,
      El = 35675,
      Tl = 35676,
      Al = 35678,
      Il = 35680,
      Lm = 4,
      Cl = 1028,
      lo = 1029,
      V0 = 2304,
      Om = 2305,
      JS = 32775,
      QS = 32776,
      e3 = 519,
      Ia = 7680,
      q0 = 0,
      W0 = 1,
      Y0 = 32774,
      t3 = 513,
      X0 = 36160,
      i3 = 36064,
      Dn = {
        0: 0,
        1: 1,
        zero: 0,
        one: 1,
        "src color": 768,
        "one minus src color": 769,
        "src alpha": 770,
        "one minus src alpha": 771,
        "dst color": 774,
        "one minus dst color": 775,
        "dst alpha": 772,
        "one minus dst alpha": 773,
        "constant color": 32769,
        "one minus constant color": 32770,
        "constant alpha": 32771,
        "one minus constant alpha": 32772,
        "src alpha saturate": 776,
      },
      K0 = [
        "constant color, constant alpha",
        "one minus constant color, constant alpha",
        "constant color, one minus constant alpha",
        "one minus constant color, one minus constant alpha",
        "constant alpha, constant color",
        "constant alpha, one minus constant color",
        "one minus constant alpha, constant color",
        "one minus constant alpha, one minus constant color",
      ],
      vs = {
        never: 512,
        less: 513,
        "<": 513,
        equal: 514,
        "=": 514,
        "==": 514,
        "===": 514,
        lequal: 515,
        "<=": 515,
        greater: 516,
        ">": 516,
        notequal: 517,
        "!=": 517,
        "!==": 517,
        gequal: 518,
        ">=": 518,
        always: 519,
      },
      Ca = {
        0: 0,
        zero: 0,
        keep: 7680,
        replace: 7681,
        increment: 7682,
        decrement: 7683,
        "increment wrap": 34055,
        "decrement wrap": 34056,
        invert: 5386,
      },
      Z0 = { frag: BS, vert: US },
      Rm = { cw: V0, ccw: Om };
    function Dc(m) {
      return Array.isArray(m) || t(m) || bn(m);
    }
    function J0(m) {
      return m.sort(function(w, F) {
        return w === na ? -1 : F === na ? 1 : w < F ? -1 : 1;
      });
    }
    function dr(m, w, F, J) {
      this.thisDep = m, this.contextDep = w, this.propDep = F, this.append = J;
    }
    function ka(m) {
      return m && !(m.thisDep || m.contextDep || m.propDep);
    }
    function Yi(m) {
      return new dr(!1, !1, !1, m);
    }
    function Vr(m, w) {
      var F = m.type;
      if (F === um) {
        var J = m.data.length;
        return new dr(!0, J >= 1, J >= 2, w);
      }
      else if (F === yc) {
        var ce = m.data;
        return new dr(ce.thisDep, ce.contextDep, ce.propDep, w);
      }
      else {
        if (F === E0) return new dr(!1, !1, !1, w);
        if (F === T0) {
          for (var Z = !1, re = !1, ye = !1, be = 0; be < m.data.length; ++be) {
            var ke = m.data[be];
            if (ke.type === fm) ye = !0;
            else if (ke.type === mm) re = !0;
            else if (ke.type === hm) Z = !0;
            else if (ke.type === um) {
              Z = !0;
              var Oe = ke.data;
              Oe >= 1 && (re = !0), Oe >= 2 && (ye = !0);
            }
            else {
              ke.type === yc
                && (Z = Z || ke.data.thisDep,
                  re = re || ke.data.contextDep,
                  ye = ye || ke.data.propDep);
            }
          }
          return new dr(Z, re, ye, w);
        }
        else return new dr(F === hm, F === mm, F === fm, w);
      }
    }
    var Q0 = new dr(!1, !1, !1, function() {});
    function r3(m, w, F, J, ce, Z, re, ye, be, ke, Oe, Le, Me, we, Ce) {
      var H = ke.Record,
        ie = { add: 32774, subtract: 32778, "reverse subtract": 32779 };
      F.ext_blend_minmax && (ie.min = JS, ie.max = QS);
      var Ie = F.angle_instanced_arrays,
        Ve = F.webgl_draw_buffers,
        ve = F.oes_vertex_array_object,
        He = { dirty: !0, profile: Ce.profile },
        Ue = {},
        lt = [],
        fe = {},
        de = {};
      function Xe(T) {
        return T.replace(".", "_");
      }
      function Ne(T, b, M) {
        var U = Xe(T);
        lt.push(T), Ue[U] = He[U] = !!M, fe[U] = b;
      }
      function Ae(T, b, M) {
        var U = Xe(T);
        lt.push(T),
          Array.isArray(M)
            ? (He[U] = M.slice(), Ue[U] = M.slice())
            : He[U] = Ue[U] = M,
          de[U] = b;
      }
      Ne(A0, VS),
        Ne(I0, jS),
        Ae(C0, "blendColor", [0, 0, 0, 0]),
        Ae(pm, "blendEquationSeparate", [Y0, Y0]),
        Ae(gm, "blendFuncSeparate", [W0, q0, W0, q0]),
        Ne(k0, WS, !0),
        Ae(L0, "depthFunc", t3),
        Ae(O0, "depthRange", [0, 1]),
        Ae(R0, "depthMask", !0),
        Ae(vm, vm, [!0, !0, !0, !0]),
        Ne(F0, HS),
        Ae(D0, "cullFace", lo),
        Ae(_m, _m, Om),
        Ae(xm, xm, 1),
        Ne($0, XS),
        Ae(bm, "polygonOffset", [0, 0]),
        Ne(M0, KS),
        Ne(N0, ZS),
        Ae(ym, "sampleCoverage", [1, !1]),
        Ne(P0, qS),
        Ae(z0, "stencilMask", -1),
        Ae(wm, "stencilFunc", [e3, 0, -1]),
        Ae(Sm, "stencilOpSeparate", [Cl, Ia, Ia, Ia]),
        Ae(_l, "stencilOpSeparate", [lo, Ia, Ia, Ia]),
        Ne(B0, YS),
        Ae(wc, "scissor", [0, 0, m.drawingBufferWidth, m.drawingBufferHeight]),
        Ae(na, na, [0, 0, m.drawingBufferWidth, m.drawingBufferHeight]);
      var Pe = {
          gl: m,
          context: Me,
          strings: w,
          next: Ue,
          current: He,
          draw: Le,
          elements: Z,
          buffer: ce,
          shader: Oe,
          attributes: ke.state,
          vao: ke,
          uniforms: be,
          framebuffer: ye,
          extensions: F,
          timer: we,
          isBufferArgs: Dc,
        },
        ze = {
          primTypes: Ta,
          compareFuncs: vs,
          blendFuncs: Dn,
          blendEquations: ie,
          stencilOps: Ca,
          glTypes: Qa,
          orientationType: Rm,
        };
      v.optional(function() {
        Pe.isArrayLike = Ri;
      }),
        Ve
        && (ze.backBuffer = [lo],
          ze.drawBuffer = ur(J.maxDrawbuffers, function(T) {
            return T === 0 ? [0] : ur(T, function(b) {
              return i3 + b;
            });
          }));
      var yt = 0;
      function _t() {
        var T = MS(), b = T.link, M = T.global;
        T.id = yt++, T.batchId = "0";
        var U = b(Pe), j = T.shared = { props: "a0" };
        Object.keys(Pe).forEach(function(O) {
          j[O] = M.def(U, ".", O);
        }),
          v.optional(function() {
            T.CHECK = b(v),
              T.commandStr = v.guessCommand(),
              T.command = b(T.commandStr),
              T.assert = function(O, k, W) {
                O(
                  "if(!(",
                  k,
                  "))",
                  this.CHECK,
                  ".commandRaise(",
                  b(W),
                  ",",
                  this.command,
                  ");",
                );
              },
              ze.invalidBlendCombinations = K0;
          });
        var P = T.next = {}, N = T.current = {};
        Object.keys(de).forEach(function(O) {
          Array.isArray(He[O])
            && (P[O] = M.def(j.next, ".", O), N[O] = M.def(j.current, ".", O));
        });
        var B = T.constants = {};
        Object.keys(ze).forEach(function(O) {
          B[O] = M.def(JSON.stringify(ze[O]));
        }),
          T.invoke = function(O, k) {
            switch (k.type) {
              case um:
                var W = ["this", j.context, j.props, T.batchId];
                return O.def(
                  b(k.data),
                  ".call(",
                  W.slice(0, Math.max(k.data.length + 1, 4)),
                  ")",
                );
              case fm:
                return O.def(j.props, k.data);
              case mm:
                return O.def(j.context, k.data);
              case hm:
                return O.def("this", k.data);
              case yc:
                return k.data.append(T, O), k.data.ref;
              case E0:
                return k.data.toString();
              case T0:
                return k.data.map(function(q) {
                  return T.invoke(O, q);
                });
            }
          },
          T.attribCache = {};
        var C = {};
        return T.scopeAttrib = function(O) {
          var k = w.id(O);
          if (k in C) return C[k];
          var W = ke.scope[k];
          W || (W = ke.scope[k] = new H());
          var q = C[k] = b(W);
          return q;
        },
          T;
      }
      function Ge(T) {
        var b = T.static, M = T.dynamic, U;
        if (xl in b) {
          var j = !!b[xl];
          U = Yi(function(N, B) {
            return j;
          }), U.enable = j;
        }
        else if (xl in M) {
          var P = M[xl];
          U = Vr(P, function(N, B) {
            return N.invoke(B, P);
          });
        }
        return U;
      }
      function je(T, b) {
        var M = T.static, U = T.dynamic;
        if (no in M) {
          var j = M[no];
          return j
            ? (j = ye.getFramebuffer(j),
              v.command(j, "invalid framebuffer object"),
              Yi(function(N, B) {
                var C = N.link(j), O = N.shared;
                B.set(O.framebuffer, ".next", C);
                var k = O.context;
                return B.set(k, "." + hs, C + ".width"),
                  B.set(k, "." + ps, C + ".height"),
                  C;
              }))
            : Yi(function(N, B) {
              var C = N.shared;
              B.set(C.framebuffer, ".next", "null");
              var O = C.context;
              return B.set(O, "." + hs, O + "." + G0),
                B.set(O, "." + ps, O + "." + H0),
                "null";
            });
        }
        else if (no in U) {
          var P = U[no];
          return Vr(P, function(N, B) {
            var C = N.invoke(B, P),
              O = N.shared,
              k = O.framebuffer,
              W = B.def(k, ".getFramebuffer(", C, ")");
            v.optional(function() {
              N.assert(B, "!" + C + "||" + W, "invalid framebuffer object");
            }), B.set(k, ".next", W);
            var q = O.context;
            return B.set(q, "." + hs, W + "?" + W + ".width:" + q + "." + G0),
              B.set(q, "." + ps, W + "?" + W + ".height:" + q + "." + H0),
              W;
          });
        }
        else return null;
      }
      function ht(T, b, M) {
        var U = T.static, j = T.dynamic;
        function P(C) {
          if (C in U) {
            var O = U[C];
            v.commandType(O, "object", "invalid " + C, M.commandStr);
            var k = !0, W = O.x | 0, q = O.y | 0, se, he;
            return "width" in O
              ? (se = O.width | 0,
                v.command(se >= 0, "invalid " + C, M.commandStr))
              : k = !1,
              "height" in O
                ? (he = O.height | 0,
                  v.command(he >= 0, "invalid " + C, M.commandStr))
                : k = !1,
              new dr(
                !k && b && b.thisDep,
                !k && b && b.contextDep,
                !k && b && b.propDep,
                function(ot, qe) {
                  var pe = ot.shared.context, ae = se;
                  "width" in O || (ae = qe.def(pe, ".", hs, "-", W));
                  var tt = he;
                  return "height" in O || (tt = qe.def(pe, ".", ps, "-", q)),
                    [W, q, ae, tt];
                },
              );
          }
          else if (C in j) {
            var $e = j[C],
              vt = Vr($e, function(ot, qe) {
                var pe = ot.invoke(qe, $e);
                v.optional(function() {
                  ot.assert(
                    qe,
                    pe + "&&typeof " + pe + "===\"object\"",
                    "invalid " + C,
                  );
                });
                var ae = ot.shared.context,
                  tt = qe.def(pe, ".x|0"),
                  Je = qe.def(pe, ".y|0"),
                  pt = qe.def(
                    "\"width\" in ",
                    pe,
                    "?",
                    pe,
                    ".width|0:",
                    "(",
                    ae,
                    ".",
                    hs,
                    "-",
                    tt,
                    ")",
                  ),
                  ni = qe.def(
                    "\"height\" in ",
                    pe,
                    "?",
                    pe,
                    ".height|0:",
                    "(",
                    ae,
                    ".",
                    ps,
                    "-",
                    Je,
                    ")",
                  );
                return v.optional(function() {
                  ot.assert(qe, pt + ">=0&&" + ni + ">=0", "invalid " + C);
                }),
                  [tt, Je, pt, ni];
              });
            return b
              && (vt.thisDep = vt.thisDep || b.thisDep,
                vt.contextDep = vt.contextDep || b.contextDep,
                vt.propDep = vt.propDep || b.propDep),
              vt;
          }
          else {
            return b
              ? new dr(b.thisDep, b.contextDep, b.propDep, function(ot, qe) {
                var pe = ot.shared.context;
                return [0, 0, qe.def(pe, ".", hs), qe.def(pe, ".", ps)];
              })
              : null;
          }
        }
        var N = P(na);
        if (N) {
          var B = N;
          N = new dr(N.thisDep, N.contextDep, N.propDep, function(C, O) {
            var k = B.append(C, O), W = C.shared.context;
            return O.set(W, "." + NS, k[2]), O.set(W, "." + PS, k[3]), k;
          });
        }
        return { viewport: N, scissor_box: P(wc) };
      }
      function wt(T, b) {
        var M = T.static,
          U = typeof M[yl] == "string" && typeof M[bl] == "string";
        if (U) {
          if (Object.keys(b.dynamic).length > 0) return null;
          var j = b.static, P = Object.keys(j);
          if (P.length > 0 && typeof j[P[0]] == "number") {
            for (var N = [], B = 0; B < P.length; ++B) {
              v(
                typeof j[P[B]] == "number",
                "must specify all vertex attribute locations when using vaos",
              ), N.push([j[P[B]] | 0, P[B]]);
            }
            return N;
          }
        }
        return null;
      }
      function kt(T, b, M) {
        var U = T.static, j = T.dynamic;
        function P(k) {
          if (k in U) {
            var W = w.id(U[k]);
            v.optional(function() {
              Oe.shader(Z0[k], W, v.guessCommand());
            });
            var q = Yi(function() {
              return W;
            });
            return q.id = W, q;
          }
          else if (k in j) {
            var se = j[k];
            return Vr(se, function(he, $e) {
              var vt = he.invoke($e, se),
                ot = $e.def(he.shared.strings, ".id(", vt, ")");
              return v.optional(function() {
                $e(
                  he.shared.shader,
                  ".shader(",
                  Z0[k],
                  ",",
                  ot,
                  ",",
                  he.command,
                  ");",
                );
              }),
                ot;
            });
          }
          return null;
        }
        var N = P(yl), B = P(bl), C = null, O;
        return ka(N) && ka(B)
          ? (C = Oe.program(B.id, N.id, null, M),
            O = Yi(function(k, W) {
              return k.link(C);
            }))
          : O = new dr(
            N && N.thisDep || B && B.thisDep,
            N && N.contextDep || B && B.contextDep,
            N && N.propDep || B && B.propDep,
            function(k, W) {
              var q = k.shared.shader, se;
              N ? se = N.append(k, W) : se = W.def(q, ".", yl);
              var he;
              B ? he = B.append(k, W) : he = W.def(q, ".", bl);
              var $e = q + ".program(" + he + "," + se;
              return v.optional(function() {
                $e += "," + k.command;
              }),
                W.def($e + ")");
            },
          ),
          { frag: N, vert: B, progVar: O, program: C };
      }
      function Fi(T, b) {
        var M = T.static, U = T.dynamic, j = {}, P = !1;
        function N() {
          if (wl in M) {
            var qe = M[wl];
            return qe !== null && ke.getVAO(qe) === null
              && (qe = ke.createVAO(qe)),
              P = !0,
              j.vao = qe,
              Yi(function(ae) {
                var tt = ke.getVAO(qe);
                return tt ? ae.link(tt) : "null";
              });
          }
          else if (wl in U) {
            P = !0;
            var pe = U[wl];
            return Vr(pe, function(ae, tt) {
              var Je = ae.invoke(tt, pe);
              return tt.def(ae.shared.vao + ".getVAO(" + Je + ")");
            });
          }
          return null;
        }
        var B = N(), C = !1;
        function O() {
          if (ao in M) {
            var qe = M[ao];
            if (j.elements = qe, Dc(qe)) {
              var pe = j.elements = Z.create(qe, !0);
              qe = Z.getElements(pe), C = !0;
            }
            else {
              qe
                && (qe = Z.getElements(qe),
                  C = !0,
                  v.command(qe, "invalid elements", b.commandStr));
            }
            var ae = Yi(function(Je, pt) {
              if (qe) {
                var ni = Je.link(qe);
                return Je.ELEMENTS = ni, ni;
              }
              return Je.ELEMENTS = null, null;
            });
            return ae.value = qe, ae;
          }
          else if (ao in U) {
            C = !0;
            var tt = U[ao];
            return Vr(tt, function(Je, pt) {
              var ni = Je.shared,
                br = ni.isBufferArgs,
                uo = ni.elements,
                aa = Je.invoke(pt, tt),
                Mn = pt.def("null"),
                La = pt.def(br, "(", aa, ")"),
                fo = Je.cond(La).then(Mn, "=", uo, ".createStream(", aa, ");")
                  .else(Mn, "=", uo, ".getElements(", aa, ");");
              return v.optional(function() {
                Je.assert(fo.else, "!" + aa + "||" + Mn, "invalid elements");
              }),
                pt.entry(fo),
                pt.exit(Je.cond(La).then(uo, ".destroyStream(", Mn, ");")),
                Je.ELEMENTS = Mn,
                Mn;
            });
          }
          else if (P) {
            return new dr(B.thisDep, B.contextDep, B.propDep, function(Je, pt) {
              return pt.def(
                Je.shared.vao + ".currentVAO?" + Je.shared.elements
                  + ".getElements(" + Je.shared.vao
                  + ".currentVAO.elements):null",
              );
            });
          }
          return null;
        }
        var k = O();
        function W() {
          if (oo in M) {
            var qe = M[oo];
            return j.primitive = qe,
              v.commandParameter(qe, Ta, "invalid primitve", b.commandStr),
              Yi(function(ae, tt) {
                return Ta[qe];
              });
          }
          else if (oo in U) {
            var pe = U[oo];
            return Vr(pe, function(ae, tt) {
              var Je = ae.constants.primTypes, pt = ae.invoke(tt, pe);
              return v.optional(function() {
                ae.assert(
                  tt,
                  pt + " in " + Je,
                  "invalid primitive, must be one of " + Object.keys(Ta),
                );
              }),
                tt.def(Je, "[", pt, "]");
            });
          }
          else {
            if (C) {
              return ka(k)
                ? k.value
                  ? Yi(function(ae, tt) {
                    return tt.def(ae.ELEMENTS, ".primType");
                  })
                  : Yi(function() {
                    return Lm;
                  })
                : new dr(k.thisDep, k.contextDep, k.propDep, function(ae, tt) {
                  var Je = ae.ELEMENTS;
                  return tt.def(Je, "?", Je, ".primType:", Lm);
                });
            }
            if (P) {
              return new dr(
                B.thisDep,
                B.contextDep,
                B.propDep,
                function(ae, tt) {
                  return tt.def(
                    ae.shared.vao + ".currentVAO?" + ae.shared.vao
                      + ".currentVAO.primitive:" + Lm,
                  );
                },
              );
            }
          }
          return null;
        }
        function q(qe, pe) {
          if (qe in M) {
            var ae = M[qe] | 0;
            return pe ? j.offset = ae : j.instances = ae,
              v.command(!pe || ae >= 0, "invalid " + qe, b.commandStr),
              Yi(function(Je, pt) {
                return pe && (Je.OFFSET = ae), ae;
              });
          }
          else if (qe in U) {
            var tt = U[qe];
            return Vr(tt, function(Je, pt) {
              var ni = Je.invoke(pt, tt);
              return pe && (Je.OFFSET = ni,
                v.optional(function() {
                  Je.assert(pt, ni + ">=0", "invalid " + qe);
                })),
                ni;
            });
          }
          else if (pe) {
            if (C) {return Yi(function(Je, pt) {
                return Je.OFFSET = 0, 0;
              });}
            if (P) {
              return new dr(
                B.thisDep,
                B.contextDep,
                B.propDep,
                function(Je, pt) {
                  return pt.def(
                    Je.shared.vao + ".currentVAO?" + Je.shared.vao
                      + ".currentVAO.offset:0",
                  );
                },
              );
            }
          }
          else if (P) {
            return new dr(B.thisDep, B.contextDep, B.propDep, function(Je, pt) {
              return pt.def(
                Je.shared.vao + ".currentVAO?" + Je.shared.vao
                  + ".currentVAO.instances:-1",
              );
            });
          }
          return null;
        }
        var se = q(Sc, !0);
        function he() {
          if (so in M) {
            var qe = M[so] | 0;
            return j.count = qe,
              v.command(
                typeof qe == "number" && qe >= 0,
                "invalid vertex count",
                b.commandStr,
              ),
              Yi(function() {
                return qe;
              });
          }
          else if (so in U) {
            var pe = U[so];
            return Vr(pe, function(pt, ni) {
              var br = pt.invoke(ni, pe);
              return v.optional(function() {
                pt.assert(
                  ni,
                  "typeof " + br + "===\"number\"&&" + br + ">=0&&" + br
                    + "===(" + br + "|0)",
                  "invalid vertex count",
                );
              }),
                br;
            });
          }
          else if (C) {
            if (ka(k)) {
              if (k) {
                return se
                  ? new dr(
                    se.thisDep,
                    se.contextDep,
                    se.propDep,
                    function(pt, ni) {
                      var br = ni.def(pt.ELEMENTS, ".vertCount-", pt.OFFSET);
                      return v.optional(function() {
                        pt.assert(
                          ni,
                          br + ">=0",
                          "invalid vertex offset/element buffer too small",
                        );
                      }),
                        br;
                    },
                  )
                  : Yi(function(pt, ni) {
                    return ni.def(pt.ELEMENTS, ".vertCount");
                  });
              }
              var ae = Yi(function() {
                return -1;
              });
              return v.optional(function() {
                ae.MISSING = !0;
              }),
                ae;
            }
            else {
              var tt = new dr(
                k.thisDep || se.thisDep,
                k.contextDep || se.contextDep,
                k.propDep || se.propDep,
                function(pt, ni) {
                  var br = pt.ELEMENTS;
                  return pt.OFFSET
                    ? ni.def(br, "?", br, ".vertCount-", pt.OFFSET, ":-1")
                    : ni.def(br, "?", br, ".vertCount:-1");
                },
              );
              return v.optional(function() {
                tt.DYNAMIC = !0;
              }),
                tt;
            }
          }
          else if (P) {
            var Je = new dr(
              B.thisDep,
              B.contextDep,
              B.propDep,
              function(pt, ni) {
                return ni.def(
                  pt.shared.vao,
                  ".currentVAO?",
                  pt.shared.vao,
                  ".currentVAO.count:-1",
                );
              },
            );
            return Je;
          }
          return null;
        }
        var $e = W(), vt = he(), ot = q(Ec, !1);
        return {
          elements: k,
          primitive: $e,
          count: vt,
          instances: ot,
          offset: se,
          vao: B,
          vaoActive: P,
          elementsActive: C,
          static: j,
        };
      }
      function Mi(T, b) {
        var M = T.static, U = T.dynamic, j = {};
        return lt.forEach(function(P) {
          var N = Xe(P);
          function B(C, O) {
            if (P in M) {
              var k = C(M[P]);
              j[N] = Yi(function() {
                return k;
              });
            }
            else if (P in U) {
              var W = U[P];
              j[N] = Vr(W, function(q, se) {
                return O(q, se, q.invoke(se, W));
              });
            }
          }
          switch (P) {
            case F0:
            case I0:
            case A0:
            case P0:
            case k0:
            case B0:
            case $0:
            case M0:
            case N0:
            case R0:
              return B(function(C) {
                return v.commandType(C, "boolean", P, b.commandStr), C;
              }, function(C, O, k) {
                return v.optional(function() {
                  C.assert(
                    O,
                    "typeof " + k + "===\"boolean\"",
                    "invalid flag " + P,
                    C.commandStr,
                  );
                }),
                  k;
              });
            case L0:
              return B(function(C) {
                return v.commandParameter(C, vs, "invalid " + P, b.commandStr),
                  vs[C];
              }, function(C, O, k) {
                var W = C.constants.compareFuncs;
                return v.optional(function() {
                  C.assert(
                    O,
                    k + " in " + W,
                    "invalid " + P + ", must be one of " + Object.keys(vs),
                  );
                }),
                  O.def(W, "[", k, "]");
              });
            case O0:
              return B(function(C) {
                return v.command(
                  Ri(C) && C.length === 2 && typeof C[0] == "number"
                    && typeof C[1] == "number" && C[0] <= C[1],
                  "depth range is 2d array",
                  b.commandStr,
                ),
                  C;
              }, function(C, O, k) {
                v.optional(function() {
                  C.assert(
                    O,
                    C.shared.isArrayLike + "(" + k + ")&&" + k
                      + ".length===2&&typeof " + k + "[0]===\"number\"&&typeof "
                      + k + "[1]===\"number\"&&" + k + "[0]<=" + k + "[1]",
                    "depth range must be a 2d array",
                  );
                });
                var W = O.def("+", k, "[0]"), q = O.def("+", k, "[1]");
                return [W, q];
              });
            case gm:
              return B(function(C) {
                v.commandType(C, "object", "blend.func", b.commandStr);
                var O = "srcRGB" in C ? C.srcRGB : C.src,
                  k = "srcAlpha" in C ? C.srcAlpha : C.src,
                  W = "dstRGB" in C ? C.dstRGB : C.dst,
                  q = "dstAlpha" in C ? C.dstAlpha : C.dst;
                return v.commandParameter(O, Dn, N + ".srcRGB", b.commandStr),
                  v.commandParameter(k, Dn, N + ".srcAlpha", b.commandStr),
                  v.commandParameter(W, Dn, N + ".dstRGB", b.commandStr),
                  v.commandParameter(q, Dn, N + ".dstAlpha", b.commandStr),
                  v.command(
                    K0.indexOf(O + ", " + W) === -1,
                    "unallowed blending combination (srcRGB, dstRGB) = (" + O
                      + ", " + W + ")",
                    b.commandStr,
                  ),
                  [Dn[O], Dn[W], Dn[k], Dn[q]];
              }, function(C, O, k) {
                var W = C.constants.blendFuncs;
                v.optional(function() {
                  C.assert(
                    O,
                    k + "&&typeof " + k + "===\"object\"",
                    "invalid blend func, must be an object",
                  );
                });
                function q(pe, ae) {
                  var tt = O.def(
                    "\"",
                    pe,
                    ae,
                    "\" in ",
                    k,
                    "?",
                    k,
                    ".",
                    pe,
                    ae,
                    ":",
                    k,
                    ".",
                    pe,
                  );
                  return v.optional(function() {
                    C.assert(
                      O,
                      tt + " in " + W,
                      "invalid " + P + "." + pe + ae + ", must be one of "
                        + Object.keys(Dn),
                    );
                  }),
                    tt;
                }
                var se = q("src", "RGB"), he = q("dst", "RGB");
                v.optional(function() {
                  var pe = C.constants.invalidBlendCombinations;
                  C.assert(
                    O,
                    pe + ".indexOf(" + se + "+\", \"+" + he + ") === -1 ",
                    "unallowed blending combination for (srcRGB, dstRGB)",
                  );
                });
                var $e = O.def(W, "[", se, "]"),
                  vt = O.def(W, "[", q("src", "Alpha"), "]"),
                  ot = O.def(W, "[", he, "]"),
                  qe = O.def(W, "[", q("dst", "Alpha"), "]");
                return [$e, ot, vt, qe];
              });
            case pm:
              return B(function(C) {
                if (typeof C == "string") {
                  return v.commandParameter(
                    C,
                    ie,
                    "invalid " + P,
                    b.commandStr,
                  ),
                    [ie[C], ie[C]];
                }
                if (typeof C == "object") {
                  return v.commandParameter(
                    C.rgb,
                    ie,
                    P + ".rgb",
                    b.commandStr,
                  ),
                    v.commandParameter(C.alpha, ie, P + ".alpha", b.commandStr),
                    [ie[C.rgb], ie[C.alpha]];
                }
                v.commandRaise("invalid blend.equation", b.commandStr);
              }, function(C, O, k) {
                var W = C.constants.blendEquations,
                  q = O.def(),
                  se = O.def(),
                  he = C.cond("typeof ", k, "===\"string\"");
                return v.optional(function() {
                  function $e(vt, ot, qe) {
                    C.assert(
                      vt,
                      qe + " in " + W,
                      "invalid " + ot + ", must be one of " + Object.keys(ie),
                    );
                  }
                  $e(he.then, P, k),
                    C.assert(
                      he.else,
                      k + "&&typeof " + k + "===\"object\"",
                      "invalid " + P,
                    ),
                    $e(he.else, P + ".rgb", k + ".rgb"),
                    $e(he.else, P + ".alpha", k + ".alpha");
                }),
                  he.then(q, "=", se, "=", W, "[", k, "];"),
                  he.else(
                    q,
                    "=",
                    W,
                    "[",
                    k,
                    ".rgb];",
                    se,
                    "=",
                    W,
                    "[",
                    k,
                    ".alpha];",
                  ),
                  O(he),
                  [q, se];
              });
            case C0:
              return B(function(C) {
                return v.command(
                  Ri(C) && C.length === 4,
                  "blend.color must be a 4d array",
                  b.commandStr,
                ),
                  ur(4, function(O) {
                    return +C[O];
                  });
              }, function(C, O, k) {
                return v.optional(function() {
                  C.assert(
                    O,
                    C.shared.isArrayLike + "(" + k + ")&&" + k + ".length===4",
                    "blend.color must be a 4d array",
                  );
                }),
                  ur(4, function(W) {
                    return O.def("+", k, "[", W, "]");
                  });
              });
            case z0:
              return B(function(C) {
                return v.commandType(C, "number", N, b.commandStr), C | 0;
              }, function(C, O, k) {
                return v.optional(function() {
                  C.assert(
                    O,
                    "typeof " + k + "===\"number\"",
                    "invalid stencil.mask",
                  );
                }),
                  O.def(k, "|0");
              });
            case wm:
              return B(function(C) {
                v.commandType(C, "object", N, b.commandStr);
                var O = C.cmp || "keep",
                  k = C.ref || 0,
                  W = "mask" in C ? C.mask : -1;
                return v.commandParameter(O, vs, P + ".cmp", b.commandStr),
                  v.commandType(k, "number", P + ".ref", b.commandStr),
                  v.commandType(W, "number", P + ".mask", b.commandStr),
                  [vs[O], k, W];
              }, function(C, O, k) {
                var W = C.constants.compareFuncs;
                v.optional(function() {
                  function $e() {
                    C.assert(
                      O,
                      Array.prototype.join.call(arguments, ""),
                      "invalid stencil.func",
                    );
                  }
                  $e(k + "&&typeof ", k, "===\"object\""),
                    $e("!(\"cmp\" in ", k, ")||(", k, ".cmp in ", W, ")");
                });
                var q = O.def(
                    "\"cmp\" in ",
                    k,
                    "?",
                    W,
                    "[",
                    k,
                    ".cmp]",
                    ":",
                    Ia,
                  ),
                  se = O.def(k, ".ref|0"),
                  he = O.def("\"mask\" in ", k, "?", k, ".mask|0:-1");
                return [q, se, he];
              });
            case Sm:
            case _l:
              return B(function(C) {
                v.commandType(C, "object", N, b.commandStr);
                var O = C.fail || "keep",
                  k = C.zfail || "keep",
                  W = C.zpass || "keep";
                return v.commandParameter(O, Ca, P + ".fail", b.commandStr),
                  v.commandParameter(k, Ca, P + ".zfail", b.commandStr),
                  v.commandParameter(W, Ca, P + ".zpass", b.commandStr),
                  [P === _l ? lo : Cl, Ca[O], Ca[k], Ca[W]];
              }, function(C, O, k) {
                var W = C.constants.stencilOps;
                v.optional(function() {
                  C.assert(
                    O,
                    k + "&&typeof " + k + "===\"object\"",
                    "invalid " + P,
                  );
                });
                function q(se) {
                  return v.optional(function() {
                    C.assert(
                      O,
                      "!(\"" + se + "\" in " + k + ")||(" + k + "." + se
                        + " in " + W + ")",
                      "invalid " + P + "." + se + ", must be one of "
                        + Object.keys(Ca),
                    );
                  }),
                    O.def(
                      "\"",
                      se,
                      "\" in ",
                      k,
                      "?",
                      W,
                      "[",
                      k,
                      ".",
                      se,
                      "]:",
                      Ia,
                    );
                }
                return [P === _l ? lo : Cl, q("fail"), q("zfail"), q("zpass")];
              });
            case bm:
              return B(function(C) {
                v.commandType(C, "object", N, b.commandStr);
                var O = C.factor | 0, k = C.units | 0;
                return v.commandType(O, "number", N + ".factor", b.commandStr),
                  v.commandType(k, "number", N + ".units", b.commandStr),
                  [O, k];
              }, function(C, O, k) {
                v.optional(function() {
                  C.assert(
                    O,
                    k + "&&typeof " + k + "===\"object\"",
                    "invalid " + P,
                  );
                });
                var W = O.def(k, ".factor|0"), q = O.def(k, ".units|0");
                return [W, q];
              });
            case D0:
              return B(function(C) {
                var O = 0;
                return C === "front" ? O = Cl : C === "back" && (O = lo),
                  v.command(!!O, N, b.commandStr),
                  O;
              }, function(C, O, k) {
                return v.optional(function() {
                  C.assert(
                    O,
                    k + "===\"front\"||" + k + "===\"back\"",
                    "invalid cull.face",
                  );
                }),
                  O.def(k, "===\"front\"?", Cl, ":", lo);
              });
            case xm:
              return B(function(C) {
                return v.command(
                  typeof C == "number" && C >= J.lineWidthDims[0]
                    && C <= J.lineWidthDims[1],
                  "invalid line width, must be a positive number between "
                    + J.lineWidthDims[0] + " and " + J.lineWidthDims[1],
                  b.commandStr,
                ),
                  C;
              }, function(C, O, k) {
                return v.optional(function() {
                  C.assert(
                    O,
                    "typeof " + k + "===\"number\"&&" + k + ">="
                      + J.lineWidthDims[0] + "&&" + k + "<="
                      + J.lineWidthDims[1],
                    "invalid line width",
                  );
                }),
                  k;
              });
            case _m:
              return B(function(C) {
                return v.commandParameter(C, Rm, N, b.commandStr), Rm[C];
              }, function(C, O, k) {
                return v.optional(function() {
                  C.assert(
                    O,
                    k + "===\"cw\"||" + k + "===\"ccw\"",
                    "invalid frontFace, must be one of cw,ccw",
                  );
                }),
                  O.def(k + "===\"cw\"?" + V0 + ":" + Om);
              });
            case vm:
              return B(function(C) {
                return v.command(
                  Ri(C) && C.length === 4,
                  "color.mask must be length 4 array",
                  b.commandStr,
                ),
                  C.map(function(O) {
                    return !!O;
                  });
              }, function(C, O, k) {
                return v.optional(function() {
                  C.assert(
                    O,
                    C.shared.isArrayLike + "(" + k + ")&&" + k + ".length===4",
                    "invalid color.mask",
                  );
                }),
                  ur(4, function(W) {
                    return "!!" + k + "[" + W + "]";
                  });
              });
            case ym:
              return B(function(C) {
                v.command(typeof C == "object" && C, N, b.commandStr);
                var O = "value" in C ? C.value : 1, k = !!C.invert;
                return v.command(
                  typeof O == "number" && O >= 0 && O <= 1,
                  "sample.coverage.value must be a number between 0 and 1",
                  b.commandStr,
                ),
                  [O, k];
              }, function(C, O, k) {
                v.optional(function() {
                  C.assert(
                    O,
                    k + "&&typeof " + k + "===\"object\"",
                    "invalid sample.coverage",
                  );
                });
                var W = O.def("\"value\" in ", k, "?+", k, ".value:1"),
                  q = O.def("!!", k, ".invert");
                return [W, q];
              });
          }
        }),
          j;
      }
      function Dt(T, b) {
        var M = T.static, U = T.dynamic, j = {};
        return Object.keys(M).forEach(function(P) {
          var N = M[P], B;
          if (typeof N == "number" || typeof N == "boolean") {
            B = Yi(function() {
              return N;
            });
          }
          else if (typeof N == "function") {
            var C = N._reglType;
            C === "texture2d" || C === "textureCube"
              ? B = Yi(function(O) {
                return O.link(N);
              })
              : C === "framebuffer" || C === "framebufferCube"
              ? (v.command(
                N.color.length > 0,
                "missing color attachment for framebuffer sent to uniform \""
                  + P + "\"",
                b.commandStr,
              ),
                B = Yi(function(O) {
                  return O.link(N.color[0]);
                }))
              : v.commandRaise(
                "invalid data for uniform \"" + P + "\"",
                b.commandStr,
              );
          }
          else {
            Ri(N)
              ? B = Yi(function(O) {
                var k = O.global.def(
                  "[",
                  ur(N.length, function(W) {
                    return v.command(
                      typeof N[W] == "number" || typeof N[W] == "boolean",
                      "invalid uniform " + P,
                      O.commandStr,
                    ),
                      N[W];
                  }),
                  "]",
                );
                return k;
              })
              : v.commandRaise(
                "invalid or missing data for uniform \"" + P + "\"",
                b.commandStr,
              );
          }
          B.value = N, j[P] = B;
        }),
          Object.keys(U).forEach(function(P) {
            var N = U[P];
            j[P] = Vr(N, function(B, C) {
              return B.invoke(C, N);
            });
          }),
          j;
      }
      function rr(T, b) {
        var M = T.static, U = T.dynamic, j = {};
        return Object.keys(M).forEach(function(P) {
          var N = M[P], B = w.id(P), C = new H();
          if (Dc(N)) {
            C.state = ms,
              C.buffer = ce.getBuffer(ce.create(N, gs, !1, !0)),
              C.type = 0;
          }
          else {
            var O = ce.getBuffer(N);
            if (O) C.state = ms, C.buffer = O, C.type = 0;
            else if (
              v.command(
                typeof N == "object" && N,
                "invalid data for attribute " + P,
                b.commandStr,
              ), "constant" in N
            ) {
              var k = N.constant;
              C.buffer = "null",
                C.state = cm,
                typeof k == "number"
                  ? C.x = k
                  : (v.command(
                    Ri(k) && k.length > 0 && k.length <= 4,
                    "invalid constant for attribute " + P,
                    b.commandStr,
                  ),
                    fs.forEach(function(ot, qe) {
                      qe < k.length && (C[ot] = k[qe]);
                    }));
            }
            else {
              Dc(N.buffer)
                ? O = ce.getBuffer(ce.create(N.buffer, gs, !1, !0))
                : O = ce.getBuffer(N.buffer),
                v.command(
                  !!O,
                  "missing buffer for attribute \"" + P + "\"",
                  b.commandStr,
                );
              var W = N.offset | 0;
              v.command(
                W >= 0,
                "invalid offset for attribute \"" + P + "\"",
                b.commandStr,
              );
              var q = N.stride | 0;
              v.command(
                q >= 0 && q < 256,
                "invalid stride for attribute \"" + P
                  + "\", must be integer betweeen [0, 255]",
                b.commandStr,
              );
              var se = N.size | 0;
              v.command(
                !("size" in N) || se > 0 && se <= 4,
                "invalid size for attribute \"" + P + "\", must be 1,2,3,4",
                b.commandStr,
              );
              var he = !!N.normalized, $e = 0;
              "type" in N
                && (v.commandParameter(
                  N.type,
                  Qa,
                  "invalid type for attribute " + P,
                  b.commandStr,
                ),
                  $e = Qa[N.type]);
              var vt = N.divisor | 0;
              v.optional(function() {
                "divisor" in N
                  && (v.command(
                    vt === 0 || Ie,
                    "cannot specify divisor for attribute \"" + P
                      + "\", instancing not supported",
                    b.commandStr,
                  ),
                    v.command(
                      vt >= 0,
                      "invalid divisor for attribute \"" + P + "\"",
                      b.commandStr,
                    ));
                var ot = b.commandStr,
                  qe = [
                    "buffer",
                    "offset",
                    "divisor",
                    "normalized",
                    "type",
                    "size",
                    "stride",
                  ];
                Object.keys(N).forEach(function(pe) {
                  v.command(
                    qe.indexOf(pe) >= 0,
                    "unknown parameter \"" + pe + "\" for attribute pointer \""
                      + P + "\" (valid parameters are " + qe + ")",
                    ot,
                  );
                });
              }),
                C.buffer = O,
                C.state = ms,
                C.size = se,
                C.normalized = he,
                C.type = $e || O.dtype,
                C.offset = W,
                C.stride = q,
                C.divisor = vt;
            }
          }
          j[P] = Yi(function(ot, qe) {
            var pe = ot.attribCache;
            if (B in pe) return pe[B];
            var ae = { isStream: !1 };
            return Object.keys(C).forEach(function(tt) {
              ae[tt] = C[tt];
            }),
              C.buffer
              && (ae.buffer = ot.link(C.buffer),
                ae.type = ae.type || ae.buffer + ".dtype"),
              pe[B] = ae,
              ae;
          });
        }),
          Object.keys(U).forEach(function(P) {
            var N = U[P];
            function B(C, O) {
              var k = C.invoke(O, N),
                W = C.shared,
                q = C.constants,
                se = W.isBufferArgs,
                he = W.buffer;
              v.optional(function() {
                C.assert(
                  O,
                  k + "&&(typeof " + k + "===\"object\"||typeof " + k
                    + "===\"function\")&&(" + se + "(" + k + ")||" + he
                    + ".getBuffer(" + k + ")||" + he + ".getBuffer(" + k
                    + ".buffer)||" + se + "(" + k
                    + ".buffer)||(\"constant\" in " + k + "&&(typeof " + k
                    + ".constant===\"number\"||" + W.isArrayLike + "(" + k
                    + ".constant))))",
                  "invalid dynamic attribute \"" + P + "\"",
                );
              });
              var $e = { isStream: O.def(!1) }, vt = new H();
              vt.state = ms,
                Object.keys(vt).forEach(function(ae) {
                  $e[ae] = O.def("" + vt[ae]);
                });
              var ot = $e.buffer, qe = $e.type;
              O(
                "if(",
                se,
                "(",
                k,
                ")){",
                $e.isStream,
                "=true;",
                ot,
                "=",
                he,
                ".createStream(",
                gs,
                ",",
                k,
                ");",
                qe,
                "=",
                ot,
                ".dtype;",
                "}else{",
                ot,
                "=",
                he,
                ".getBuffer(",
                k,
                ");",
                "if(",
                ot,
                "){",
                qe,
                "=",
                ot,
                ".dtype;",
                "}else if(\"constant\" in ",
                k,
                "){",
                $e.state,
                "=",
                cm,
                ";",
                "if(typeof " + k + ".constant === \"number\"){",
                $e[fs[0]],
                "=",
                k,
                ".constant;",
                fs.slice(1).map(function(ae) {
                  return $e[ae];
                }).join("="),
                "=0;",
                "}else{",
                fs.map(function(ae, tt) {
                  return $e[ae] + "=" + k + ".constant.length>" + tt + "?" + k
                    + ".constant[" + tt + "]:0;";
                }).join(""),
                "}}else{",
                "if(",
                se,
                "(",
                k,
                ".buffer)){",
                ot,
                "=",
                he,
                ".createStream(",
                gs,
                ",",
                k,
                ".buffer);",
                "}else{",
                ot,
                "=",
                he,
                ".getBuffer(",
                k,
                ".buffer);",
                "}",
                qe,
                "=\"type\" in ",
                k,
                "?",
                q.glTypes,
                "[",
                k,
                ".type]:",
                ot,
                ".dtype;",
                $e.normalized,
                "=!!",
                k,
                ".normalized;",
              );
              function pe(ae) {
                O($e[ae], "=", k, ".", ae, "|0;");
              }
              return pe("size"),
                pe("offset"),
                pe("stride"),
                pe("divisor"),
                O("}}"),
                O.exit(
                  "if(",
                  $e.isStream,
                  "){",
                  he,
                  ".destroyStream(",
                  ot,
                  ");",
                  "}",
                ),
                $e;
            }
            j[P] = Vr(N, B);
          }),
          j;
      }
      function Ti(T) {
        var b = T.static, M = T.dynamic, U = {};
        return Object.keys(b).forEach(function(j) {
          var P = b[j];
          U[j] = Yi(function(N, B) {
            return typeof P == "number" || typeof P == "boolean"
              ? "" + P
              : N.link(P);
          });
        }),
          Object.keys(M).forEach(function(j) {
            var P = M[j];
            U[j] = Vr(P, function(N, B) {
              return N.invoke(B, P);
            });
          }),
          U;
      }
      function Xi(T, b, M, U, j) {
        var P = T.static, N = T.dynamic;
        v.optional(function() {
          var pe = [no, bl, yl, ao, oo, Sc, so, Ec, xl, wl].concat(lt);
          function ae(tt) {
            Object.keys(tt).forEach(function(Je) {
              v.command(
                pe.indexOf(Je) >= 0,
                "unknown parameter \"" + Je + "\"",
                j.commandStr,
              );
            });
          }
          ae(P), ae(N);
        });
        var B = wt(T, b),
          C = je(T, j),
          O = ht(T, C, j),
          k = Fi(T, j),
          W = Mi(T, j),
          q = kt(T, j, B);
        function se(pe) {
          var ae = O[pe];
          ae && (W[pe] = ae);
        }
        se(na), se(Xe(wc));
        var he = Object.keys(W).length > 0,
          $e = {
            framebuffer: C,
            draw: k,
            shader: q,
            state: W,
            dirty: he,
            scopeVAO: null,
            drawVAO: null,
            useVAO: !1,
            attributes: {},
          };
        if (
          $e.profile = Ge(T, j),
            $e.uniforms = Dt(M, j),
            $e.drawVAO = $e.scopeVAO = k.vao,
            !$e.drawVAO && q.program && !B && F.angle_instanced_arrays
            && k.static.elements
        ) {
          var vt = !0,
            ot = q.program.attributes.map(function(pe) {
              var ae = b.static[pe];
              return vt = vt && !!ae, ae;
            });
          if (vt && ot.length > 0) {
            var qe = ke.getVAO(
              ke.createVAO({ attributes: ot, elements: k.static.elements }),
            );
            $e.drawVAO = new dr(null, null, null, function(pe, ae) {
              return pe.link(qe);
            }), $e.useVAO = !0;
          }
        }
        return B ? $e.useVAO = !0 : $e.attributes = rr(b, j),
          $e.context = Ti(U, j),
          $e;
      }
      function nr(T, b, M) {
        var U = T.shared, j = U.context, P = T.scope();
        Object.keys(M).forEach(function(N) {
          b.save(j, "." + N);
          var B = M[N], C = B.append(T, b);
          Array.isArray(C)
            ? P(j, ".", N, "=[", C.join(), "];")
            : P(j, ".", N, "=", C, ";");
        }), b(P);
      }
      function ar(T, b, M, U) {
        var j = T.shared, P = j.gl, N = j.framebuffer, B;
        Ve && (B = b.def(j.extensions, ".webgl_draw_buffers"));
        var C = T.constants, O = C.drawBuffer, k = C.backBuffer, W;
        M ? W = M.append(T, b) : W = b.def(N, ".next"),
          U || b("if(", W, "!==", N, ".cur){"),
          b(
            "if(",
            W,
            "){",
            P,
            ".bindFramebuffer(",
            X0,
            ",",
            W,
            ".framebuffer);",
          ),
          Ve
          && b(
            B,
            ".drawBuffersWEBGL(",
            O,
            "[",
            W,
            ".colorAttachments.length]);",
          ),
          b("}else{", P, ".bindFramebuffer(", X0, ",null);"),
          Ve && b(B, ".drawBuffersWEBGL(", k, ");"),
          b("}", N, ".cur=", W, ";"),
          U || b("}");
      }
      function hr(T, b, M) {
        var U = T.shared,
          j = U.gl,
          P = T.current,
          N = T.next,
          B = U.current,
          C = U.next,
          O = T.cond(B, ".dirty");
        lt.forEach(function(k) {
          var W = Xe(k);
          if (!(W in M.state)) {
            var q, se;
            if (W in N) {
              q = N[W], se = P[W];
              var he = ur(He[W].length, function(vt) {
                return O.def(q, "[", vt, "]");
              });
              O(
                T.cond(
                  he.map(function(vt, ot) {
                    return vt + "!==" + se + "[" + ot + "]";
                  }).join("||"),
                ).then(
                  j,
                  ".",
                  de[W],
                  "(",
                  he,
                  ");",
                  he.map(function(vt, ot) {
                    return se + "[" + ot + "]=" + vt;
                  }).join(";"),
                  ";",
                ),
              );
            }
            else {
              q = O.def(C, ".", W);
              var $e = T.cond(q, "!==", B, ".", W);
              O($e),
                W in fe
                  ? $e(
                    T.cond(q).then(j, ".enable(", fe[W], ");").else(
                      j,
                      ".disable(",
                      fe[W],
                      ");",
                    ),
                    B,
                    ".",
                    W,
                    "=",
                    q,
                    ";",
                  )
                  : $e(j, ".", de[W], "(", q, ");", B, ".", W, "=", q, ";");
            }
          }
        }),
          Object.keys(M.state).length === 0 && O(B, ".dirty=false;"),
          b(O);
      }
      function _r(T, b, M, U) {
        var j = T.shared, P = T.current, N = j.current, B = j.gl;
        J0(Object.keys(M)).forEach(function(C) {
          var O = M[C];
          if (!(U && !U(O))) {
            var k = O.append(T, b);
            if (fe[C]) {
              var W = fe[C];
              ka(O)
                ? k ? b(B, ".enable(", W, ");") : b(B, ".disable(", W, ");")
                : b(
                  T.cond(k).then(B, ".enable(", W, ");").else(
                    B,
                    ".disable(",
                    W,
                    ");",
                  ),
                ), b(N, ".", C, "=", k, ";");
            }
            else if (Ri(k)) {
              var q = P[C];
              b(
                B,
                ".",
                de[C],
                "(",
                k,
                ");",
                k.map(function(se, he) {
                  return q + "[" + he + "]=" + se;
                }).join(";"),
                ";",
              );
            }
            else b(B, ".", de[C], "(", k, ");", N, ".", C, "=", k, ";");
          }
        });
      }
      function Hi(T, b) {
        Ie
          && (T.instancing = b.def(
            T.shared.extensions,
            ".angle_instanced_arrays",
          ));
      }
      function Et(T, b, M, U, j) {
        var P = T.shared,
          N = T.stats,
          B = P.current,
          C = P.timer,
          O = M.profile;
        function k() {
          return typeof performance > "u" ? "Date.now()" : "performance.now()";
        }
        var W, q;
        function se(pe) {
          W = b.def(),
            pe(W, "=", k(), ";"),
            typeof j == "string" ? pe(N, ".count+=", j, ";")
            : pe(N, ".count++;"),
            we
            && (U
              ? (q = b.def(), pe(q, "=", C, ".getNumPendingQueries();"))
              : pe(C, ".beginQuery(", N, ");"));
        }
        function he(pe) {
          pe(N, ".cpuTime+=", k(), "-", W, ";"),
            we && (U
              ? pe(
                C,
                ".pushScopeStats(",
                q,
                ",",
                C,
                ".getNumPendingQueries(),",
                N,
                ");",
              )
              : pe(C, ".endQuery();"));
        }
        function $e(pe) {
          var ae = b.def(B, ".profile");
          b(B, ".profile=", pe, ";"), b.exit(B, ".profile=", ae, ";");
        }
        var vt;
        if (O) {
          if (ka(O)) {
            O.enable ? (se(b), he(b.exit), $e("true")) : $e("false");
            return;
          }
          vt = O.append(T, b), $e(vt);
        }
        else vt = b.def(B, ".profile");
        var ot = T.block();
        se(ot), b("if(", vt, "){", ot, "}");
        var qe = T.block();
        he(qe), b.exit("if(", vt, "){", qe, "}");
      }
      function xr(T, b, M, U, j) {
        var P = T.shared;
        function N(C) {
          switch (C) {
            case Tc:
            case Cc:
            case Oc:
              return 2;
            case Ac:
            case kc:
            case Rc:
              return 3;
            case Ic:
            case Lc:
            case Fc:
              return 4;
            default:
              return 1;
          }
        }
        function B(C, O, k) {
          var W = P.gl,
            q = b.def(C, ".location"),
            se = b.def(P.attributes, "[", q, "]"),
            he = k.state,
            $e = k.buffer,
            vt = [k.x, k.y, k.z, k.w],
            ot = ["buffer", "normalized", "offset", "stride"];
          function qe() {
            b(
              "if(!",
              se,
              ".buffer){",
              W,
              ".enableVertexAttribArray(",
              q,
              ");}",
            );
            var ae = k.type, tt;
            if (
              k.size ? tt = b.def(k.size, "||", O) : tt = O,
                b(
                  "if(",
                  se,
                  ".type!==",
                  ae,
                  "||",
                  se,
                  ".size!==",
                  tt,
                  "||",
                  ot.map(function(pt) {
                    return se + "." + pt + "!==" + k[pt];
                  }).join("||"),
                  "){",
                  W,
                  ".bindBuffer(",
                  gs,
                  ",",
                  $e,
                  ".buffer);",
                  W,
                  ".vertexAttribPointer(",
                  [q, tt, ae, k.normalized, k.stride, k.offset],
                  ");",
                  se,
                  ".type=",
                  ae,
                  ";",
                  se,
                  ".size=",
                  tt,
                  ";",
                  ot.map(function(pt) {
                    return se + "." + pt + "=" + k[pt] + ";";
                  }).join(""),
                  "}",
                ),
                Ie
            ) {
              var Je = k.divisor;
              b(
                "if(",
                se,
                ".divisor!==",
                Je,
                "){",
                T.instancing,
                ".vertexAttribDivisorANGLE(",
                [q, Je],
                ");",
                se,
                ".divisor=",
                Je,
                ";}",
              );
            }
          }
          function pe() {
            b(
              "if(",
              se,
              ".buffer){",
              W,
              ".disableVertexAttribArray(",
              q,
              ");",
              se,
              ".buffer=null;",
              "}if(",
              fs.map(function(ae, tt) {
                return se + "." + ae + "!==" + vt[tt];
              }).join("||"),
              "){",
              W,
              ".vertexAttrib4f(",
              q,
              ",",
              vt,
              ");",
              fs.map(function(ae, tt) {
                return se + "." + ae + "=" + vt[tt] + ";";
              }).join(""),
              "}",
            );
          }
          he === ms
            ? qe()
            : he === cm
            ? pe()
            : (b("if(", he, "===", ms, "){"), qe(), b("}else{"), pe(), b("}"));
        }
        U.forEach(function(C) {
          var O = C.name, k = M.attributes[O], W;
          if (k) {
            if (!j(k)) return;
            W = k.append(T, b);
          }
          else {
            if (!j(Q0)) return;
            var q = T.scopeAttrib(O);
            v.optional(function() {
              T.assert(b, q + ".state", "missing attribute " + O);
            }),
              W = {},
              Object.keys(new H()).forEach(function(se) {
                W[se] = b.def(q, ".", se);
              });
          }
          B(T.link(C), N(C.info.type), W);
        });
      }
      function ii(T, b, M, U, j, P) {
        for (var N = T.shared, B = N.gl, C = {}, O, k = 0; k < U.length; ++k) {
          var W = U[k],
            q = W.name,
            se = W.info.type,
            he = W.info.size,
            $e = M.uniforms[q];
          if (he > 1) {
            if (!$e) continue;
            var vt = q.replace("[0]", "");
            if (C[vt]) continue;
            C[vt] = 1;
          }
          var ot = T.link(W), qe = ot + ".location", pe;
          if ($e) {
            if (!j($e)) continue;
            if (ka($e)) {
              var ae = $e.value;
              if (
                v.command(
                  ae !== null && typeof ae < "u",
                  "missing uniform \"" + q + "\"",
                  T.commandStr,
                ), se === Al || se === Il
              ) {
                v.command(
                  typeof ae == "function"
                    && (se === Al
                        && (ae._reglType === "texture2d"
                          || ae._reglType === "framebuffer")
                      || se === Il
                        && (ae._reglType === "textureCube"
                          || ae._reglType === "framebufferCube")),
                  "invalid texture for uniform " + q,
                  T.commandStr,
                );
                var tt = T.link(ae._texture || ae.color[0]._texture);
                b(B, ".uniform1i(", qe, ",", tt + ".bind());"),
                  b.exit(tt, ".unbind();");
              }
              else if (se === Sl || se === El || se === Tl) {
                v.optional(function() {
                  v.command(
                    Ri(ae),
                    "invalid matrix for uniform " + q,
                    T.commandStr,
                  ),
                    v.command(
                      se === Sl && ae.length === 4
                        || se === El && ae.length === 9
                        || se === Tl && ae.length === 16,
                      "invalid length for matrix uniform " + q,
                      T.commandStr,
                    );
                });
                var Je = T.global.def(
                    "new Float32Array([" + Array.prototype.slice.call(ae)
                      + "])",
                  ),
                  pt = 2;
                se === El ? pt = 3 : se === Tl && (pt = 4),
                  b(B, ".uniformMatrix", pt, "fv(", qe, ",false,", Je, ");");
              }
              else {
                switch (se) {
                  case Im:
                    he === 1
                      ? v.commandType(
                        ae,
                        "number",
                        "uniform " + q,
                        T.commandStr,
                      )
                      : v.command(
                        Ri(ae) && ae.length === he,
                        "uniform " + q,
                        T.commandStr,
                      ), O = "1f";
                    break;
                  case Tc:
                    v.command(
                      Ri(ae) && ae.length && ae.length % 2 === 0
                        && ae.length <= he * 2,
                      "uniform " + q,
                      T.commandStr,
                    ), O = "2f";
                    break;
                  case Ac:
                    v.command(
                      Ri(ae) && ae.length && ae.length % 3 === 0
                        && ae.length <= he * 3,
                      "uniform " + q,
                      T.commandStr,
                    ), O = "3f";
                    break;
                  case Ic:
                    v.command(
                      Ri(ae) && ae.length && ae.length % 4 === 0
                        && ae.length <= he * 4,
                      "uniform " + q,
                      T.commandStr,
                    ), O = "4f";
                    break;
                  case km:
                    he === 1
                      ? v.commandType(
                        ae,
                        "boolean",
                        "uniform " + q,
                        T.commandStr,
                      )
                      : v.command(
                        Ri(ae) && ae.length === he,
                        "uniform " + q,
                        T.commandStr,
                      ), O = "1i";
                    break;
                  case Cm:
                    he === 1
                      ? v.commandType(
                        ae,
                        "number",
                        "uniform " + q,
                        T.commandStr,
                      )
                      : v.command(
                        Ri(ae) && ae.length === he,
                        "uniform " + q,
                        T.commandStr,
                      ), O = "1i";
                    break;
                  case Oc:
                    v.command(
                      Ri(ae) && ae.length && ae.length % 2 === 0
                        && ae.length <= he * 2,
                      "uniform " + q,
                      T.commandStr,
                    ), O = "2i";
                    break;
                  case Cc:
                    v.command(
                      Ri(ae) && ae.length && ae.length % 2 === 0
                        && ae.length <= he * 2,
                      "uniform " + q,
                      T.commandStr,
                    ), O = "2i";
                    break;
                  case Rc:
                    v.command(
                      Ri(ae) && ae.length && ae.length % 3 === 0
                        && ae.length <= he * 3,
                      "uniform " + q,
                      T.commandStr,
                    ), O = "3i";
                    break;
                  case kc:
                    v.command(
                      Ri(ae) && ae.length && ae.length % 3 === 0
                        && ae.length <= he * 3,
                      "uniform " + q,
                      T.commandStr,
                    ), O = "3i";
                    break;
                  case Fc:
                    v.command(
                      Ri(ae) && ae.length && ae.length % 4 === 0
                        && ae.length <= he * 4,
                      "uniform " + q,
                      T.commandStr,
                    ), O = "4i";
                    break;
                  case Lc:
                    v.command(
                      Ri(ae) && ae.length && ae.length % 4 === 0
                        && ae.length <= he * 4,
                      "uniform " + q,
                      T.commandStr,
                    ), O = "4i";
                    break;
                }
                he > 1
                  ? (O += "v",
                    ae = T.global.def(
                      "[" + Array.prototype.slice.call(ae) + "]",
                    ))
                  : ae = Ri(ae) ? Array.prototype.slice.call(ae) : ae,
                  b(B, ".uniform", O, "(", qe, ",", ae, ");");
              }
              continue;
            }
            else pe = $e.append(T, b);
          }
          else {
            if (!j(Q0)) continue;
            pe = b.def(N.uniforms, "[", w.id(q), "]");
          }
          se === Al
            ? (v(!Array.isArray(pe), "must specify a scalar prop for textures"),
              b(
                "if(",
                pe,
                "&&",
                pe,
                "._reglType===\"framebuffer\"){",
                pe,
                "=",
                pe,
                ".color[0];",
                "}",
              ))
            : se === Il
              && (v(
                !Array.isArray(pe),
                "must specify a scalar prop for cube maps",
              ),
                b(
                  "if(",
                  pe,
                  "&&",
                  pe,
                  "._reglType===\"framebufferCube\"){",
                  pe,
                  "=",
                  pe,
                  ".color[0];",
                  "}",
                )),
            v.optional(function() {
              function tn(qr, $c) {
                T.assert(
                  b,
                  qr,
                  "bad data or missing for uniform \"" + q + "\".  " + $c,
                );
              }
              function mo(qr, $c) {
                $c === 1
                && v(
                  !Array.isArray(pe),
                  "must not specify an array type for uniform",
                ),
                  tn(
                    "Array.isArray(" + pe + ") && typeof " + pe + "[0]===\" "
                      + qr + "\" || typeof " + pe + "===\"" + qr + "\"",
                    "invalid type, expected " + qr,
                  );
              }
              function dn(qr, $c, Mc) {
                Array.isArray(pe)
                  ? v(
                    pe.length && pe.length % qr === 0 && pe.length <= qr * Mc,
                    "must have length of " + (Mc === 1 ? "" : "n * ") + qr,
                  )
                  : tn(
                    N.isArrayLike + "(" + pe + ")&&" + pe + ".length && " + pe
                      + ".length % " + qr + " === 0 && " + pe + ".length<="
                      + qr * Mc,
                    "invalid vector, should have length of " + (Mc === 1
                      ? ""
                      : "n * ") + qr,
                    T.commandStr,
                  );
              }
              function ov(qr) {
                v(!Array.isArray(pe), "must not specify a value type"),
                  tn(
                    "typeof " + pe + "===\"function\"&&" + pe
                      + "._reglType===\"texture" + (qr === j0 ? "2d" : "Cube")
                      + "\"",
                    "invalid texture type",
                    T.commandStr,
                  );
              }
              switch (se) {
                case Cm:
                  mo("number", he);
                  break;
                case Cc:
                  dn(2, "number", he);
                  break;
                case kc:
                  dn(3, "number", he);
                  break;
                case Lc:
                  dn(4, "number", he);
                  break;
                case Im:
                  mo("number", he);
                  break;
                case Tc:
                  dn(2, "number", he);
                  break;
                case Ac:
                  dn(3, "number", he);
                  break;
                case Ic:
                  dn(4, "number", he);
                  break;
                case km:
                  mo("boolean", he);
                  break;
                case Oc:
                  dn(2, "boolean", he);
                  break;
                case Rc:
                  dn(3, "boolean", he);
                  break;
                case Fc:
                  dn(4, "boolean", he);
                  break;
                case Sl:
                  dn(4, "number", he);
                  break;
                case El:
                  dn(9, "number", he);
                  break;
                case Tl:
                  dn(16, "number", he);
                  break;
                case Al:
                  ov(j0);
                  break;
                case Il:
                  ov(GS);
                  break;
              }
            });
          var ni = 1;
          switch (se) {
            case Al:
            case Il:
              var br = b.def(pe, "._texture");
              b(B, ".uniform1i(", qe, ",", br, ".bind());"),
                b.exit(br, ".unbind();");
              continue;
            case Cm:
            case km:
              O = "1i";
              break;
            case Cc:
            case Oc:
              O = "2i", ni = 2;
              break;
            case kc:
            case Rc:
              O = "3i", ni = 3;
              break;
            case Lc:
            case Fc:
              O = "4i", ni = 4;
              break;
            case Im:
              O = "1f";
              break;
            case Tc:
              O = "2f", ni = 2;
              break;
            case Ac:
              O = "3f", ni = 3;
              break;
            case Ic:
              O = "4f", ni = 4;
              break;
            case Sl:
              O = "Matrix2fv";
              break;
            case El:
              O = "Matrix3fv";
              break;
            case Tl:
              O = "Matrix4fv";
              break;
          }
          if (
            O.indexOf("Matrix") === -1 && he > 1 && (O += "v", ni = 1),
              O.charAt(0) === "M"
          ) {
            b(B, ".uniform", O, "(", qe, ",");
            var uo = Math.pow(se - Sl + 2, 2),
              aa = T.global.def("new Float32Array(", uo, ")");
            Array.isArray(pe)
              ? b(
                "false,(",
                ur(uo, function(tn) {
                  return aa + "[" + tn + "]=" + pe[tn];
                }),
                ",",
                aa,
                ")",
              )
              : b(
                "false,(Array.isArray(",
                pe,
                ")||",
                pe,
                " instanceof Float32Array)?",
                pe,
                ":(",
                ur(uo, function(tn) {
                  return aa + "[" + tn + "]=" + pe + "[" + tn + "]";
                }),
                ",",
                aa,
                ")",
              ), b(");");
          }
          else if (ni > 1) {
            for (var Mn = [], La = [], fo = 0; fo < ni; ++fo) {
              Array.isArray(pe)
                ? La.push(pe[fo])
                : La.push(b.def(pe + "[" + fo + "]")), P && Mn.push(b.def());
            }
            P && b(
              "if(!",
              T.batchId,
              "||",
              Mn.map(function(tn, mo) {
                return tn + "!==" + La[mo];
              }).join("||"),
              "){",
              Mn.map(function(tn, mo) {
                return tn + "=" + La[mo] + ";";
              }).join(""),
            ),
              b(B, ".uniform", O, "(", qe, ",", La.join(","), ");"),
              P && b("}");
          }
          else {
            if (
              v(!Array.isArray(pe), "uniform value must not be an array"), P
            ) {
              var av = b.def();
              b("if(!", T.batchId, "||", av, "!==", pe, "){", av, "=", pe, ";");
            }
            b(B, ".uniform", O, "(", qe, ",", pe, ");"), P && b("}");
          }
        }
      }
      function ut(T, b, M, U) {
        var j = T.shared, P = j.gl, N = j.draw, B = U.draw;
        function C() {
          var tt = B.elements, Je, pt = b;
          return tt
            ? ((tt.contextDep && U.contextDynamic || tt.propDep) && (pt = M),
              Je = tt.append(T, pt),
              B.elementsActive
              && pt(
                "if(" + Je + ")" + P + ".bindBuffer(" + Am + "," + Je
                  + ".buffer.buffer);",
              ))
            : (Je = pt.def(),
              pt(
                Je,
                "=",
                N,
                ".",
                ao,
                ";",
                "if(",
                Je,
                "){",
                P,
                ".bindBuffer(",
                Am,
                ",",
                Je,
                ".buffer.buffer);}",
                "else if(",
                j.vao,
                ".currentVAO){",
                Je,
                "=",
                T.shared.elements + ".getElements(" + j.vao,
                ".currentVAO.elements);",
                ve
                  ? ""
                  : "if(" + Je + ")" + P + ".bindBuffer(" + Am + "," + Je
                    + ".buffer.buffer);",
                "}",
              )),
            Je;
        }
        function O() {
          var tt = B.count, Je, pt = b;
          return tt
            ? ((tt.contextDep && U.contextDynamic || tt.propDep) && (pt = M),
              Je = tt.append(T, pt),
              v.optional(function() {
                tt.MISSING && T.assert(b, "false", "missing vertex count"),
                  tt.DYNAMIC
                  && T.assert(pt, Je + ">=0", "missing vertex count");
              }))
            : (Je = pt.def(N, ".", so),
              v.optional(function() {
                T.assert(pt, Je + ">=0", "missing vertex count");
              })),
            Je;
        }
        var k = C();
        function W(tt) {
          var Je = B[tt];
          return Je
            ? Je.contextDep && U.contextDynamic || Je.propDep
              ? Je.append(T, M)
              : Je.append(T, b)
            : b.def(N, ".", tt);
        }
        var q = W(oo), se = W(Sc), he = O();
        if (typeof he == "number") if (he === 0) return;
        else M("if(", he, "){"), M.exit("}");
        var $e, vt;
        Ie && ($e = W(Ec), vt = T.instancing);
        var ot = k + ".type", qe = B.elements && ka(B.elements) && !B.vaoActive;
        function pe() {
          function tt() {
            M(vt, ".drawElementsInstancedANGLE(", [
              q,
              he,
              ot,
              se + "<<((" + ot + "-" + S0 + ")>>1)",
              $e,
            ], ");");
          }
          function Je() {
            M(vt, ".drawArraysInstancedANGLE(", [q, se, he, $e], ");");
          }
          k && k !== "null"
            ? qe ? tt() : (M("if(", k, "){"), tt(), M("}else{"), Je(), M("}"))
            : Je();
        }
        function ae() {
          function tt() {
            M(
              P + ".drawElements("
                + [q, he, ot, se + "<<((" + ot + "-" + S0 + ")>>1)"] + ");",
            );
          }
          function Je() {
            M(P + ".drawArrays(" + [q, se, he] + ");");
          }
          k && k !== "null"
            ? qe ? tt() : (M("if(", k, "){"), tt(), M("}else{"), Je(), M("}"))
            : Je();
        }
        Ie && (typeof $e != "number" || $e >= 0)
          ? typeof $e == "string"
            ? (M("if(", $e, ">0){"),
              pe(),
              M("}else if(", $e, "<0){"),
              ae(),
              M("}"))
            : pe()
          : ae();
      }
      function Lt(T, b, M, U, j) {
        var P = _t(), N = P.proc("body", j);
        return v.optional(function() {
          P.commandStr = b.commandStr, P.command = P.link(b.commandStr);
        }),
          Ie
          && (P.instancing = N.def(
            P.shared.extensions,
            ".angle_instanced_arrays",
          )),
          T(P, N, M, U),
          P.compile().body;
      }
      function Pt(T, b, M, U) {
        Hi(T, b),
          M.useVAO
            ? M.drawVAO
              ? b(T.shared.vao, ".setVAO(", M.drawVAO.append(T, b), ");")
              : b(T.shared.vao, ".setVAO(", T.shared.vao, ".targetVAO);")
            : (b(T.shared.vao, ".setVAO(null);"),
              xr(T, b, M, U.attributes, function() {
                return !0;
              })),
          ii(T, b, M, U.uniforms, function() {
            return !0;
          }, !1),
          ut(T, b, b, M);
      }
      function ji(T, b) {
        var M = T.proc("draw", 1);
        Hi(T, M),
          nr(T, M, b.context),
          ar(T, M, b.framebuffer),
          hr(T, M, b),
          _r(T, M, b.state),
          Et(T, M, b, !1, !0);
        var U = b.shader.progVar.append(T, M);
        if (M(T.shared.gl, ".useProgram(", U, ".program);"), b.shader.program) {
          Pt(T, M, b, b.shader.program);
        }
        else {
          M(T.shared.vao, ".setVAO(null);");
          var j = T.global.def("{}"),
            P = M.def(U, ".id"),
            N = M.def(j, "[", P, "]");
          M(
            T.cond(N).then(N, ".call(this,a0);").else(
              N,
              "=",
              j,
              "[",
              P,
              "]=",
              T.link(function(B) {
                return Lt(Pt, T, b, B, 1);
              }),
              "(",
              U,
              ");",
              N,
              ".call(this,a0);",
            ),
          );
        }
        Object.keys(b.state).length > 0 && M(T.shared.current, ".dirty=true;"),
          T.shared.vao && M(T.shared.vao, ".setVAO(null);");
      }
      function $n(T, b, M, U) {
        T.batchId = "a1", Hi(T, b);
        function j() {
          return !0;
        }
        xr(T, b, M, U.attributes, j),
          ii(T, b, M, U.uniforms, j, !1),
          ut(T, b, b, M);
      }
      function co(T, b, M, U) {
        Hi(T, b);
        var j = M.contextDep, P = b.def(), N = "a0", B = "a1", C = b.def();
        T.shared.props = C, T.batchId = P;
        var O = T.scope(), k = T.scope();
        b(
          O.entry,
          "for(",
          P,
          "=0;",
          P,
          "<",
          B,
          ";++",
          P,
          "){",
          C,
          "=",
          N,
          "[",
          P,
          "];",
          k,
          "}",
          O.exit,
        );
        function W(ot) {
          return ot.contextDep && j || ot.propDep;
        }
        function q(ot) {
          return !W(ot);
        }
        if (
          M.needsContext && nr(T, k, M.context),
            M.needsFramebuffer && ar(T, k, M.framebuffer),
            _r(T, k, M.state, W),
            M.profile && W(M.profile) && Et(T, k, M, !1, !0),
            U
        ) {
          M.useVAO
            ? M.drawVAO
              ? W(M.drawVAO)
                ? k(T.shared.vao, ".setVAO(", M.drawVAO.append(T, k), ");")
                : O(T.shared.vao, ".setVAO(", M.drawVAO.append(T, O), ");")
              : O(T.shared.vao, ".setVAO(", T.shared.vao, ".targetVAO);")
            : (O(T.shared.vao, ".setVAO(null);"),
              xr(T, O, M, U.attributes, q),
              xr(T, k, M, U.attributes, W)),
            ii(T, O, M, U.uniforms, q, !1),
            ii(T, k, M, U.uniforms, W, !0),
            ut(T, O, k, M);
        }
        else {
          var se = T.global.def("{}"),
            he = M.shader.progVar.append(T, k),
            $e = k.def(he, ".id"),
            vt = k.def(se, "[", $e, "]");
          k(
            T.shared.gl,
            ".useProgram(",
            he,
            ".program);",
            "if(!",
            vt,
            "){",
            vt,
            "=",
            se,
            "[",
            $e,
            "]=",
            T.link(function(ot) {
              return Lt($n, T, M, ot, 2);
            }),
            "(",
            he,
            ");}",
            vt,
            ".call(this,a0[",
            P,
            "],",
            P,
            ");",
          );
        }
      }
      function L(T, b) {
        var M = T.proc("batch", 2);
        T.batchId = "0", Hi(T, M);
        var U = !1, j = !0;
        Object.keys(b.context).forEach(function(se) {
          U = U || b.context[se].propDep;
        }), U || (nr(T, M, b.context), j = !1);
        var P = b.framebuffer, N = !1;
        P
          ? (P.propDep ? U = N = !0 : P.contextDep && U && (N = !0),
            N || ar(T, M, P))
          : ar(T, M, null),
          b.state.viewport && b.state.viewport.propDep && (U = !0);
        function B(se) {
          return se.contextDep && U || se.propDep;
        }
        hr(T, M, b),
          _r(T, M, b.state, function(se) {
            return !B(se);
          }),
          (!b.profile || !B(b.profile)) && Et(T, M, b, !1, "a1"),
          b.contextDep = U,
          b.needsContext = j,
          b.needsFramebuffer = N;
        var C = b.shader.progVar;
        if (C.contextDep && U || C.propDep) co(T, M, b, null);
        else {
          var O = C.append(T, M);
          if (
            M(T.shared.gl, ".useProgram(", O, ".program);"), b.shader.program
          ) {
            co(T, M, b, b.shader.program);
          }
          else {
            M(T.shared.vao, ".setVAO(null);");
            var k = T.global.def("{}"),
              W = M.def(O, ".id"),
              q = M.def(k, "[", W, "]");
            M(
              T.cond(q).then(q, ".call(this,a0,a1);").else(
                q,
                "=",
                k,
                "[",
                W,
                "]=",
                T.link(function(se) {
                  return Lt(co, T, b, se, 2);
                }),
                "(",
                O,
                ");",
                q,
                ".call(this,a0,a1);",
              ),
            );
          }
        }
        Object.keys(b.state).length > 0 && M(T.shared.current, ".dirty=true;"),
          T.shared.vao && M(T.shared.vao, ".setVAO(null);");
      }
      function Q(T, b) {
        var M = T.proc("scope", 3);
        T.batchId = "a2";
        var U = T.shared, j = U.current;
        nr(T, M, b.context),
          b.framebuffer && b.framebuffer.append(T, M),
          J0(Object.keys(b.state)).forEach(function(N) {
            var B = b.state[N], C = B.append(T, M);
            Ri(C)
              ? C.forEach(function(O, k) {
                M.set(T.next[N], "[" + k + "]", O);
              })
              : M.set(U.next, "." + N, C);
          }),
          Et(T, M, b, !0, !0),
          [ao, Sc, so, Ec, oo].forEach(function(N) {
            var B = b.draw[N];
            B && M.set(U.draw, "." + N, "" + B.append(T, M));
          }),
          Object.keys(b.uniforms).forEach(function(N) {
            var B = b.uniforms[N].append(T, M);
            Array.isArray(B) && (B = "[" + B.join() + "]"),
              M.set(U.uniforms, "[" + w.id(N) + "]", B);
          }),
          Object.keys(b.attributes).forEach(function(N) {
            var B = b.attributes[N].append(T, M), C = T.scopeAttrib(N);
            Object.keys(new H()).forEach(function(O) {
              M.set(C, "." + O, B[O]);
            });
          }),
          b.scopeVAO && M.set(U.vao, ".targetVAO", b.scopeVAO.append(T, M));
        function P(N) {
          var B = b.shader[N];
          B && M.set(U.shader, "." + N, B.append(T, M));
        }
        P(bl),
          P(yl),
          Object.keys(b.state).length > 0
          && (M(j, ".dirty=true;"), M.exit(j, ".dirty=true;")),
          M("a1(", T.shared.context, ",a0,", T.batchId, ");");
      }
      function Y(T) {
        if (!(typeof T != "object" || Ri(T))) {
          for (var b = Object.keys(T), M = 0; M < b.length; ++M) {
            if (et.isDynamic(T[b[M]])) return !0;
          }
          return !1;
        }
      }
      function Ye(T, b, M) {
        var U = b.static[M];
        if (!U || !Y(U)) return;
        var j = T.global,
          P = Object.keys(U),
          N = !1,
          B = !1,
          C = !1,
          O = T.global.def("{}");
        P.forEach(function(W) {
          var q = U[W];
          if (et.isDynamic(q)) {
            typeof q == "function" && (q = U[W] = et.unbox(q));
            var se = Vr(q, null);
            N = N || se.thisDep, C = C || se.propDep, B = B || se.contextDep;
          }
          else {
            switch (j(O, ".", W, "="), typeof q) {
              case "number":
                j(q);
                break;
              case "string":
                j("\"", q, "\"");
                break;
              case "object":
                Array.isArray(q) && j("[", q.join(), "]");
                break;
              default:
                j(T.link(q));
                break;
            }
            j(";");
          }
        });
        function k(W, q) {
          P.forEach(function(se) {
            var he = U[se];
            if (et.isDynamic(he)) {
              var $e = W.invoke(q, he);
              q(O, ".", se, "=", $e, ";");
            }
          });
        }
        b.dynamic[M] = new et.DynamicVariable(yc, {
          thisDep: N,
          contextDep: B,
          propDep: C,
          ref: O,
          append: k,
        }), delete b.static[M];
      }
      function Ct(T, b, M, U, j) {
        var P = _t();
        P.stats = P.link(j),
          Object.keys(b.static).forEach(function(B) {
            Ye(P, b, B);
          }),
          zS.forEach(function(B) {
            Ye(P, T, B);
          });
        var N = Xi(T, b, M, U, P);
        return ji(P, N),
          Q(P, N),
          L(P, N),
          e(P.compile(), {
            destroy: function() {
              N.shader.program.destroy();
            },
          });
      }
      return {
        next: Ue,
        current: He,
        procs: function() {
          var T = _t(),
            b = T.proc("poll"),
            M = T.proc("refresh"),
            U = T.block();
          b(U), M(U);
          var j = T.shared, P = j.gl, N = j.next, B = j.current;
          U(B, ".dirty=false;"), ar(T, b), ar(T, M, null, !0);
          var C;
          Ie && (C = T.link(Ie)),
            F.oes_vertex_array_object
            && M(
              T.link(F.oes_vertex_array_object),
              ".bindVertexArrayOES(null);",
            );
          for (var O = 0; O < J.maxAttributes; ++O) {
            var k = M.def(j.attributes, "[", O, "]"), W = T.cond(k, ".buffer");
            W.then(
              P,
              ".enableVertexAttribArray(",
              O,
              ");",
              P,
              ".bindBuffer(",
              gs,
              ",",
              k,
              ".buffer.buffer);",
              P,
              ".vertexAttribPointer(",
              O,
              ",",
              k,
              ".size,",
              k,
              ".type,",
              k,
              ".normalized,",
              k,
              ".stride,",
              k,
              ".offset);",
            ).else(
              P,
              ".disableVertexAttribArray(",
              O,
              ");",
              P,
              ".vertexAttrib4f(",
              O,
              ",",
              k,
              ".x,",
              k,
              ".y,",
              k,
              ".z,",
              k,
              ".w);",
              k,
              ".buffer=null;",
            ),
              M(W),
              Ie && M(C, ".vertexAttribDivisorANGLE(", O, ",", k, ".divisor);");
          }
          return M(
            T.shared.vao,
            ".currentVAO=null;",
            T.shared.vao,
            ".setVAO(",
            T.shared.vao,
            ".targetVAO);",
          ),
            Object.keys(fe).forEach(function(q) {
              var se = fe[q], he = U.def(N, ".", q), $e = T.block();
              $e(
                "if(",
                he,
                "){",
                P,
                ".enable(",
                se,
                ")}else{",
                P,
                ".disable(",
                se,
                ")}",
                B,
                ".",
                q,
                "=",
                he,
                ";",
              ),
                M($e),
                b("if(", he, "!==", B, ".", q, "){", $e, "}");
            }),
            Object.keys(de).forEach(function(q) {
              var se = de[q], he = He[q], $e, vt, ot = T.block();
              if (ot(P, ".", se, "("), Ri(he)) {
                var qe = he.length;
                $e = T.global.def(N, ".", q),
                  vt = T.global.def(B, ".", q),
                  ot(
                    ur(qe, function(pe) {
                      return $e + "[" + pe + "]";
                    }),
                    ");",
                    ur(qe, function(pe) {
                      return vt + "[" + pe + "]=" + $e + "[" + pe + "];";
                    }).join(""),
                  ),
                  b(
                    "if(",
                    ur(qe, function(pe) {
                      return $e + "[" + pe + "]!==" + vt + "[" + pe + "]";
                    }).join("||"),
                    "){",
                    ot,
                    "}",
                  );
              }
              else {
                $e = U.def(N, ".", q),
                  vt = U.def(B, ".", q),
                  ot($e, ");", B, ".", q, "=", $e, ";"),
                  b("if(", $e, "!==", vt, "){", ot, "}");
              }
              M(ot);
            }),
            T.compile();
        }(),
        compile: Ct,
      };
    }
    function n3() {
      return {
        vaoCount: 0,
        bufferCount: 0,
        elementsCount: 0,
        framebufferCount: 0,
        shaderCount: 0,
        textureCount: 0,
        cubeCount: 0,
        renderbufferCount: 0,
        maxTextureUnits: 0,
      };
    }
    var a3 = 34918,
      o3 = 34919,
      ev = 35007,
      s3 = function(m, w) {
        if (!w.ext_disjoint_timer_query) return null;
        var F = [];
        function J() {
          return F.pop() || w.ext_disjoint_timer_query.createQueryEXT();
        }
        function ce(Ie) {
          F.push(Ie);
        }
        var Z = [];
        function re(Ie) {
          var Ve = J();
          w.ext_disjoint_timer_query.beginQueryEXT(ev, Ve),
            Z.push(Ve),
            we(Z.length - 1, Z.length, Ie);
        }
        function ye() {
          w.ext_disjoint_timer_query.endQueryEXT(ev);
        }
        function be() {
          this.startQueryIndex = -1,
            this.endQueryIndex = -1,
            this.sum = 0,
            this.stats = null;
        }
        var ke = [];
        function Oe() {
          return ke.pop() || new be();
        }
        function Le(Ie) {
          ke.push(Ie);
        }
        var Me = [];
        function we(Ie, Ve, ve) {
          var He = Oe();
          He.startQueryIndex = Ie,
            He.endQueryIndex = Ve,
            He.sum = 0,
            He.stats = ve,
            Me.push(He);
        }
        var Ce = [], H = [];
        function ie() {
          var Ie, Ve, ve = Z.length;
          if (ve !== 0) {
            H.length = Math.max(H.length, ve + 1),
              Ce.length = Math.max(Ce.length, ve + 1),
              Ce[0] = 0,
              H[0] = 0;
            var He = 0;
            for (Ie = 0, Ve = 0; Ve < Z.length; ++Ve) {
              var Ue = Z[Ve];
              w.ext_disjoint_timer_query.getQueryObjectEXT(Ue, o3)
                ? (He += w.ext_disjoint_timer_query.getQueryObjectEXT(Ue, a3),
                  ce(Ue))
                : Z[Ie++] = Ue,
                Ce[Ve + 1] = He,
                H[Ve + 1] = Ie;
            }
            for (Z.length = Ie, Ie = 0, Ve = 0; Ve < Me.length; ++Ve) {
              var lt = Me[Ve], fe = lt.startQueryIndex, de = lt.endQueryIndex;
              lt.sum += Ce[de] - Ce[fe];
              var Xe = H[fe], Ne = H[de];
              Ne === Xe
                ? (lt.stats.gpuTime += lt.sum / 1e6, Le(lt))
                : (lt.startQueryIndex = Xe,
                  lt.endQueryIndex = Ne,
                  Me[Ie++] = lt);
            }
            Me.length = Ie;
          }
        }
        return {
          beginQuery: re,
          endQuery: ye,
          pushScopeStats: we,
          update: ie,
          getNumPendingQueries: function() {
            return Z.length;
          },
          clear: function() {
            F.push.apply(F, Z);
            for (var Ie = 0; Ie < F.length; Ie++) {
              w.ext_disjoint_timer_query.deleteQueryEXT(F[Ie]);
            }
            Z.length = 0, F.length = 0;
          },
          restore: function() {
            Z.length = 0, F.length = 0;
          },
        };
      },
      l3 = 16384,
      d3 = 256,
      c3 = 1024,
      u3 = 34962,
      tv = "webglcontextlost",
      iv = "webglcontextrestored",
      rv = 1,
      f3 = 2,
      m3 = 3;
    function nv(m, w) {
      for (var F = 0; F < m.length; ++F) if (m[F] === w) return F;
      return -1;
    }
    function h3(m) {
      var w = Rn(m);
      if (!w) return null;
      var F = w.gl,
        J = F.getContextAttributes(),
        ce = F.isContextLost(),
        Z = ya(F, w);
      if (!Z) return null;
      var re = or(),
        ye = n3(),
        be = Z.extensions,
        ke = s3(F, be),
        Oe = er(),
        Le = F.drawingBufferWidth,
        Me = F.drawingBufferHeight,
        we = {
          tick: 0,
          time: 0,
          viewportWidth: Le,
          viewportHeight: Me,
          framebufferWidth: Le,
          framebufferHeight: Me,
          drawingBufferWidth: Le,
          drawingBufferHeight: Me,
          pixelRatio: w.pixelRatio,
        },
        Ce = {},
        H = {
          elements: null,
          primitive: 4,
          count: -1,
          offset: 0,
          instances: -1,
        },
        ie = e2(F, be),
        Ie = g2(F, ye, w, He),
        Ve = C2(F, be, Ie, ye),
        ve = CS(F, be, ie, ye, Ie, Ve, H);
      function He(ut) {
        return ve.destroyBuffer(ut);
      }
      var Ue = RS(F, re, ye, w),
        lt = aS(
          F,
          be,
          ie,
          function() {
            Xe.procs.poll();
          },
          we,
          ye,
          w,
        ),
        fe = oS(F, be, ie, ye, w),
        de = AS(F, be, ie, lt, fe, ye),
        Xe = r3(F, re, be, ie, Ie, Ve, lt, de, Ce, ve, Ue, H, we, ke, w),
        Ne = $S(F, de, Xe.procs.poll, we, J, be, ie),
        Ae = Xe.next,
        Pe = F.canvas,
        ze = [],
        yt = [],
        _t = [],
        Ge = [w.onDestroy],
        je = null;
      function ht() {
        if (ze.length === 0) {
          ke && ke.update(), je = null;
          return;
        }
        je = wi.next(ht), _r();
        for (var ut = ze.length - 1; ut >= 0; --ut) {
          var Lt = ze[ut];
          Lt && Lt(we, null, 0);
        }
        F.flush(), ke && ke.update();
      }
      function wt() {
        !je && ze.length > 0 && (je = wi.next(ht));
      }
      function kt() {
        je && (wi.cancel(ht), je = null);
      }
      function Fi(ut) {
        ut.preventDefault(),
          ce = !0,
          kt(),
          yt.forEach(function(Lt) {
            Lt();
          });
      }
      function Mi(ut) {
        F.getError(),
          ce = !1,
          Z.restore(),
          Ue.restore(),
          Ie.restore(),
          lt.restore(),
          fe.restore(),
          de.restore(),
          ve.restore(),
          ke && ke.restore(),
          Xe.procs.refresh(),
          wt(),
          _t.forEach(function(Lt) {
            Lt();
          });
      }
      Pe && (Pe.addEventListener(tv, Fi, !1), Pe.addEventListener(iv, Mi, !1));
      function Dt() {
        ze.length = 0,
          kt(),
          Pe
          && (Pe.removeEventListener(tv, Fi), Pe.removeEventListener(iv, Mi)),
          Ue.clear(),
          de.clear(),
          fe.clear(),
          ve.clear(),
          lt.clear(),
          Ve.clear(),
          Ie.clear(),
          ke && ke.clear(),
          Ge.forEach(function(ut) {
            ut();
          });
      }
      function rr(ut) {
        v(!!ut, "invalid args to regl({...})"),
          v.type(ut, "object", "invalid args to regl({...})");
        function Lt(j) {
          var P = e({}, j);
          delete P.uniforms,
            delete P.attributes,
            delete P.context,
            delete P.vao,
            "stencil" in P && P.stencil.op
            && (P.stencil.opBack = P.stencil.opFront = P.stencil.op,
              delete P.stencil.op);
          function N(B) {
            if (B in P) {
              var C = P[B];
              delete P[B],
                Object.keys(C).forEach(function(O) {
                  P[B + "." + O] = C[O];
                });
            }
          }
          return N("blend"),
            N("depth"),
            N("cull"),
            N("stencil"),
            N("polygonOffset"),
            N("scissor"),
            N("sample"),
            "vao" in j && (P.vao = j.vao),
            P;
        }
        function Pt(j, P) {
          var N = {}, B = {};
          return Object.keys(j).forEach(function(C) {
            var O = j[C];
            if (et.isDynamic(O)) {
              B[C] = et.unbox(O, C);
              return;
            }
            else if (P && Array.isArray(O)) {
              for (var k = 0; k < O.length; ++k) {
                if (et.isDynamic(O[k])) {
                  B[C] = et.unbox(O, C);
                  return;
                }
              }
            }
            N[C] = O;
          }),
            { dynamic: B, static: N };
        }
        var ji = Pt(ut.context || {}, !0),
          $n = Pt(ut.uniforms || {}, !0),
          co = Pt(ut.attributes || {}, !1),
          L = Pt(Lt(ut), !1),
          Q = { gpuTime: 0, cpuTime: 0, count: 0 },
          Y = Xe.compile(L, co, $n, ji, Q),
          Ye = Y.draw,
          Ct = Y.batch,
          T = Y.scope,
          b = [];
        function M(j) {
          for (; b.length < j;) b.push(null);
          return b;
        }
        function U(j, P) {
          var N;
          if (ce && v.raise("context lost"), typeof j == "function") {
            return T.call(this, null, j, 0);
          }
          if (typeof P == "function") {
            if (typeof j == "number") {
              for (N = 0; N < j; ++N) T.call(this, null, P, N);
            }
            else if (Array.isArray(j)) {
              for (N = 0; N < j.length; ++N) T.call(this, j[N], P, N);
            }
            else return T.call(this, j, P, 0);
          }
          else if (typeof j == "number") {
            if (j > 0) return Ct.call(this, M(j | 0), j | 0);
          }
          else if (Array.isArray(j)) {
            if (j.length) return Ct.call(this, j, j.length);
          }
          else return Ye.call(this, j);
        }
        return e(U, {
          stats: Q,
          destroy: function() {
            Y.destroy();
          },
        });
      }
      var Ti = de.setFBO = rr({
        framebuffer: et.define.call(null, rv, "framebuffer"),
      });
      function Xi(ut, Lt) {
        var Pt = 0;
        Xe.procs.poll();
        var ji = Lt.color;
        ji
        && (F.clearColor(+ji[0] || 0, +ji[1] || 0, +ji[2] || 0, +ji[3] || 0),
          Pt |= l3),
          "depth" in Lt && (F.clearDepth(+Lt.depth), Pt |= d3),
          "stencil" in Lt && (F.clearStencil(Lt.stencil | 0), Pt |= c3),
          v(!!Pt, "called regl.clear with no buffer specified"),
          F.clear(Pt);
      }
      function nr(ut) {
        if (
          v(
            typeof ut == "object" && ut,
            "regl.clear() takes an object as input",
          ), "framebuffer" in ut
        ) {
          if (ut.framebuffer && ut.framebuffer_reglType === "framebufferCube") {
            for (var Lt = 0; Lt < 6; ++Lt) {
              Ti(e({ framebuffer: ut.framebuffer.faces[Lt] }, ut), Xi);
            }
          }
          else {
            Ti(ut, Xi);
          }
        }
        else Xi(null, ut);
      }
      function ar(ut) {
        v.type(ut, "function", "regl.frame() callback must be a function"),
          ze.push(ut);
        function Lt() {
          var Pt = nv(ze, ut);
          v(Pt >= 0, "cannot cancel a frame twice");
          function ji() {
            var $n = nv(ze, ji);
            ze[$n] = ze[ze.length - 1], ze.length -= 1, ze.length <= 0 && kt();
          }
          ze[Pt] = ji;
        }
        return wt(), { cancel: Lt };
      }
      function hr() {
        var ut = Ae.viewport, Lt = Ae.scissor_box;
        ut[0] = ut[1] = Lt[0] = Lt[1] = 0,
          we.viewportWidth = we.framebufferWidth = we.drawingBufferWidth =
            ut[2] = Lt[2] = F.drawingBufferWidth,
          we.viewportHeight = we.framebufferHeight = we.drawingBufferHeight =
            ut[3] = Lt[3] = F.drawingBufferHeight;
      }
      function _r() {
        we.tick += 1, we.time = Et(), hr(), Xe.procs.poll();
      }
      function Hi() {
        lt.refresh(), hr(), Xe.procs.refresh(), ke && ke.update();
      }
      function Et() {
        return (er() - Oe) / 1e3;
      }
      Hi();
      function xr(ut, Lt) {
        v.type(Lt, "function", "listener callback must be a function");
        var Pt;
        switch (ut) {
          case "frame":
            return ar(Lt);
          case "lost":
            Pt = yt;
            break;
          case "restore":
            Pt = _t;
            break;
          case "destroy":
            Pt = Ge;
            break;
          default:
            v.raise("invalid event, must be one of frame,lost,restore,destroy");
        }
        return Pt.push(Lt), {
          cancel: function() {
            for (var ji = 0; ji < Pt.length; ++ji) {
              if (Pt[ji] === Lt) {
                Pt[ji] = Pt[Pt.length - 1], Pt.pop();
                return;
              }
            }
          },
        };
      }
      var ii = e(rr, {
        clear: nr,
        prop: et.define.bind(null, rv),
        context: et.define.bind(null, f3),
        this: et.define.bind(null, m3),
        draw: rr({}),
        buffer: function(ut) {
          return Ie.create(ut, u3, !1, !1);
        },
        elements: function(ut) {
          return Ve.create(ut, !1);
        },
        texture: lt.create2D,
        cube: lt.createCube,
        renderbuffer: fe.create,
        framebuffer: de.create,
        framebufferCube: de.createCube,
        vao: ve.createVAO,
        attributes: J,
        frame: ar,
        on: xr,
        limits: ie,
        hasExtension: function(ut) {
          return ie.extensions.indexOf(ut.toLowerCase()) >= 0;
        },
        read: Ne,
        destroy: Dt,
        _gl: F,
        _refresh: Hi,
        poll: function() {
          _r(), ke && ke.update();
        },
        now: Et,
        stats: ye,
      });
      return w.onDone(null, ii), ii;
    }
    return h3;
  });
});
var jx = Nn((Hx, Ch) => {
  (function(t, e, i) {
    function r(s) {
      var l = this, d = o();
      l.next = function() {
        var c = 2091639 * l.s0 + l.c * 23283064365386963e-26;
        return l.s0 = l.s1, l.s1 = l.s2, l.s2 = c - (l.c = c | 0);
      },
        l.c = 1,
        l.s0 = d(" "),
        l.s1 = d(" "),
        l.s2 = d(" "),
        l.s0 -= d(s),
        l.s0 < 0 && (l.s0 += 1),
        l.s1 -= d(s),
        l.s1 < 0 && (l.s1 += 1),
        l.s2 -= d(s),
        l.s2 < 0 && (l.s2 += 1),
        d = null;
    }
    function n(s, l) {
      return l.c = s.c, l.s0 = s.s0, l.s1 = s.s1, l.s2 = s.s2, l;
    }
    function a(s, l) {
      var d = new r(s), c = l && l.state, u = d.next;
      return u.int32 = function() {
        return d.next() * 4294967296 | 0;
      },
        u.double = function() {
          return u() + (u() * 2097152 | 0) * 11102230246251565e-32;
        },
        u.quick = u,
        c && (typeof c == "object" && n(c, d),
          u.state = function() {
            return n(d, {});
          }),
        u;
    }
    function o() {
      var s = 4022871197,
        l = function(d) {
          d = String(d);
          for (var c = 0; c < d.length; c++) {
            s += d.charCodeAt(c);
            var u = .02519603282416938 * s;
            s = u >>> 0,
              u -= s,
              u *= s,
              s = u >>> 0,
              u -= s,
              s += u * 4294967296;
          }
          return (s >>> 0) * 23283064365386963e-26;
        };
      return l;
    }
    e && e.exports ? e.exports = a : i && i.amd
      ? i(function() {
        return a;
      })
      : this.alea = a;
  })(Hx, typeof Ch == "object" && Ch, typeof define == "function" && define);
});
var qx = Nn((Vx, kh) => {
  (function(t, e, i) {
    function r(o) {
      var s = this, l = "";
      s.x = 0,
        s.y = 0,
        s.z = 0,
        s.w = 0,
        s.next = function() {
          var c = s.x ^ s.x << 11;
          return s.x = s.y,
            s.y = s.z,
            s.z = s.w,
            s.w ^= s.w >>> 19 ^ c ^ c >>> 8;
        },
        o === (o | 0) ? s.x = o : l += o;
      for (var d = 0; d < l.length + 64; d++) {
        s.x ^= l.charCodeAt(d) | 0, s.next();
      }
    }
    function n(o, s) {
      return s.x = o.x, s.y = o.y, s.z = o.z, s.w = o.w, s;
    }
    function a(o, s) {
      var l = new r(o),
        d = s && s.state,
        c = function() {
          return (l.next() >>> 0) / 4294967296;
        };
      return c.double = function() {
        do var u = l.next() >>> 11,
          f = (l.next() >>> 0) / 4294967296,
          h = (u + f) / (1 << 21); while (h === 0);
        return h;
      },
        c.int32 = l.next,
        c.quick = c,
        d && (typeof d == "object" && n(d, l),
          c.state = function() {
            return n(l, {});
          }),
        c;
    }
    e && e.exports ? e.exports = a : i && i.amd
      ? i(function() {
        return a;
      })
      : this.xor128 = a;
  })(Vx, typeof kh == "object" && kh, typeof define == "function" && define);
});
var Yx = Nn((Wx, Lh) => {
  (function(t, e, i) {
    function r(o) {
      var s = this, l = "";
      s.next = function() {
        var c = s.x ^ s.x >>> 2;
        return s.x = s.y,
          s.y = s.z,
          s.z = s.w,
          s.w = s.v,
          (s.d = s.d + 362437 | 0) + (s.v = s.v ^ s.v << 4 ^ (c ^ c << 1)) | 0;
      },
        s.x = 0,
        s.y = 0,
        s.z = 0,
        s.w = 0,
        s.v = 0,
        o === (o | 0) ? s.x = o : l += o;
      for (var d = 0; d < l.length + 64; d++) {
        s.x ^= l.charCodeAt(d) | 0,
          d == l.length && (s.d = s.x << 10 ^ s.x >>> 4),
          s.next();
      }
    }
    function n(o, s) {
      return s.x = o.x,
        s.y = o.y,
        s.z = o.z,
        s.w = o.w,
        s.v = o.v,
        s.d = o.d,
        s;
    }
    function a(o, s) {
      var l = new r(o),
        d = s && s.state,
        c = function() {
          return (l.next() >>> 0) / 4294967296;
        };
      return c.double = function() {
        do var u = l.next() >>> 11,
          f = (l.next() >>> 0) / 4294967296,
          h = (u + f) / (1 << 21); while (h === 0);
        return h;
      },
        c.int32 = l.next,
        c.quick = c,
        d && (typeof d == "object" && n(d, l),
          c.state = function() {
            return n(l, {});
          }),
        c;
    }
    e && e.exports ? e.exports = a : i && i.amd
      ? i(function() {
        return a;
      })
      : this.xorwow = a;
  })(Wx, typeof Lh == "object" && Lh, typeof define == "function" && define);
});
var Kx = Nn((Xx, Oh) => {
  (function(t, e, i) {
    function r(o) {
      var s = this;
      s.next = function() {
        var d = s.x, c = s.i, u, f, h;
        return u = d[c],
          u ^= u >>> 7,
          f = u ^ u << 24,
          u = d[c + 1 & 7],
          f ^= u ^ u >>> 10,
          u = d[c + 3 & 7],
          f ^= u ^ u >>> 3,
          u = d[c + 4 & 7],
          f ^= u ^ u << 7,
          u = d[c + 7 & 7],
          u = u ^ u << 13,
          f ^= u ^ u << 9,
          d[c] = f,
          s.i = c + 1 & 7,
          f;
      };
      function l(d, c) {
        var u, f, h = [];
        if (c === (c | 0)) f = h[0] = c;
        else {
          for (c = "" + c, u = 0; u < c.length; ++u) {
            h[u & 7] = h[u & 7] << 15 ^ c.charCodeAt(u) + h[u + 1 & 7] << 13;
          }
        }
        for (; h.length < 8;) h.push(0);
        for (u = 0; u < 8 && h[u] === 0; ++u);
        for (
          u == 8 ? f = h[7] = -1 : f = h[u], d.x = h, d.i = 0, u = 256;
          u > 0;
          --u
        ) {
          d.next();
        }
      }
      l(s, o);
    }
    function n(o, s) {
      return s.x = o.x.slice(), s.i = o.i, s;
    }
    function a(o, s) {
      o == null && (o = +new Date());
      var l = new r(o),
        d = s && s.state,
        c = function() {
          return (l.next() >>> 0) / 4294967296;
        };
      return c.double = function() {
        do var u = l.next() >>> 11,
          f = (l.next() >>> 0) / 4294967296,
          h = (u + f) / (1 << 21); while (h === 0);
        return h;
      },
        c.int32 = l.next,
        c.quick = c,
        d && (d.x && n(d, l),
          c.state = function() {
            return n(l, {});
          }),
        c;
    }
    e && e.exports ? e.exports = a : i && i.amd
      ? i(function() {
        return a;
      })
      : this.xorshift7 = a;
  })(Xx, typeof Oh == "object" && Oh, typeof define == "function" && define);
});
var Jx = Nn((Zx, Rh) => {
  (function(t, e, i) {
    function r(o) {
      var s = this;
      s.next = function() {
        var d = s.w, c = s.X, u = s.i, f, h;
        return s.w = d = d + 1640531527 | 0,
          h = c[u + 34 & 127],
          f = c[u = u + 1 & 127],
          h ^= h << 13,
          f ^= f << 17,
          h ^= h >>> 15,
          f ^= f >>> 12,
          h = c[u] = h ^ f,
          s.i = u,
          h + (d ^ d >>> 16) | 0;
      };
      function l(d, c) {
        var u, f, h, x, S, p = [], y = 128;
        for (
          c === (c | 0)
            ? (f = c, c = null)
            : (c = c + "\0", f = 0, y = Math.max(y, c.length)),
            h = 0,
            x = -32;
          x < y;
          ++x
        ) {
          c && (f ^= c.charCodeAt((x + 32) % c.length)),
            x === 0 && (S = f),
            f ^= f << 10,
            f ^= f >>> 15,
            f ^= f << 4,
            f ^= f >>> 13,
            x >= 0
            && (S = S + 1640531527 | 0,
              u = p[x & 127] ^= f + S,
              h = u == 0 ? h + 1 : 0);
        }
        for (
          h >= 128 && (p[(c && c.length || 0) & 127] = -1),
            h = 127,
            x = 4 * 128;
          x > 0;
          --x
        ) {
          f = p[h + 34 & 127],
            u = p[h = h + 1 & 127],
            f ^= f << 13,
            u ^= u << 17,
            f ^= f >>> 15,
            u ^= u >>> 12,
            p[h] = f ^ u;
        }
        d.w = S, d.X = p, d.i = h;
      }
      l(s, o);
    }
    function n(o, s) {
      return s.i = o.i, s.w = o.w, s.X = o.X.slice(), s;
    }
    function a(o, s) {
      o == null && (o = +new Date());
      var l = new r(o),
        d = s && s.state,
        c = function() {
          return (l.next() >>> 0) / 4294967296;
        };
      return c.double = function() {
        do var u = l.next() >>> 11,
          f = (l.next() >>> 0) / 4294967296,
          h = (u + f) / (1 << 21); while (h === 0);
        return h;
      },
        c.int32 = l.next,
        c.quick = c,
        d && (d.X && n(d, l),
          c.state = function() {
            return n(l, {});
          }),
        c;
    }
    e && e.exports ? e.exports = a : i && i.amd
      ? i(function() {
        return a;
      })
      : this.xor4096 = a;
  })(Zx, typeof Rh == "object" && Rh, typeof define == "function" && define);
});
var eb = Nn((Qx, Fh) => {
  (function(t, e, i) {
    function r(o) {
      var s = this, l = "";
      s.next = function() {
        var c = s.b, u = s.c, f = s.d, h = s.a;
        return c = c << 25 ^ c >>> 7 ^ u,
          u = u - f | 0,
          f = f << 24 ^ f >>> 8 ^ h,
          h = h - c | 0,
          s.b = c = c << 20 ^ c >>> 12 ^ u,
          s.c = u = u - f | 0,
          s.d = f << 16 ^ u >>> 16 ^ h,
          s.a = h - c | 0;
      },
        s.a = 0,
        s.b = 0,
        s.c = -1640531527,
        s.d = 1367130551,
        o === Math.floor(o) ? (s.a = o / 4294967296 | 0, s.b = o | 0) : l += o;
      for (var d = 0; d < l.length + 20; d++) {
        s.b ^= l.charCodeAt(d) | 0, s.next();
      }
    }
    function n(o, s) {
      return s.a = o.a, s.b = o.b, s.c = o.c, s.d = o.d, s;
    }
    function a(o, s) {
      var l = new r(o),
        d = s && s.state,
        c = function() {
          return (l.next() >>> 0) / 4294967296;
        };
      return c.double = function() {
        do var u = l.next() >>> 11,
          f = (l.next() >>> 0) / 4294967296,
          h = (u + f) / (1 << 21); while (h === 0);
        return h;
      },
        c.int32 = l.next,
        c.quick = c,
        d && (typeof d == "object" && n(d, l),
          c.state = function() {
            return n(l, {});
          }),
        c;
    }
    e && e.exports ? e.exports = a : i && i.amd
      ? i(function() {
        return a;
      })
      : this.tychei = a;
  })(Qx, typeof Fh == "object" && Fh, typeof define == "function" && define);
});
var ib = Nn((tb, Tu) => {
  (function(t, e, i) {
    var r = 256,
      n = 6,
      a = 52,
      o = "random",
      s = i.pow(r, n),
      l = i.pow(2, a),
      d = l * 2,
      c = r - 1,
      u;
    function f(g, _, $) {
      var z = [];
      _ = _ == !0 ? { entropy: !0 } : _ || {};
      var I = p(S(_.entropy ? [g, E(e)] : g ?? y(), 3), z),
        D = new h(z),
        V = function() {
          for (var ue = D.g(n), ne = s, ee = 0; ue < l;) {
            ue = (ue + ee) * r, ne *= r, ee = D.g(1);
          }
          for (; ue >= d;) ue /= 2, ne /= 2, ee >>>= 1;
          return (ue + ee) / ne;
        };
      return V.int32 = function() {
        return D.g(4) | 0;
      },
        V.quick = function() {
          return D.g(4) / 4294967296;
        },
        V.double = V,
        p(E(D.S), e),
        (_.pass || $ || function(ue, ne, ee, R) {
          return R && (R.S && x(R, D),
            ue.state = function() {
              return x(D, {});
            }),
            ee ? (i[o] = ue, ne) : ue;
        })(V, I, "global" in _ ? _.global : this == i, _.state);
    }
    function h(g) {
      var _, $ = g.length, z = this, I = 0, D = z.i = z.j = 0, V = z.S = [];
      for ($ || (g = [$++]); I < r;) V[I] = I++;
      for (I = 0; I < r; I++) {
        V[I] = V[D = c & D + g[I % $] + (_ = V[I])], V[D] = _;
      }
      (z.g = function(ue) {
        for (var ne, ee = 0, R = z.i, A = z.j, X = z.S; ue--;) {
          ne = X[R = c & R + 1],
            ee = ee * r + X[c & (X[R] = X[A = c & A + ne]) + (X[A] = ne)];
        }
        return z.i = R, z.j = A, ee;
      })(r);
    }
    function x(g, _) {
      return _.i = g.i, _.j = g.j, _.S = g.S.slice(), _;
    }
    function S(g, _) {
      var $ = [], z = typeof g, I;
      if (_ && z == "object") {
        for (I in g) {
          try {
            $.push(S(g[I], _ - 1));
          }
          catch {}
        }
      }
      return $.length ? $ : z == "string" ? g : g + "\0";
    }
    function p(g, _) {
      for (var $ = g + "", z, I = 0; I < $.length;) {
        _[c & I] = c & (z ^= _[c & I] * 19) + $.charCodeAt(I++);
      }
      return E(_);
    }
    function y() {
      try {
        var g;
        return u && (g = u.randomBytes)
          ? g = g(r)
          : (g = new Uint8Array(r),
            (t.crypto || t.msCrypto).getRandomValues(g)),
          E(g);
      }
      catch {
        var _ = t.navigator, $ = _ && _.plugins;
        return [+new Date(), t, $, t.screen, E(e)];
      }
    }
    function E(g) {
      return String.fromCharCode.apply(0, g);
    }
    if (p(i.random(), e), typeof Tu == "object" && Tu.exports) {
      Tu.exports = f;
      try {
        u = b3("crypto");
      }
      catch {}
    }
    else {
      typeof define == "function" && define.amd
        ? define(function() {
          return f;
        })
        : i["seed" + o] = f;
    }
  })(typeof self < "u" ? self : tb, [], Math);
});
var nb = Nn((FM, rb) => {
  var e4 = jx(),
    t4 = qx(),
    i4 = Yx(),
    r4 = Kx(),
    n4 = Jx(),
    a4 = eb(),
    Oo = ib();
  Oo.alea = e4;
  Oo.xor128 = t4;
  Oo.xorwow = i4;
  Oo.xorshift7 = r4;
  Oo.xor4096 = n4;
  Oo.tychei = a4;
  rb.exports = Oo;
});
var Ws = {};
Nc(Ws, {
  Headers: () => Up,
  Request: () => v6,
  Response: () => _6,
  default: () => kd,
  fetch: () => g6,
});
var p6,
  qs,
  g6,
  kd,
  Up,
  v6,
  _6,
  Ya = y3(() => {
    "use strict";
    p6 = function() {
      if (typeof self < "u") return self;
      if (typeof window < "u") return window;
      if (typeof global < "u") return global;
      throw new Error("unable to locate global object");
    },
      qs = p6(),
      g6 = qs.fetch,
      kd = qs.fetch.bind(qs),
      Up = qs.Headers,
      v6 = qs.Request,
      _6 = qs.Response;
  });
var Wy = Nn((lj, qy) => {
  "use strict";
  qy.exports = function() {
    throw new Error(
      "ws does not work in the browser. Browser clients must use the native WebSocket object",
    );
  };
});
var Pc = "http://www.w3.org/1999/xhtml",
  $m = {
    svg: "http://www.w3.org/2000/svg",
    xhtml: Pc,
    xlink: "http://www.w3.org/1999/xlink",
    xml: "http://www.w3.org/XML/1998/namespace",
    xmlns: "http://www.w3.org/2000/xmlns/",
  };
function oa(t) {
  var e = t += "", i = e.indexOf(":");
  return i >= 0 && (e = t.slice(0, i)) !== "xmlns" && (t = t.slice(i + 1)),
    $m.hasOwnProperty(e) ? { space: $m[e], local: t } : t;
}
function S3(t) {
  return function() {
    var e = this.ownerDocument, i = this.namespaceURI;
    return i === Pc && e.documentElement.namespaceURI === Pc
      ? e.createElement(t)
      : e.createElementNS(i, t);
  };
}
function E3(t) {
  return function() {
    return this.ownerDocument.createElementNS(t.space, t.local);
  };
}
function zc(t) {
  var e = oa(t);
  return (e.local ? E3 : S3)(e);
}
function T3() {}
function ho(t) {
  return t == null ? T3 : function() {
    return this.querySelector(t);
  };
}
function sv(t) {
  typeof t != "function" && (t = ho(t));
  for (
    var e = this._groups, i = e.length, r = new Array(i), n = 0; n < i; ++n
  ) {
    for (
      var a = e[n], o = a.length, s = r[n] = new Array(o), l, d, c = 0;
      c < o;
      ++c
    ) {
      (l = a[c]) && (d = t.call(l, l.__data__, c, a))
        && ("__data__" in l && (d.__data__ = l.__data__), s[c] = d);
    }
  }
  return new Ki(r, this._parents);
}
function Mm(t) {
  return t == null ? [] : Array.isArray(t) ? t : Array.from(t);
}
function A3() {
  return [];
}
function kl(t) {
  return t == null ? A3 : function() {
    return this.querySelectorAll(t);
  };
}
function I3(t) {
  return function() {
    return Mm(t.apply(this, arguments));
  };
}
function lv(t) {
  typeof t == "function" ? t = I3(t) : t = kl(t);
  for (var e = this._groups, i = e.length, r = [], n = [], a = 0; a < i; ++a) {
    for (var o = e[a], s = o.length, l, d = 0; d < s; ++d) {
      (l = o[d]) && (r.push(t.call(l, l.__data__, d, o)), n.push(l));
    }
  }
  return new Ki(r, n);
}
function Ll(t) {
  return function() {
    return this.matches(t);
  };
}
function Bc(t) {
  return function(e) {
    return e.matches(t);
  };
}
var C3 = Array.prototype.find;
function k3(t) {
  return function() {
    return C3.call(this.children, t);
  };
}
function L3() {
  return this.firstElementChild;
}
function dv(t) {
  return this.select(t == null ? L3 : k3(typeof t == "function" ? t : Bc(t)));
}
var O3 = Array.prototype.filter;
function R3() {
  return Array.from(this.children);
}
function F3(t) {
  return function() {
    return O3.call(this.children, t);
  };
}
function cv(t) {
  return this.selectAll(
    t == null ? R3 : F3(typeof t == "function" ? t : Bc(t)),
  );
}
function uv(t) {
  typeof t != "function" && (t = Ll(t));
  for (
    var e = this._groups, i = e.length, r = new Array(i), n = 0; n < i; ++n
  ) {
    for (var a = e[n], o = a.length, s = r[n] = [], l, d = 0; d < o; ++d) {
      (l = a[d]) && t.call(l, l.__data__, d, a) && s.push(l);
    }
  }
  return new Ki(r, this._parents);
}
function Uc(t) {
  return new Array(t.length);
}
function fv() {
  return new Ki(this._enter || this._groups.map(Uc), this._parents);
}
function Ol(t, e) {
  this.ownerDocument = t.ownerDocument,
    this.namespaceURI = t.namespaceURI,
    this._next = null,
    this._parent = t,
    this.__data__ = e;
}
Ol.prototype = {
  constructor: Ol,
  appendChild: function(t) {
    return this._parent.insertBefore(t, this._next);
  },
  insertBefore: function(t, e) {
    return this._parent.insertBefore(t, e);
  },
  querySelector: function(t) {
    return this._parent.querySelector(t);
  },
  querySelectorAll: function(t) {
    return this._parent.querySelectorAll(t);
  },
};
function mv(t) {
  return function() {
    return t;
  };
}
function D3(t, e, i, r, n, a) {
  for (var o = 0, s, l = e.length, d = a.length; o < d; ++o) {
    (s = e[o])
      ? (s.__data__ = a[o], r[o] = s)
      : i[o] = new Ol(t, a[o]);
  }
  for (; o < l; ++o) (s = e[o]) && (n[o] = s);
}
function $3(t, e, i, r, n, a, o) {
  var s, l, d = new Map(), c = e.length, u = a.length, f = new Array(c), h;
  for (s = 0; s < c; ++s) {
    (l = e[s]) && (f[s] = h = o.call(l, l.__data__, s, e) + "",
      d.has(h)
        ? n[s] = l
        : d.set(h, l));
  }
  for (s = 0; s < u; ++s) {
    h = o.call(t, a[s], s, a) + "",
      (l = d.get(h))
        ? (r[s] = l, l.__data__ = a[s], d.delete(h))
        : i[s] = new Ol(t, a[s]);
  }
  for (s = 0; s < c; ++s) (l = e[s]) && d.get(f[s]) === l && (n[s] = l);
}
function M3(t) {
  return t.__data__;
}
function hv(t, e) {
  if (!arguments.length) return Array.from(this, M3);
  var i = e ? $3 : D3, r = this._parents, n = this._groups;
  typeof t != "function" && (t = mv(t));
  for (
    var a = n.length,
      o = new Array(a),
      s = new Array(a),
      l = new Array(a),
      d = 0;
    d < a;
    ++d
  ) {
    var c = r[d],
      u = n[d],
      f = u.length,
      h = N3(t.call(c, c && c.__data__, d, r)),
      x = h.length,
      S = s[d] = new Array(x),
      p = o[d] = new Array(x),
      y = l[d] = new Array(f);
    i(c, u, S, p, y, h, e);
    for (var E = 0, g = 0, _, $; E < x; ++E) {
      if (_ = S[E]) {
        for (E >= g && (g = E + 1); !($ = p[g]) && ++g < x;);
        _._next = $ || null;
      }
    }
  }
  return o = new Ki(o, r), o._enter = s, o._exit = l, o;
}
function N3(t) {
  return typeof t == "object" && "length" in t ? t : Array.from(t);
}
function pv() {
  return new Ki(this._exit || this._groups.map(Uc), this._parents);
}
function gv(t, e, i) {
  var r = this.enter(), n = this, a = this.exit();
  return typeof t == "function"
    ? (r = t(r), r && (r = r.selection()))
    : r = r.append(t + ""),
    e != null && (n = e(n), n && (n = n.selection())),
    i == null ? a.remove() : i(a),
    r && n ? r.merge(n).order() : n;
}
function vv(t) {
  for (
    var e = t.selection ? t.selection() : t,
      i = this._groups,
      r = e._groups,
      n = i.length,
      a = r.length,
      o = Math.min(n, a),
      s = new Array(n),
      l = 0;
    l < o;
    ++l
  ) {
    for (
      var d = i[l], c = r[l], u = d.length, f = s[l] = new Array(u), h, x = 0;
      x < u;
      ++x
    ) {
      (h = d[x] || c[x]) && (f[x] = h);
    }
  }
  for (; l < n; ++l) s[l] = i[l];
  return new Ki(s, this._parents);
}
function _v() {
  for (var t = this._groups, e = -1, i = t.length; ++e < i;) {
    for (var r = t[e], n = r.length - 1, a = r[n], o; --n >= 0;) {
      (o = r[n])
        && (a && o.compareDocumentPosition(a) ^ 4
          && a.parentNode.insertBefore(o, a),
          a = o);
    }
  }
  return this;
}
function xv(t) {
  t || (t = P3);
  function e(u, f) {
    return u && f ? t(u.__data__, f.__data__) : !u - !f;
  }
  for (
    var i = this._groups, r = i.length, n = new Array(r), a = 0; a < r; ++a
  ) {
    for (
      var o = i[a], s = o.length, l = n[a] = new Array(s), d, c = 0; c < s; ++c
    ) {
      (d = o[c]) && (l[c] = d);
    }
    l.sort(e);
  }
  return new Ki(n, this._parents).order();
}
function P3(t, e) {
  return t < e ? -1 : t > e ? 1 : t >= e ? 0 : NaN;
}
function bv() {
  var t = arguments[0];
  return arguments[0] = this, t.apply(null, arguments), this;
}
function yv() {
  return Array.from(this);
}
function wv() {
  for (var t = this._groups, e = 0, i = t.length; e < i; ++e) {
    for (var r = t[e], n = 0, a = r.length; n < a; ++n) {
      var o = r[n];
      if (o) {
        return o;
      }
    }
  }
  return null;
}
function Sv() {
  let t = 0;
  for (let e of this) ++t;
  return t;
}
function Ev() {
  return !this.node();
}
function Tv(t) {
  for (var e = this._groups, i = 0, r = e.length; i < r; ++i) {
    for (var n = e[i], a = 0, o = n.length, s; a < o; ++a) {
      (s = n[a]) && t.call(s, s.__data__, a, n);
    }
  }
  return this;
}
function z3(t) {
  return function() {
    this.removeAttribute(t);
  };
}
function B3(t) {
  return function() {
    this.removeAttributeNS(t.space, t.local);
  };
}
function U3(t, e) {
  return function() {
    this.setAttribute(t, e);
  };
}
function G3(t, e) {
  return function() {
    this.setAttributeNS(t.space, t.local, e);
  };
}
function H3(t, e) {
  return function() {
    var i = e.apply(this, arguments);
    i == null ? this.removeAttribute(t) : this.setAttribute(t, i);
  };
}
function j3(t, e) {
  return function() {
    var i = e.apply(this, arguments);
    i == null
      ? this.removeAttributeNS(t.space, t.local)
      : this.setAttributeNS(t.space, t.local, i);
  };
}
function Av(t, e) {
  var i = oa(t);
  if (arguments.length < 2) {
    var r = this.node();
    return i.local ? r.getAttributeNS(i.space, i.local) : r.getAttribute(i);
  }
  return this.each(
    (e == null
      ? i.local ? B3 : z3
      : typeof e == "function"
      ? i.local ? j3 : H3
      : i.local
      ? G3
      : U3)(i, e),
  );
}
function Gc(t) {
  return t.ownerDocument && t.ownerDocument.defaultView || t.document && t
    || t.defaultView;
}
function V3(t) {
  return function() {
    this.style.removeProperty(t);
  };
}
function q3(t, e, i) {
  return function() {
    this.style.setProperty(t, e, i);
  };
}
function W3(t, e, i) {
  return function() {
    var r = e.apply(this, arguments);
    r == null ? this.style.removeProperty(t) : this.style.setProperty(t, r, i);
  };
}
function Iv(t, e, i) {
  return arguments.length > 1
    ? this.each(
      (e == null ? V3 : typeof e == "function" ? W3 : q3)(t, e, i ?? ""),
    )
    : Oa(this.node(), t);
}
function Oa(t, e) {
  return t.style.getPropertyValue(e)
    || Gc(t).getComputedStyle(t, null).getPropertyValue(e);
}
function Y3(t) {
  return function() {
    delete this[t];
  };
}
function X3(t, e) {
  return function() {
    this[t] = e;
  };
}
function K3(t, e) {
  return function() {
    var i = e.apply(this, arguments);
    i == null ? delete this[t] : this[t] = i;
  };
}
function Cv(t, e) {
  return arguments.length > 1
    ? this.each((e == null ? Y3 : typeof e == "function" ? K3 : X3)(t, e))
    : this.node()[t];
}
function kv(t) {
  return t.trim().split(/^|\s+/);
}
function Nm(t) {
  return t.classList || new Lv(t);
}
function Lv(t) {
  this._node = t, this._names = kv(t.getAttribute("class") || "");
}
Lv.prototype = {
  add: function(t) {
    var e = this._names.indexOf(t);
    e < 0
      && (this._names.push(t),
        this._node.setAttribute("class", this._names.join(" ")));
  },
  remove: function(t) {
    var e = this._names.indexOf(t);
    e >= 0
      && (this._names.splice(e, 1),
        this._node.setAttribute("class", this._names.join(" ")));
  },
  contains: function(t) {
    return this._names.indexOf(t) >= 0;
  },
};
function Ov(t, e) {
  for (var i = Nm(t), r = -1, n = e.length; ++r < n;) i.add(e[r]);
}
function Rv(t, e) {
  for (var i = Nm(t), r = -1, n = e.length; ++r < n;) i.remove(e[r]);
}
function Z3(t) {
  return function() {
    Ov(this, t);
  };
}
function J3(t) {
  return function() {
    Rv(this, t);
  };
}
function Q3(t, e) {
  return function() {
    (e.apply(this, arguments) ? Ov : Rv)(this, t);
  };
}
function Fv(t, e) {
  var i = kv(t + "");
  if (arguments.length < 2) {
    for (var r = Nm(this.node()), n = -1, a = i.length; ++n < a;) {
      if (!r.contains(i[n])) return !1;
    }
    return !0;
  }
  return this.each((typeof e == "function" ? Q3 : e ? Z3 : J3)(i, e));
}
function eE() {
  this.textContent = "";
}
function tE(t) {
  return function() {
    this.textContent = t;
  };
}
function iE(t) {
  return function() {
    var e = t.apply(this, arguments);
    this.textContent = e ?? "";
  };
}
function Dv(t) {
  return arguments.length
    ? this.each(t == null ? eE : (typeof t == "function" ? iE : tE)(t))
    : this.node().textContent;
}
function rE() {
  this.innerHTML = "";
}
function nE(t) {
  return function() {
    this.innerHTML = t;
  };
}
function aE(t) {
  return function() {
    var e = t.apply(this, arguments);
    this.innerHTML = e ?? "";
  };
}
function $v(t) {
  return arguments.length
    ? this.each(t == null ? rE : (typeof t == "function" ? aE : nE)(t))
    : this.node().innerHTML;
}
function oE() {
  this.nextSibling && this.parentNode.appendChild(this);
}
function Mv() {
  return this.each(oE);
}
function sE() {
  this.previousSibling
    && this.parentNode.insertBefore(this, this.parentNode.firstChild);
}
function Nv() {
  return this.each(sE);
}
function Pv(t) {
  var e = typeof t == "function" ? t : zc(t);
  return this.select(function() {
    return this.appendChild(e.apply(this, arguments));
  });
}
function lE() {
  return null;
}
function zv(t, e) {
  var i = typeof t == "function" ? t : zc(t),
    r = e == null ? lE : typeof e == "function" ? e : ho(e);
  return this.select(function() {
    return this.insertBefore(
      i.apply(this, arguments),
      r.apply(this, arguments) || null,
    );
  });
}
function dE() {
  var t = this.parentNode;
  t && t.removeChild(this);
}
function Bv() {
  return this.each(dE);
}
function cE() {
  var t = this.cloneNode(!1), e = this.parentNode;
  return e ? e.insertBefore(t, this.nextSibling) : t;
}
function uE() {
  var t = this.cloneNode(!0), e = this.parentNode;
  return e ? e.insertBefore(t, this.nextSibling) : t;
}
function Uv(t) {
  return this.select(t ? uE : cE);
}
function Gv(t) {
  return arguments.length ? this.property("__data__", t) : this.node().__data__;
}
function fE(t) {
  return function(e) {
    t.call(this, e, this.__data__);
  };
}
function mE(t) {
  return t.trim().split(/^|\s+/).map(function(e) {
    var i = "", r = e.indexOf(".");
    return r >= 0 && (i = e.slice(r + 1), e = e.slice(0, r)),
      { type: e, name: i };
  });
}
function hE(t) {
  return function() {
    var e = this.__on;
    if (e) {
      for (var i = 0, r = -1, n = e.length, a; i < n; ++i) {
        a = e[i],
          (!t.type || a.type === t.type) && a.name === t.name
            ? this.removeEventListener(a.type, a.listener, a.options)
            : e[++r] = a;
      }
      ++r ? e.length = r : delete this.__on;
    }
  };
}
function pE(t, e, i) {
  return function() {
    var r = this.__on, n, a = fE(e);
    if (r) {
      for (var o = 0, s = r.length; o < s; ++o) {
        if ((n = r[o]).type === t.type && n.name === t.name) {
          this.removeEventListener(n.type, n.listener, n.options),
            this.addEventListener(n.type, n.listener = a, n.options = i),
            n.value = e;
          return;
        }
      }
    }
    this.addEventListener(t.type, a, i),
      n = { type: t.type, name: t.name, value: e, listener: a, options: i },
      r ? r.push(n) : this.__on = [n];
  };
}
function Hv(t, e, i) {
  var r = mE(t + ""), n, a = r.length, o;
  if (arguments.length < 2) {
    var s = this.node().__on;
    if (s) {
      for (var l = 0, d = s.length, c; l < d; ++l) {
        for (n = 0, c = s[l]; n < a; ++n) {
          if ((o = r[n]).type === c.type && o.name === c.name) return c.value;
        }
      }
    }
    return;
  }
  for (s = e ? pE : hE, n = 0; n < a; ++n) this.each(s(r[n], e, i));
  return this;
}
function jv(t, e, i) {
  var r = Gc(t), n = r.CustomEvent;
  typeof n == "function"
    ? n = new n(e, i)
    : (n = r.document.createEvent("Event"),
      i
        ? (n.initEvent(e, i.bubbles, i.cancelable), n.detail = i.detail)
        : n.initEvent(e, !1, !1)), t.dispatchEvent(n);
}
function gE(t, e) {
  return function() {
    return jv(this, t, e);
  };
}
function vE(t, e) {
  return function() {
    return jv(this, t, e.apply(this, arguments));
  };
}
function Vv(t, e) {
  return this.each((typeof e == "function" ? vE : gE)(t, e));
}
function* qv() {
  for (var t = this._groups, e = 0, i = t.length; e < i; ++e) {
    for (var r = t[e], n = 0, a = r.length, o; n < a; ++n) {
      (o = r[n]) && (yield o);
    }
  }
}
var Pm = [null];
function Ki(t, e) {
  this._groups = t, this._parents = e;
}
function Wv() {
  return new Ki([[document.documentElement]], Pm);
}
function _E() {
  return this;
}
Ki.prototype = Wv.prototype = {
  constructor: Ki,
  select: sv,
  selectAll: lv,
  selectChild: dv,
  selectChildren: cv,
  filter: uv,
  data: hv,
  enter: fv,
  exit: pv,
  join: gv,
  merge: vv,
  selection: _E,
  order: _v,
  sort: xv,
  call: bv,
  nodes: yv,
  node: wv,
  size: Sv,
  empty: Ev,
  each: Tv,
  attr: Av,
  style: Iv,
  property: Cv,
  classed: Fv,
  text: Dv,
  html: $v,
  raise: Mv,
  lower: Nv,
  append: Pv,
  insert: zv,
  remove: Bv,
  clone: Uv,
  datum: Gv,
  on: Hv,
  dispatch: Vv,
  [Symbol.iterator]: qv,
};
var sa = Wv;
function ai(t) {
  return typeof t == "string"
    ? new Ki([[document.querySelector(t)]], [document.documentElement])
    : new Ki([[t]], Pm);
}
function Yv(t) {
  let e;
  for (; e = t.sourceEvent;) t = e;
  return t;
}
function cn(t, e) {
  if (t = Yv(t), e === void 0 && (e = t.currentTarget), e) {
    var i = e.ownerSVGElement || e;
    if (i.createSVGPoint) {
      var r = i.createSVGPoint();
      return r.x = t.clientX,
        r.y = t.clientY,
        r = r.matrixTransform(e.getScreenCTM().inverse()),
        [r.x, r.y];
    }
    if (e.getBoundingClientRect) {
      var n = e.getBoundingClientRect();
      return [
        t.clientX - n.left - e.clientLeft,
        t.clientY - n.top - e.clientTop,
      ];
    }
  }
  return [t.pageX, t.pageY];
}
var xE = { value: () => {} };
function Kv() {
  for (var t = 0, e = arguments.length, i = {}, r; t < e; ++t) {
    if (!(r = arguments[t] + "") || r in i || /[\s.]/.test(r)) {
      throw new Error("illegal type: " + r);
    }
    i[r] = [];
  }
  return new Hc(i);
}
function Hc(t) {
  this._ = t;
}
function bE(t, e) {
  return t.trim().split(/^|\s+/).map(function(i) {
    var r = "", n = i.indexOf(".");
    if (
      n >= 0 && (r = i.slice(n + 1), i = i.slice(0, n)),
        i && !e.hasOwnProperty(i)
    ) {
      throw new Error("unknown type: " + i);
    }
    return { type: i, name: r };
  });
}
Hc.prototype = Kv.prototype = {
  constructor: Hc,
  on: function(t, e) {
    var i = this._, r = bE(t + "", i), n, a = -1, o = r.length;
    if (arguments.length < 2) {
      for (; ++a < o;) {
        if ((n = (t = r[a]).type) && (n = yE(i[n], t.name))) return n;
      }
      return;
    }
    if (e != null && typeof e != "function") {
      throw new Error("invalid callback: " + e);
    }
    for (; ++a < o;) {if (n = (t = r[a]).type) i[n] = Xv(i[n], t.name, e);
      else if (e == null) for (n in i) i[n] = Xv(i[n], t.name, null);}
    return this;
  },
  copy: function() {
    var t = {}, e = this._;
    for (var i in e) t[i] = e[i].slice();
    return new Hc(t);
  },
  call: function(t, e) {
    if ((n = arguments.length - 2) > 0) {
      for (var i = new Array(n), r = 0, n, a; r < n; ++r) {
        i[r] = arguments[r + 2];
      }
    }
    if (!this._.hasOwnProperty(t)) throw new Error("unknown type: " + t);
    for (a = this._[t], r = 0, n = a.length; r < n; ++r) a[r].value.apply(e, i);
  },
  apply: function(t, e, i) {
    if (!this._.hasOwnProperty(t)) throw new Error("unknown type: " + t);
    for (var r = this._[t], n = 0, a = r.length; n < a; ++n) {
      r[n].value.apply(e, i);
    }
  },
};
function yE(t, e) {
  for (var i = 0, r = t.length, n; i < r; ++i) {
    if ((n = t[i]).name === e) return n.value;
  }
}
function Xv(t, e, i) {
  for (var r = 0, n = t.length; r < n; ++r) {
    if (t[r].name === e) {
      t[r] = xE, t = t.slice(0, r).concat(t.slice(r + 1));
      break;
    }
  }
  return i != null && t.push({ name: e, value: i }), t;
}
var po = Kv;
var _s = 0,
  Fl = 0,
  Rl = 0,
  Jv = 1e3,
  jc,
  Dl,
  Vc = 0,
  go = 0,
  qc = 0,
  $l = typeof performance == "object" && performance.now ? performance : Date,
  Qv = typeof window == "object" && window.requestAnimationFrame
    ? window.requestAnimationFrame.bind(window)
    : function(t) {
      setTimeout(t, 17);
    };
function Nl() {
  return go || (Qv(wE), go = $l.now() + qc);
}
function wE() {
  go = 0;
}
function Ml() {
  this._call = this._time = this._next = null;
}
Ml.prototype = Wc.prototype = {
  constructor: Ml,
  restart: function(t, e, i) {
    if (typeof t != "function") {
      throw new TypeError("callback is not a function");
    }
    i = (i == null ? Nl() : +i) + (e == null ? 0 : +e),
      !this._next && Dl !== this
      && (Dl ? Dl._next = this : jc = this, Dl = this),
      this._call = t,
      this._time = i,
      zm();
  },
  stop: function() {
    this._call && (this._call = null, this._time = 1 / 0, zm());
  },
};
function Wc(t, e, i) {
  var r = new Ml();
  return r.restart(t, e, i), r;
}
function e_() {
  Nl(), ++_s;
  for (var t = jc, e; t;) {
    (e = go - t._time) >= 0 && t._call.call(void 0, e), t = t._next;
  }
  --_s;
}
function Zv() {
  go = (Vc = $l.now()) + qc, _s = Fl = 0;
  try {
    e_();
  }
  finally {
    _s = 0, EE(), go = 0;
  }
}
function SE() {
  var t = $l.now(), e = t - Vc;
  e > Jv && (qc -= e, Vc = t);
}
function EE() {
  for (var t, e = jc, i, r = 1 / 0; e;) {
    e._call
      ? (r > e._time && (r = e._time), t = e, e = e._next)
      : (i = e._next, e._next = null, e = t ? t._next = i : jc = i);
  }
  Dl = t, zm(r);
}
function zm(t) {
  if (!_s) {
    Fl && (Fl = clearTimeout(Fl));
    var e = t - go;
    e > 24
      ? (t < 1 / 0 && (Fl = setTimeout(Zv, t - $l.now() - qc)),
        Rl && (Rl = clearInterval(Rl)))
      : (Rl || (Vc = $l.now(), Rl = setInterval(SE, Jv)), _s = 1, Qv(Zv));
  }
}
function Yc(t, e, i) {
  var r = new Ml();
  return e = e == null ? 0 : +e,
    r.restart(
      n => {
        r.stop(), t(n + e);
      },
      e,
      i,
    ),
    r;
}
var TE = po("start", "end", "cancel", "interrupt"),
  AE = [],
  i_ = 0,
  Bm = 1,
  Kc = 2,
  Xc = 3,
  t_ = 4,
  Zc = 5,
  Pl = 6;
function Ra(t, e, i, r, n, a) {
  var o = t.__transition;
  if (!o) t.__transition = {};
  else if (i in o) return;
  IE(t, i, {
    name: e,
    index: r,
    group: n,
    on: TE,
    tween: AE,
    time: a.time,
    delay: a.delay,
    duration: a.duration,
    ease: a.ease,
    timer: null,
    state: i_,
  });
}
function zl(t, e) {
  var i = pr(t, e);
  if (i.state > i_) throw new Error("too late; already scheduled");
  return i;
}
function Cr(t, e) {
  var i = pr(t, e);
  if (i.state > Xc) throw new Error("too late; already running");
  return i;
}
function pr(t, e) {
  var i = t.__transition;
  if (!i || !(i = i[e])) throw new Error("transition not found");
  return i;
}
function IE(t, e, i) {
  var r = t.__transition, n;
  r[e] = i, i.timer = Wc(a, 0, i.time);
  function a(d) {
    i.state = Bm,
      i.timer.restart(o, i.delay, i.time),
      i.delay <= d && o(d - i.delay);
  }
  function o(d) {
    var c, u, f, h;
    if (i.state !== Bm) return l();
    for (c in r) {
      if (h = r[c], h.name === i.name) {
        if (h.state === Xc) return Yc(o);
        h.state === t_
          ? (h.state = Pl,
            h.timer.stop(),
            h.on.call("interrupt", t, t.__data__, h.index, h.group),
            delete r[c])
          : +c < e
            && (h.state = Pl,
              h.timer.stop(),
              h.on.call("cancel", t, t.__data__, h.index, h.group),
              delete r[c]);
      }
    }
    if (
      Yc(function() {
        i.state === Xc
          && (i.state = t_, i.timer.restart(s, i.delay, i.time), s(d));
      }),
        i.state = Kc,
        i.on.call("start", t, t.__data__, i.index, i.group),
        i.state === Kc
    ) {
      for (
        i.state = Xc, n = new Array(f = i.tween.length), c = 0, u = -1;
        c < f;
        ++c
      ) {
        (h = i.tween[c].value.call(t, t.__data__, i.index, i.group))
          && (n[++u] = h);
      }
      n.length = u + 1;
    }
  }
  function s(d) {
    for (
      var c = d < i.duration
          ? i.ease.call(null, d / i.duration)
          : (i.timer.restart(l), i.state = Zc, 1),
        u = -1,
        f = n.length;
      ++u < f;
    ) {
      n[u].call(t, c);
    }
    i.state === Zc && (i.on.call("end", t, t.__data__, i.index, i.group), l());
  }
  function l() {
    i.state = Pl, i.timer.stop(), delete r[e];
    for (var d in r) return;
    delete t.__transition;
  }
}
function Pn(t, e) {
  var i = t.__transition, r, n, a = !0, o;
  if (i) {
    e = e == null ? null : e + "";
    for (o in i) {
      if ((r = i[o]).name !== e) {
        a = !1;
        continue;
      }
      n = r.state > Kc && r.state < Zc,
        r.state = Pl,
        r.timer.stop(),
        r.on.call(n ? "interrupt" : "cancel", t, t.__data__, r.index, r.group),
        delete i[o];
    }
    a && delete t.__transition;
  }
}
function r_(t) {
  return this.each(function() {
    Pn(this, t);
  });
}
function Jc(t, e, i) {
  t.prototype = e.prototype = i, i.constructor = t;
}
function Um(t, e) {
  var i = Object.create(t.prototype);
  for (var r in e) i[r] = e[r];
  return i;
}
function Gl() {}
var Bl = .7,
  tu = 1 / Bl,
  xs = "\\s*([+-]?\\d+)\\s*",
  Ul = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",
  zn = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",
  CE = /^#([0-9a-f]{3,8})$/,
  kE = new RegExp(`^rgb\\(${xs},${xs},${xs}\\)$`),
  LE = new RegExp(`^rgb\\(${zn},${zn},${zn}\\)$`),
  OE = new RegExp(`^rgba\\(${xs},${xs},${xs},${Ul}\\)$`),
  RE = new RegExp(`^rgba\\(${zn},${zn},${zn},${Ul}\\)$`),
  FE = new RegExp(`^hsl\\(${Ul},${zn},${zn}\\)$`),
  DE = new RegExp(`^hsla\\(${Ul},${zn},${zn},${Ul}\\)$`),
  n_ = {
    aliceblue: 15792383,
    antiquewhite: 16444375,
    aqua: 65535,
    aquamarine: 8388564,
    azure: 15794175,
    beige: 16119260,
    bisque: 16770244,
    black: 0,
    blanchedalmond: 16772045,
    blue: 255,
    blueviolet: 9055202,
    brown: 10824234,
    burlywood: 14596231,
    cadetblue: 6266528,
    chartreuse: 8388352,
    chocolate: 13789470,
    coral: 16744272,
    cornflowerblue: 6591981,
    cornsilk: 16775388,
    crimson: 14423100,
    cyan: 65535,
    darkblue: 139,
    darkcyan: 35723,
    darkgoldenrod: 12092939,
    darkgray: 11119017,
    darkgreen: 25600,
    darkgrey: 11119017,
    darkkhaki: 12433259,
    darkmagenta: 9109643,
    darkolivegreen: 5597999,
    darkorange: 16747520,
    darkorchid: 10040012,
    darkred: 9109504,
    darksalmon: 15308410,
    darkseagreen: 9419919,
    darkslateblue: 4734347,
    darkslategray: 3100495,
    darkslategrey: 3100495,
    darkturquoise: 52945,
    darkviolet: 9699539,
    deeppink: 16716947,
    deepskyblue: 49151,
    dimgray: 6908265,
    dimgrey: 6908265,
    dodgerblue: 2003199,
    firebrick: 11674146,
    floralwhite: 16775920,
    forestgreen: 2263842,
    fuchsia: 16711935,
    gainsboro: 14474460,
    ghostwhite: 16316671,
    gold: 16766720,
    goldenrod: 14329120,
    gray: 8421504,
    green: 32768,
    greenyellow: 11403055,
    grey: 8421504,
    honeydew: 15794160,
    hotpink: 16738740,
    indianred: 13458524,
    indigo: 4915330,
    ivory: 16777200,
    khaki: 15787660,
    lavender: 15132410,
    lavenderblush: 16773365,
    lawngreen: 8190976,
    lemonchiffon: 16775885,
    lightblue: 11393254,
    lightcoral: 15761536,
    lightcyan: 14745599,
    lightgoldenrodyellow: 16448210,
    lightgray: 13882323,
    lightgreen: 9498256,
    lightgrey: 13882323,
    lightpink: 16758465,
    lightsalmon: 16752762,
    lightseagreen: 2142890,
    lightskyblue: 8900346,
    lightslategray: 7833753,
    lightslategrey: 7833753,
    lightsteelblue: 11584734,
    lightyellow: 16777184,
    lime: 65280,
    limegreen: 3329330,
    linen: 16445670,
    magenta: 16711935,
    maroon: 8388608,
    mediumaquamarine: 6737322,
    mediumblue: 205,
    mediumorchid: 12211667,
    mediumpurple: 9662683,
    mediumseagreen: 3978097,
    mediumslateblue: 8087790,
    mediumspringgreen: 64154,
    mediumturquoise: 4772300,
    mediumvioletred: 13047173,
    midnightblue: 1644912,
    mintcream: 16121850,
    mistyrose: 16770273,
    moccasin: 16770229,
    navajowhite: 16768685,
    navy: 128,
    oldlace: 16643558,
    olive: 8421376,
    olivedrab: 7048739,
    orange: 16753920,
    orangered: 16729344,
    orchid: 14315734,
    palegoldenrod: 15657130,
    palegreen: 10025880,
    paleturquoise: 11529966,
    palevioletred: 14381203,
    papayawhip: 16773077,
    peachpuff: 16767673,
    peru: 13468991,
    pink: 16761035,
    plum: 14524637,
    powderblue: 11591910,
    purple: 8388736,
    rebeccapurple: 6697881,
    red: 16711680,
    rosybrown: 12357519,
    royalblue: 4286945,
    saddlebrown: 9127187,
    salmon: 16416882,
    sandybrown: 16032864,
    seagreen: 3050327,
    seashell: 16774638,
    sienna: 10506797,
    silver: 12632256,
    skyblue: 8900331,
    slateblue: 6970061,
    slategray: 7372944,
    slategrey: 7372944,
    snow: 16775930,
    springgreen: 65407,
    steelblue: 4620980,
    tan: 13808780,
    teal: 32896,
    thistle: 14204888,
    tomato: 16737095,
    turquoise: 4251856,
    violet: 15631086,
    wheat: 16113331,
    white: 16777215,
    whitesmoke: 16119285,
    yellow: 16776960,
    yellowgreen: 10145074,
  };
Jc(Gl, Pr, {
  copy(t) {
    return Object.assign(new this.constructor(), this, t);
  },
  displayable() {
    return this.rgb().displayable();
  },
  hex: a_,
  formatHex: a_,
  formatHex8: $E,
  formatHsl: ME,
  formatRgb: o_,
  toString: o_,
});
function a_() {
  return this.rgb().formatHex();
}
function $E() {
  return this.rgb().formatHex8();
}
function ME() {
  return f_(this).formatHsl();
}
function o_() {
  return this.rgb().formatRgb();
}
function Pr(t) {
  var e, i;
  return t = (t + "").trim().toLowerCase(),
    (e = CE.exec(t))
      ? (i = e[1].length,
        e = parseInt(e[1], 16),
        i === 6 ? s_(e) : i === 3
          ? new Wr(
            e >> 8 & 15 | e >> 4 & 240,
            e >> 4 & 15 | e & 240,
            (e & 15) << 4 | e & 15,
            1,
          )
          : i === 8
          ? Qc(e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, (e & 255) / 255)
          : i === 4
          ? Qc(
            e >> 12 & 15 | e >> 8 & 240,
            e >> 8 & 15 | e >> 4 & 240,
            e >> 4 & 15 | e & 240,
            ((e & 15) << 4 | e & 15) / 255,
          )
          : null)
      : (e = kE.exec(t))
      ? new Wr(e[1], e[2], e[3], 1)
      : (e = LE.exec(t))
      ? new Wr(e[1] * 255 / 100, e[2] * 255 / 100, e[3] * 255 / 100, 1)
      : (e = OE.exec(t))
      ? Qc(e[1], e[2], e[3], e[4])
      : (e = RE.exec(t))
      ? Qc(e[1] * 255 / 100, e[2] * 255 / 100, e[3] * 255 / 100, e[4])
      : (e = FE.exec(t))
      ? c_(e[1], e[2] / 100, e[3] / 100, 1)
      : (e = DE.exec(t))
      ? c_(e[1], e[2] / 100, e[3] / 100, e[4])
      : n_.hasOwnProperty(t)
      ? s_(n_[t])
      : t === "transparent"
      ? new Wr(NaN, NaN, NaN, 0)
      : null;
}
function s_(t) {
  return new Wr(t >> 16 & 255, t >> 8 & 255, t & 255, 1);
}
function Qc(t, e, i, r) {
  return r <= 0 && (t = e = i = NaN), new Wr(t, e, i, r);
}
function NE(t) {
  return t instanceof Gl || (t = Pr(t)),
    t ? (t = t.rgb(), new Wr(t.r, t.g, t.b, t.opacity)) : new Wr();
}
function bs(t, e, i, r) {
  return arguments.length === 1 ? NE(t) : new Wr(t, e, i, r ?? 1);
}
function Wr(t, e, i, r) {
  this.r = +t, this.g = +e, this.b = +i, this.opacity = +r;
}
Jc(
  Wr,
  bs,
  Um(Gl, {
    brighter(t) {
      return t = t == null ? tu : Math.pow(tu, t),
        new Wr(this.r * t, this.g * t, this.b * t, this.opacity);
    },
    darker(t) {
      return t = t == null ? Bl : Math.pow(Bl, t),
        new Wr(this.r * t, this.g * t, this.b * t, this.opacity);
    },
    rgb() {
      return this;
    },
    clamp() {
      return new Wr(_o(this.r), _o(this.g), _o(this.b), iu(this.opacity));
    },
    displayable() {
      return -.5 <= this.r && this.r < 255.5 && -.5 <= this.g && this.g < 255.5
        && -.5 <= this.b && this.b < 255.5 && 0 <= this.opacity
        && this.opacity <= 1;
    },
    hex: l_,
    formatHex: l_,
    formatHex8: PE,
    formatRgb: d_,
    toString: d_,
  }),
);
function l_() {
  return `#${vo(this.r)}${vo(this.g)}${vo(this.b)}`;
}
function PE() {
  return `#${vo(this.r)}${vo(this.g)}${vo(this.b)}${
    vo((isNaN(this.opacity) ? 1 : this.opacity) * 255)
  }`;
}
function d_() {
  let t = iu(this.opacity);
  return `${t === 1 ? "rgb(" : "rgba("}${_o(this.r)}, ${_o(this.g)}, ${
    _o(this.b)
  }${t === 1 ? ")" : `, ${t})`}`;
}
function iu(t) {
  return isNaN(t) ? 1 : Math.max(0, Math.min(1, t));
}
function _o(t) {
  return Math.max(0, Math.min(255, Math.round(t) || 0));
}
function vo(t) {
  return t = _o(t), (t < 16 ? "0" : "") + t.toString(16);
}
function c_(t, e, i, r) {
  return r <= 0
    ? t = e = i = NaN
    : i <= 0 || i >= 1
    ? t = e = NaN
    : e <= 0 && (t = NaN),
    new wn(t, e, i, r);
}
function f_(t) {
  if (t instanceof wn) return new wn(t.h, t.s, t.l, t.opacity);
  if (t instanceof Gl || (t = Pr(t)), !t) return new wn();
  if (t instanceof wn) return t;
  t = t.rgb();
  var e = t.r / 255,
    i = t.g / 255,
    r = t.b / 255,
    n = Math.min(e, i, r),
    a = Math.max(e, i, r),
    o = NaN,
    s = a - n,
    l = (a + n) / 2;
  return s
    ? (e === a
      ? o = (i - r) / s + (i < r) * 6
      : i === a
      ? o = (r - e) / s + 2
      : o = (e - i) / s + 4,
      s /= l < .5 ? a + n : 2 - a - n,
      o *= 60)
    : s = l > 0 && l < 1 ? 0 : o,
    new wn(o, s, l, t.opacity);
}
function m_(t, e, i, r) {
  return arguments.length === 1 ? f_(t) : new wn(t, e, i, r ?? 1);
}
function wn(t, e, i, r) {
  this.h = +t, this.s = +e, this.l = +i, this.opacity = +r;
}
Jc(
  wn,
  m_,
  Um(Gl, {
    brighter(t) {
      return t = t == null ? tu : Math.pow(tu, t),
        new wn(this.h, this.s, this.l * t, this.opacity);
    },
    darker(t) {
      return t = t == null ? Bl : Math.pow(Bl, t),
        new wn(this.h, this.s, this.l * t, this.opacity);
    },
    rgb() {
      var t = this.h % 360 + (this.h < 0) * 360,
        e = isNaN(t) || isNaN(this.s) ? 0 : this.s,
        i = this.l,
        r = i + (i < .5 ? i : 1 - i) * e,
        n = 2 * i - r;
      return new Wr(
        Gm(t >= 240 ? t - 240 : t + 120, n, r),
        Gm(t, n, r),
        Gm(t < 120 ? t + 240 : t - 120, n, r),
        this.opacity,
      );
    },
    clamp() {
      return new wn(u_(this.h), eu(this.s), eu(this.l), iu(this.opacity));
    },
    displayable() {
      return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l
        && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;
    },
    formatHsl() {
      let t = iu(this.opacity);
      return `${t === 1 ? "hsl(" : "hsla("}${u_(this.h)}, ${
        eu(this.s) * 100
      }%, ${eu(this.l) * 100}%${t === 1 ? ")" : `, ${t})`}`;
    },
  }),
);
function u_(t) {
  return t = (t || 0) % 360, t < 0 ? t + 360 : t;
}
function eu(t) {
  return Math.max(0, Math.min(1, t || 0));
}
function Gm(t, e, i) {
  return (t < 60
    ? e + (i - e) * t / 60
    : t < 180
    ? i
    : t < 240
    ? e + (i - e) * (240 - t) / 60
    : e) * 255;
}
function Hm(t, e, i, r, n) {
  var a = t * t, o = a * t;
  return ((1 - 3 * t + 3 * a - o) * e + (4 - 6 * a + 3 * o) * i
    + (1 + 3 * t + 3 * a - 3 * o) * r + o * n) / 6;
}
function h_(t) {
  var e = t.length - 1;
  return function(i) {
    var r = i <= 0 ? i = 0 : i >= 1 ? (i = 1, e - 1) : Math.floor(i * e),
      n = t[r],
      a = t[r + 1],
      o = r > 0 ? t[r - 1] : 2 * n - a,
      s = r < e - 1 ? t[r + 2] : 2 * a - n;
    return Hm((i - r / e) * e, o, n, a, s);
  };
}
function p_(t) {
  var e = t.length;
  return function(i) {
    var r = Math.floor(((i %= 1) < 0 ? ++i : i) * e),
      n = t[(r + e - 1) % e],
      a = t[r % e],
      o = t[(r + 1) % e],
      s = t[(r + 2) % e];
    return Hm((i - r / e) * e, n, a, o, s);
  };
}
var Hl = t => () => t;
function zE(t, e) {
  return function(i) {
    return t + i * e;
  };
}
function BE(t, e, i) {
  return t = Math.pow(t, i), e = Math.pow(e, i) - t, i = 1 / i, function(r) {
    return Math.pow(t + r * e, i);
  };
}
function g_(t) {
  return (t = +t) == 1 ? ru : function(e, i) {
    return i - e ? BE(e, i, t) : Hl(isNaN(e) ? i : e);
  };
}
function ru(t, e) {
  var i = e - t;
  return i ? zE(t, i) : Hl(isNaN(t) ? e : t);
}
var xo = function t(e) {
  var i = g_(e);
  function r(n, a) {
    var o = i((n = bs(n)).r, (a = bs(a)).r),
      s = i(n.g, a.g),
      l = i(n.b, a.b),
      d = ru(n.opacity, a.opacity);
    return function(c) {
      return n.r = o(c), n.g = s(c), n.b = l(c), n.opacity = d(c), n + "";
    };
  }
  return r.gamma = t, r;
}(1);
function v_(t) {
  return function(e) {
    var i = e.length,
      r = new Array(i),
      n = new Array(i),
      a = new Array(i),
      o,
      s;
    for (o = 0; o < i; ++o) {
      s = bs(e[o]), r[o] = s.r || 0, n[o] = s.g || 0, a[o] = s.b || 0;
    }
    return r = t(r), n = t(n), a = t(a), s.opacity = 1, function(l) {
      return s.r = r(l), s.g = n(l), s.b = a(l), s + "";
    };
  };
}
var UE = v_(h_), GE = v_(p_);
function __(t, e) {
  e || (e = []);
  var i = t ? Math.min(e.length, t.length) : 0, r = e.slice(), n;
  return function(a) {
    for (n = 0; n < i; ++n) r[n] = t[n] * (1 - a) + e[n] * a;
    return r;
  };
}
function x_(t) {
  return ArrayBuffer.isView(t) && !(t instanceof DataView);
}
function b_(t, e) {
  var i = e ? e.length : 0,
    r = t ? Math.min(i, t.length) : 0,
    n = new Array(r),
    a = new Array(i),
    o;
  for (o = 0; o < r; ++o) n[o] = la(t[o], e[o]);
  for (; o < i; ++o) a[o] = e[o];
  return function(s) {
    for (o = 0; o < r; ++o) a[o] = n[o](s);
    return a;
  };
}
function y_(t, e) {
  var i = new Date();
  return t = +t, e = +e, function(r) {
    return i.setTime(t * (1 - r) + e * r), i;
  };
}
function kr(t, e) {
  return t = +t, e = +e, function(i) {
    return t * (1 - i) + e * i;
  };
}
function w_(t, e) {
  var i = {}, r = {}, n;
  (t === null || typeof t != "object") && (t = {}),
    (e === null || typeof e != "object") && (e = {});
  for (n in e) n in t ? i[n] = la(t[n], e[n]) : r[n] = e[n];
  return function(a) {
    for (n in i) r[n] = i[n](a);
    return r;
  };
}
var Vm = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,
  jm = new RegExp(Vm.source, "g");
function HE(t) {
  return function() {
    return t;
  };
}
function jE(t) {
  return function(e) {
    return t(e) + "";
  };
}
function jl(t, e) {
  var i = Vm.lastIndex = jm.lastIndex = 0, r, n, a, o = -1, s = [], l = [];
  for (t = t + "", e = e + ""; (r = Vm.exec(t)) && (n = jm.exec(e));) {
    (a = n.index) > i && (a = e.slice(i, a), s[o] ? s[o] += a : s[++o] = a),
      (r = r[0]) === (n = n[0])
        ? s[o] ? s[o] += n : s[++o] = n
        : (s[++o] = null, l.push({ i: o, x: kr(r, n) })),
      i = jm.lastIndex;
  }
  return i < e.length && (a = e.slice(i), s[o] ? s[o] += a : s[++o] = a),
    s.length < 2 ? l[0] ? jE(l[0].x) : HE(e) : (e = l.length, function(d) {
      for (var c = 0, u; c < e; ++c) s[(u = l[c]).i] = u.x(d);
      return s.join("");
    });
}
function la(t, e) {
  var i = typeof e, r;
  return e == null || i === "boolean"
    ? Hl(e)
    : (i === "number" ? kr
    : i === "string" ? (r = Pr(e)) ? (e = r, xo) : jl : e instanceof Pr
      ? xo
      : e instanceof Date
      ? y_
      : x_(e)
      ? __
      : Array.isArray(e)
      ? b_
      : typeof e.valueOf != "function" && typeof e.toString != "function"
          || isNaN(e)
      ? w_
      : kr)(t, e);
}
function qm(t, e) {
  return t = +t, e = +e, function(i) {
    return Math.round(t * (1 - i) + e * i);
  };
}
var S_ = 180 / Math.PI,
  nu = {
    translateX: 0,
    translateY: 0,
    rotate: 0,
    skewX: 0,
    scaleX: 1,
    scaleY: 1,
  };
function Wm(t, e, i, r, n, a) {
  var o, s, l;
  return (o = Math.sqrt(t * t + e * e)) && (t /= o, e /= o),
    (l = t * i + e * r) && (i -= t * l, r -= e * l),
    (s = Math.sqrt(i * i + r * r)) && (i /= s, r /= s, l /= s),
    t * r < e * i && (t = -t, e = -e, l = -l, o = -o),
    {
      translateX: n,
      translateY: a,
      rotate: Math.atan2(e, t) * S_,
      skewX: Math.atan(l) * S_,
      scaleX: o,
      scaleY: s,
    };
}
var au;
function E_(t) {
  let e = new (typeof DOMMatrix == "function" ? DOMMatrix : WebKitCSSMatrix)(
    t + "",
  );
  return e.isIdentity ? nu : Wm(e.a, e.b, e.c, e.d, e.e, e.f);
}
function T_(t) {
  return t == null
    ? nu
    : (au || (au = document.createElementNS("http://www.w3.org/2000/svg", "g")),
      au.setAttribute("transform", t),
      (t = au.transform.baseVal.consolidate())
        ? (t = t.matrix, Wm(t.a, t.b, t.c, t.d, t.e, t.f))
        : nu);
}
function A_(t, e, i, r) {
  function n(d) {
    return d.length ? d.pop() + " " : "";
  }
  function a(d, c, u, f, h, x) {
    if (d !== u || c !== f) {
      var S = h.push("translate(", null, e, null, i);
      x.push({ i: S - 4, x: kr(d, u) }, { i: S - 2, x: kr(c, f) });
    }
    else (u || f) && h.push("translate(" + u + e + f + i);
  }
  function o(d, c, u, f) {
    d !== c
      ? (d - c > 180 ? c += 360 : c - d > 180 && (d += 360),
        f.push({ i: u.push(n(u) + "rotate(", null, r) - 2, x: kr(d, c) }))
      : c && u.push(n(u) + "rotate(" + c + r);
  }
  function s(d, c, u, f) {
    d !== c
      ? f.push({ i: u.push(n(u) + "skewX(", null, r) - 2, x: kr(d, c) })
      : c && u.push(n(u) + "skewX(" + c + r);
  }
  function l(d, c, u, f, h, x) {
    if (d !== u || c !== f) {
      var S = h.push(n(h) + "scale(", null, ",", null, ")");
      x.push({ i: S - 4, x: kr(d, u) }, { i: S - 2, x: kr(c, f) });
    }
    else (u !== 1 || f !== 1) && h.push(n(h) + "scale(" + u + "," + f + ")");
  }
  return function(d, c) {
    var u = [], f = [];
    return d = t(d),
      c = t(c),
      a(d.translateX, d.translateY, c.translateX, c.translateY, u, f),
      o(d.rotate, c.rotate, u, f),
      s(d.skewX, c.skewX, u, f),
      l(d.scaleX, d.scaleY, c.scaleX, c.scaleY, u, f),
      d = c = null,
      function(h) {
        for (var x = -1, S = f.length, p; ++x < S;) u[(p = f[x]).i] = p.x(h);
        return u.join("");
      };
  };
}
var Ym = A_(E_, "px, ", "px)", "deg)"), Xm = A_(T_, ", ", ")", ")");
var VE = 1e-12;
function I_(t) {
  return ((t = Math.exp(t)) + 1 / t) / 2;
}
function qE(t) {
  return ((t = Math.exp(t)) - 1 / t) / 2;
}
function WE(t) {
  return ((t = Math.exp(2 * t)) - 1) / (t + 1);
}
var Km = function t(e, i, r) {
  function n(a, o) {
    var s = a[0],
      l = a[1],
      d = a[2],
      c = o[0],
      u = o[1],
      f = o[2],
      h = c - s,
      x = u - l,
      S = h * h + x * x,
      p,
      y;
    if (S < VE) {
      y = Math.log(f / d) / e,
        p = function(I) {
          return [s + I * h, l + I * x, d * Math.exp(e * I * y)];
        };
    }
    else {
      var E = Math.sqrt(S),
        g = (f * f - d * d + r * S) / (2 * d * i * E),
        _ = (f * f - d * d - r * S) / (2 * f * i * E),
        $ = Math.log(Math.sqrt(g * g + 1) - g),
        z = Math.log(Math.sqrt(_ * _ + 1) - _);
      y = (z - $) / e,
        p = function(I) {
          var D = I * y,
            V = I_($),
            ue = d / (i * E) * (V * WE(e * D + $) - qE($));
          return [s + ue * h, l + ue * x, d * V / I_(e * D + $)];
        };
    }
    return p.duration = y * 1e3 * e / Math.SQRT2, p;
  }
  return n.rho = function(a) {
    var o = Math.max(.001, +a), s = o * o, l = s * s;
    return t(o, s, l);
  },
    n;
}(Math.SQRT2, 2, 4);
function YE(t, e) {
  var i, r;
  return function() {
    var n = Cr(this, t), a = n.tween;
    if (a !== i) {
      r = i = a;
      for (var o = 0, s = r.length; o < s; ++o) {
        if (r[o].name === e) {
          r = r.slice(), r.splice(o, 1);
          break;
        }
      }
    }
    n.tween = r;
  };
}
function XE(t, e, i) {
  var r, n;
  if (typeof i != "function") throw new Error();
  return function() {
    var a = Cr(this, t), o = a.tween;
    if (o !== r) {
      n = (r = o).slice();
      for (var s = { name: e, value: i }, l = 0, d = n.length; l < d; ++l) {
        if (n[l].name === e) {
          n[l] = s;
          break;
        }
      }
      l === d && n.push(s);
    }
    a.tween = n;
  };
}
function C_(t, e) {
  var i = this._id;
  if (t += "", arguments.length < 2) {
    for (var r = pr(this.node(), i).tween, n = 0, a = r.length, o; n < a; ++n) {
      if ((o = r[n]).name === t) return o.value;
    }
    return null;
  }
  return this.each((e == null ? YE : XE)(i, t, e));
}
function ys(t, e, i) {
  var r = t._id;
  return t.each(function() {
    var n = Cr(this, r);
    (n.value || (n.value = {}))[e] = i.apply(this, arguments);
  }),
    function(n) {
      return pr(n, r).value[e];
    };
}
function ou(t, e) {
  var i;
  return (typeof e == "number"
    ? kr
    : e instanceof Pr
    ? xo
    : (i = Pr(e))
    ? (e = i, xo)
    : jl)(t, e);
}
function KE(t) {
  return function() {
    this.removeAttribute(t);
  };
}
function ZE(t) {
  return function() {
    this.removeAttributeNS(t.space, t.local);
  };
}
function JE(t, e, i) {
  var r, n = i + "", a;
  return function() {
    var o = this.getAttribute(t);
    return o === n ? null : o === r ? a : a = e(r = o, i);
  };
}
function QE(t, e, i) {
  var r, n = i + "", a;
  return function() {
    var o = this.getAttributeNS(t.space, t.local);
    return o === n ? null : o === r ? a : a = e(r = o, i);
  };
}
function eT(t, e, i) {
  var r, n, a;
  return function() {
    var o, s = i(this), l;
    return s == null
      ? void this.removeAttribute(t)
      : (o = this.getAttribute(t),
        l = s + "",
        o === l ? null : o === r && l === n
          ? a
          : (n = l, a = e(r = o, s)));
  };
}
function tT(t, e, i) {
  var r, n, a;
  return function() {
    var o, s = i(this), l;
    return s == null
      ? void this.removeAttributeNS(t.space, t.local)
      : (o = this.getAttributeNS(t.space, t.local),
        l = s + "",
        o === l ? null : o === r && l === n
          ? a
          : (n = l, a = e(r = o, s)));
  };
}
function k_(t, e) {
  var i = oa(t), r = i === "transform" ? Xm : ou;
  return this.attrTween(
    t,
    typeof e == "function"
      ? (i.local ? tT : eT)(i, r, ys(this, "attr." + t, e))
      : e == null
      ? (i.local ? ZE : KE)(i)
      : (i.local ? QE : JE)(i, r, e),
  );
}
function iT(t, e) {
  return function(i) {
    this.setAttribute(t, e.call(this, i));
  };
}
function rT(t, e) {
  return function(i) {
    this.setAttributeNS(t.space, t.local, e.call(this, i));
  };
}
function nT(t, e) {
  var i, r;
  function n() {
    var a = e.apply(this, arguments);
    return a !== r && (i = (r = a) && rT(t, a)), i;
  }
  return n._value = e, n;
}
function aT(t, e) {
  var i, r;
  function n() {
    var a = e.apply(this, arguments);
    return a !== r && (i = (r = a) && iT(t, a)), i;
  }
  return n._value = e, n;
}
function L_(t, e) {
  var i = "attr." + t;
  if (arguments.length < 2) return (i = this.tween(i)) && i._value;
  if (e == null) return this.tween(i, null);
  if (typeof e != "function") throw new Error();
  var r = oa(t);
  return this.tween(i, (r.local ? nT : aT)(r, e));
}
function oT(t, e) {
  return function() {
    zl(this, t).delay = +e.apply(this, arguments);
  };
}
function sT(t, e) {
  return e = +e, function() {
    zl(this, t).delay = e;
  };
}
function O_(t) {
  var e = this._id;
  return arguments.length
    ? this.each((typeof t == "function" ? oT : sT)(e, t))
    : pr(this.node(), e).delay;
}
function lT(t, e) {
  return function() {
    Cr(this, t).duration = +e.apply(this, arguments);
  };
}
function dT(t, e) {
  return e = +e, function() {
    Cr(this, t).duration = e;
  };
}
function R_(t) {
  var e = this._id;
  return arguments.length
    ? this.each((typeof t == "function" ? lT : dT)(e, t))
    : pr(this.node(), e).duration;
}
function cT(t, e) {
  if (typeof e != "function") throw new Error();
  return function() {
    Cr(this, t).ease = e;
  };
}
function F_(t) {
  var e = this._id;
  return arguments.length ? this.each(cT(e, t)) : pr(this.node(), e).ease;
}
function uT(t, e) {
  return function() {
    var i = e.apply(this, arguments);
    if (typeof i != "function") throw new Error();
    Cr(this, t).ease = i;
  };
}
function D_(t) {
  if (typeof t != "function") throw new Error();
  return this.each(uT(this._id, t));
}
function $_(t) {
  typeof t != "function" && (t = Ll(t));
  for (
    var e = this._groups, i = e.length, r = new Array(i), n = 0; n < i; ++n
  ) {
    for (var a = e[n], o = a.length, s = r[n] = [], l, d = 0; d < o; ++d) {
      (l = a[d]) && t.call(l, l.__data__, d, a) && s.push(l);
    }
  }
  return new Fr(r, this._parents, this._name, this._id);
}
function M_(t) {
  if (t._id !== this._id) throw new Error();
  for (
    var e = this._groups,
      i = t._groups,
      r = e.length,
      n = i.length,
      a = Math.min(r, n),
      o = new Array(r),
      s = 0;
    s < a;
    ++s
  ) {
    for (
      var l = e[s], d = i[s], c = l.length, u = o[s] = new Array(c), f, h = 0;
      h < c;
      ++h
    ) {
      (f = l[h] || d[h]) && (u[h] = f);
    }
  }
  for (; s < r; ++s) o[s] = e[s];
  return new Fr(o, this._parents, this._name, this._id);
}
function fT(t) {
  return (t + "").trim().split(/^|\s+/).every(function(e) {
    var i = e.indexOf(".");
    return i >= 0 && (e = e.slice(0, i)), !e || e === "start";
  });
}
function mT(t, e, i) {
  var r, n, a = fT(e) ? zl : Cr;
  return function() {
    var o = a(this, t), s = o.on;
    s !== r && (n = (r = s).copy()).on(e, i), o.on = n;
  };
}
function N_(t, e) {
  var i = this._id;
  return arguments.length < 2
    ? pr(this.node(), i).on.on(t)
    : this.each(mT(i, t, e));
}
function hT(t) {
  return function() {
    var e = this.parentNode;
    for (var i in this.__transition) if (+i !== t) return;
    e && e.removeChild(this);
  };
}
function P_() {
  return this.on("end.remove", hT(this._id));
}
function z_(t) {
  var e = this._name, i = this._id;
  typeof t != "function" && (t = ho(t));
  for (
    var r = this._groups, n = r.length, a = new Array(n), o = 0; o < n; ++o
  ) {
    for (
      var s = r[o], l = s.length, d = a[o] = new Array(l), c, u, f = 0;
      f < l;
      ++f
    ) {
      (c = s[f]) && (u = t.call(c, c.__data__, f, s))
        && ("__data__" in c && (u.__data__ = c.__data__),
          d[f] = u,
          Ra(d[f], e, i, f, d, pr(c, i)));
    }
  }
  return new Fr(a, this._parents, e, i);
}
function B_(t) {
  var e = this._name, i = this._id;
  typeof t != "function" && (t = kl(t));
  for (var r = this._groups, n = r.length, a = [], o = [], s = 0; s < n; ++s) {
    for (var l = r[s], d = l.length, c, u = 0; u < d; ++u) {
      if (c = l[u]) {
        for (
          var f = t.call(c, c.__data__, u, l),
            h,
            x = pr(c, i),
            S = 0,
            p = f.length;
          S < p;
          ++S
        ) {
          (h = f[S]) && Ra(h, e, i, S, f, x);
        }
        a.push(f), o.push(c);
      }
    }
  }
  return new Fr(a, o, e, i);
}
var pT = sa.prototype.constructor;
function U_() {
  return new pT(this._groups, this._parents);
}
function gT(t, e) {
  var i, r, n;
  return function() {
    var a = Oa(this, t), o = (this.style.removeProperty(t), Oa(this, t));
    return a === o ? null : a === i && o === r ? n : n = e(i = a, r = o);
  };
}
function G_(t) {
  return function() {
    this.style.removeProperty(t);
  };
}
function vT(t, e, i) {
  var r, n = i + "", a;
  return function() {
    var o = Oa(this, t);
    return o === n ? null : o === r ? a : a = e(r = o, i);
  };
}
function _T(t, e, i) {
  var r, n, a;
  return function() {
    var o = Oa(this, t), s = i(this), l = s + "";
    return s == null && (l = s = (this.style.removeProperty(t), Oa(this, t))),
      o === l ? null : o === r && l === n ? a : (n = l, a = e(r = o, s));
  };
}
function xT(t, e) {
  var i, r, n, a = "style." + e, o = "end." + a, s;
  return function() {
    var l = Cr(this, t),
      d = l.on,
      c = l.value[a] == null ? s || (s = G_(e)) : void 0;
    (d !== i || n !== c) && (r = (i = d).copy()).on(o, n = c), l.on = r;
  };
}
function H_(t, e, i) {
  var r = (t += "") == "transform" ? Ym : ou;
  return e == null
    ? this.styleTween(t, gT(t, r)).on("end.style." + t, G_(t))
    : typeof e == "function"
    ? this.styleTween(t, _T(t, r, ys(this, "style." + t, e))).each(
      xT(this._id, t),
    )
    : this.styleTween(t, vT(t, r, e), i).on("end.style." + t, null);
}
function bT(t, e, i) {
  return function(r) {
    this.style.setProperty(t, e.call(this, r), i);
  };
}
function yT(t, e, i) {
  var r, n;
  function a() {
    var o = e.apply(this, arguments);
    return o !== n && (r = (n = o) && bT(t, o, i)), r;
  }
  return a._value = e, a;
}
function j_(t, e, i) {
  var r = "style." + (t += "");
  if (arguments.length < 2) return (r = this.tween(r)) && r._value;
  if (e == null) return this.tween(r, null);
  if (typeof e != "function") throw new Error();
  return this.tween(r, yT(t, e, i ?? ""));
}
function wT(t) {
  return function() {
    this.textContent = t;
  };
}
function ST(t) {
  return function() {
    var e = t(this);
    this.textContent = e ?? "";
  };
}
function V_(t) {
  return this.tween(
    "text",
    typeof t == "function"
      ? ST(ys(this, "text", t))
      : wT(t == null ? "" : t + ""),
  );
}
function ET(t) {
  return function(e) {
    this.textContent = t.call(this, e);
  };
}
function TT(t) {
  var e, i;
  function r() {
    var n = t.apply(this, arguments);
    return n !== i && (e = (i = n) && ET(n)), e;
  }
  return r._value = t, r;
}
function q_(t) {
  var e = "text";
  if (arguments.length < 1) return (e = this.tween(e)) && e._value;
  if (t == null) return this.tween(e, null);
  if (typeof t != "function") throw new Error();
  return this.tween(e, TT(t));
}
function W_() {
  for (
    var t = this._name,
      e = this._id,
      i = su(),
      r = this._groups,
      n = r.length,
      a = 0;
    a < n;
    ++a
  ) {
    for (var o = r[a], s = o.length, l, d = 0; d < s; ++d) {
      if (l = o[d]) {
        var c = pr(l, e);
        Ra(l, t, i, d, o, {
          time: c.time + c.delay + c.duration,
          delay: 0,
          duration: c.duration,
          ease: c.ease,
        });
      }
    }
  }
  return new Fr(r, this._parents, t, i);
}
function Y_() {
  var t, e, i = this, r = i._id, n = i.size();
  return new Promise(function(a, o) {
    var s = { value: o },
      l = {
        value: function() {
          --n === 0 && a();
        },
      };
    i.each(function() {
      var d = Cr(this, r), c = d.on;
      c !== t
      && (e = (t = c).copy(),
        e._.cancel.push(s),
        e._.interrupt.push(s),
        e._.end.push(l)), d.on = e;
    }), n === 0 && a();
  });
}
var AT = 0;
function Fr(t, e, i, r) {
  this._groups = t, this._parents = e, this._name = i, this._id = r;
}
function Zm(t) {
  return sa().transition(t);
}
function su() {
  return ++AT;
}
var da = sa.prototype;
Fr.prototype = Zm.prototype = {
  constructor: Fr,
  select: z_,
  selectAll: B_,
  selectChild: da.selectChild,
  selectChildren: da.selectChildren,
  filter: $_,
  merge: M_,
  selection: U_,
  transition: W_,
  call: da.call,
  nodes: da.nodes,
  node: da.node,
  size: da.size,
  empty: da.empty,
  each: da.each,
  on: N_,
  attr: k_,
  attrTween: L_,
  style: H_,
  styleTween: j_,
  text: V_,
  textTween: q_,
  remove: P_,
  tween: C_,
  delay: O_,
  duration: R_,
  ease: F_,
  easeVarying: D_,
  end: Y_,
  [Symbol.iterator]: da[Symbol.iterator],
};
function Jm(t) {
  return t * t;
}
function Qm(t) {
  return t * (2 - t);
}
function lu(t) {
  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;
}
function du(t) {
  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;
}
var IT = { time: null, delay: 0, duration: 250, ease: du };
function CT(t, e) {
  for (var i; !(i = t.__transition) || !(i = i[e]);) {
    if (!(t = t.parentNode)) throw new Error(`transition ${e} not found`);
  }
  return i;
}
function X_(t) {
  var e, i;
  t instanceof Fr
    ? (e = t._id, t = t._name)
    : (e = su(), (i = IT).time = Nl(), t = t == null ? null : t + "");
  for (var r = this._groups, n = r.length, a = 0; a < n; ++a) {
    for (var o = r[a], s = o.length, l, d = 0; d < s; ++d) {
      (l = o[d]) && Ra(l, t, e, d, o, i || CT(l, e));
    }
  }
  return new Fr(r, this._parents, t, e);
}
sa.prototype.interrupt = r_;
sa.prototype.transition = X_;
var mb = Dm(K_());
function bo(t, e) {
  return t == null || e == null
    ? NaN
    : t < e
    ? -1
    : t > e
    ? 1
    : t >= e
    ? 0
    : NaN;
}
function ih(t, e) {
  return t == null || e == null
    ? NaN
    : e < t
    ? -1
    : e > t
    ? 1
    : e >= t
    ? 0
    : NaN;
}
function yo(t) {
  let e, i, r;
  t.length !== 2
    ? (e = bo, i = (s, l) => bo(t(s), l), r = (s, l) => t(s) - l)
    : (e = t === bo || t === ih ? t : kT, i = t, r = t);
  function n(s, l, d = 0, c = s.length) {
    if (d < c) {
      if (e(l, l) !== 0) return c;
      do {
        let u = d + c >>> 1;
        i(s[u], l) < 0 ? d = u + 1 : c = u;
      } while (d < c);
    }
    return d;
  }
  function a(s, l, d = 0, c = s.length) {
    if (d < c) {
      if (e(l, l) !== 0) return c;
      do {
        let u = d + c >>> 1;
        i(s[u], l) <= 0 ? d = u + 1 : c = u;
      } while (d < c);
    }
    return d;
  }
  function o(s, l, d = 0, c = s.length) {
    let u = n(s, l, d, c - 1);
    return u > d && r(s[u - 1], l) > -r(s[u], l) ? u - 1 : u;
  }
  return { left: n, center: o, right: a };
}
function kT() {
  return 0;
}
function rh(t) {
  return t === null ? NaN : +t;
}
var Z_ = yo(bo), J_ = Z_.right, LT = Z_.left, OT = yo(rh).center, nh = J_;
function ca(t, e) {
  let i, r;
  if (e === void 0) {
    for (let n of t) {
      n != null && (i === void 0
        ? n >= n && (i = r = n)
        : (i > n && (i = n), r < n && (r = n)));
    }
  }
  else {
    let n = -1;
    for (let a of t) {
      (a = e(a, ++n, t)) != null && (i === void 0
        ? a >= a && (i = r = a)
        : (i > a && (i = a), r < a && (r = a)));
    }
  }
  return [i, r];
}
var cu = class extends Map {
  constructor(e, i = DT) {
    if (
      super(),
        Object.defineProperties(this, {
          _intern: { value: new Map() },
          _key: { value: i },
        }),
        e != null
    ) {
      for (let [r, n] of e) this.set(r, n);
    }
  }
  get(e) {
    return super.get(Q_(this, e));
  }
  has(e) {
    return super.has(Q_(this, e));
  }
  set(e, i) {
    return super.set(RT(this, e), i);
  }
  delete(e) {
    return super.delete(FT(this, e));
  }
};
function Q_({ _intern: t, _key: e }, i) {
  let r = e(i);
  return t.has(r) ? t.get(r) : i;
}
function RT({ _intern: t, _key: e }, i) {
  let r = e(i);
  return t.has(r) ? t.get(r) : (t.set(r, i), i);
}
function FT({ _intern: t, _key: e }, i) {
  let r = e(i);
  return t.has(r) && (i = t.get(r), t.delete(r)), i;
}
function DT(t) {
  return t !== null && typeof t == "object" ? t.valueOf() : t;
}
function ah(t) {
  return t;
}
function ws(t, e, ...i) {
  return $T(t, ah, e, i);
}
function $T(t, e, i, r) {
  return function n(a, o) {
    if (o >= r.length) return i(a);
    let s = new cu(), l = r[o++], d = -1;
    for (let c of a) {
      let u = l(c, ++d, a), f = s.get(u);
      f ? f.push(c) : s.set(u, [c]);
    }
    for (let [c, u] of s) s.set(c, n(u, o));
    return e(s);
  }(t, 0);
}
var MT = Math.sqrt(50), NT = Math.sqrt(10), PT = Math.sqrt(2);
function uu(t, e, i) {
  let r = (e - t) / Math.max(0, i),
    n = Math.floor(Math.log10(r)),
    a = r / Math.pow(10, n),
    o = a >= MT ? 10 : a >= NT ? 5 : a >= PT ? 2 : 1,
    s,
    l,
    d;
  return n < 0
    ? (d = Math.pow(10, -n) / o,
      s = Math.round(t * d),
      l = Math.round(e * d),
      s / d < t && ++s,
      l / d > e && --l,
      d = -d)
    : (d = Math.pow(10, n) * o,
      s = Math.round(t / d),
      l = Math.round(e / d),
      s * d < t && ++s,
      l * d > e && --l),
    l < s && .5 <= i && i < 2 ? uu(t, e, i * 2) : [s, l, d];
}
function fu(t, e, i) {
  if (e = +e, t = +t, i = +i, !(i > 0)) return [];
  if (t === e) return [t];
  let r = e < t, [n, a, o] = r ? uu(e, t, i) : uu(t, e, i);
  if (!(a >= n)) return [];
  let s = a - n + 1, l = new Array(s);
  if (r) {
    if (o < 0) for (let d = 0; d < s; ++d) l[d] = (a - d) / -o;
    else for (let d = 0; d < s; ++d) l[d] = (a - d) * o;
  }
  else if (o < 0) for (let d = 0; d < s; ++d) l[d] = (n + d) / -o;
  else for (let d = 0; d < s; ++d) l[d] = (n + d) * o;
  return l;
}
function Vl(t, e, i) {
  return e = +e, t = +t, i = +i, uu(t, e, i)[2];
}
function Ss(t, e, i) {
  e = +e, t = +t, i = +i;
  let r = e < t, n = r ? Vl(e, t, i) : Vl(t, e, i);
  return (r ? -1 : 1) * (n < 0 ? 1 / -n : n);
}
function wo(t, e = zT) {
  let i = [], r, n = !1;
  for (let a of t) n && i.push(e(r, a)), r = a, n = !0;
  return i;
}
function zT(t, e) {
  return [t, e];
}
function So(t, e, i) {
  t = +t,
    e = +e,
    i = (n = arguments.length) < 2 ? (e = t, t = 0, 1) : n < 3 ? 1 : +i;
  for (
    var r = -1, n = Math.max(0, Math.ceil((e - t) / i)) | 0, a = new Array(n);
    ++r < n;
  ) {
    a[r] = t + r * i;
  }
  return a;
}
function Fa(t, e) {
  switch (arguments.length) {
    case 0:
      break;
    case 1:
      this.range(t);
      break;
    default:
      this.range(e).domain(t);
      break;
  }
  return this;
}
function oh(t) {
  return function() {
    return t;
  };
}
function sh(t) {
  return +t;
}
var ex = [0, 1];
function Sn(t) {
  return t;
}
function lh(t, e) {
  return (e -= t = +t)
    ? function(i) {
      return (i - t) / e;
    }
    : oh(isNaN(e) ? NaN : .5);
}
function BT(t, e) {
  var i;
  return t > e && (i = t, t = e, e = i), function(r) {
    return Math.max(t, Math.min(e, r));
  };
}
function UT(t, e, i) {
  var r = t[0], n = t[1], a = e[0], o = e[1];
  return n < r ? (r = lh(n, r), a = i(o, a)) : (r = lh(r, n), a = i(a, o)),
    function(s) {
      return a(r(s));
    };
}
function GT(t, e, i) {
  var r = Math.min(t.length, e.length) - 1,
    n = new Array(r),
    a = new Array(r),
    o = -1;
  for (
    t[r] < t[0] && (t = t.slice().reverse(), e = e.slice().reverse()); ++o < r;
  ) {
    n[o] = lh(t[o], t[o + 1]), a[o] = i(e[o], e[o + 1]);
  }
  return function(s) {
    var l = nh(t, s, 1, r) - 1;
    return a[l](n[l](s));
  };
}
function Da(t, e) {
  return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate())
    .clamp(t.clamp()).unknown(t.unknown());
}
function ql() {
  var t = ex, e = ex, i = la, r, n, a, o = Sn, s, l, d;
  function c() {
    var f = Math.min(t.length, e.length);
    return o !== Sn && (o = BT(t[0], t[f - 1])),
      s = f > 2 ? GT : UT,
      l = d = null,
      u;
  }
  function u(f) {
    return f == null || isNaN(f = +f)
      ? a
      : (l || (l = s(t.map(r), e, i)))(r(o(f)));
  }
  return u.invert = function(f) {
    return o(n((d || (d = s(e, t.map(r), kr)))(f)));
  },
    u.domain = function(f) {
      return arguments.length ? (t = Array.from(f, sh), c()) : t.slice();
    },
    u.range = function(f) {
      return arguments.length ? (e = Array.from(f), c()) : e.slice();
    },
    u.rangeRound = function(f) {
      return e = Array.from(f), i = qm, c();
    },
    u.clamp = function(f) {
      return arguments.length ? (o = f ? !0 : Sn, c()) : o !== Sn;
    },
    u.interpolate = function(f) {
      return arguments.length ? (i = f, c()) : i;
    },
    u.unknown = function(f) {
      return arguments.length ? (a = f, u) : a;
    },
    function(f, h) {
      return r = f, n = h, c();
    };
}
function Wl() {
  return ql()(Sn, Sn);
}
function tx(t) {
  return Math.abs(t = Math.round(t)) >= 1e21
    ? t.toLocaleString("en").replace(/,/g, "")
    : t.toString(10);
}
function Eo(t, e) {
  if (
    (i = (t = e ? t.toExponential(e - 1) : t.toExponential()).indexOf("e")) < 0
  ) {
    return null;
  }
  var i, r = t.slice(0, i);
  return [r.length > 1 ? r[0] + r.slice(2) : r, +t.slice(i + 1)];
}
function Bn(t) {
  return t = Eo(Math.abs(t)), t ? t[1] : NaN;
}
function ix(t, e) {
  return function(i, r) {
    for (
      var n = i.length, a = [], o = 0, s = t[0], l = 0;
      n > 0 && s > 0
      && (l + s + 1 > r && (s = Math.max(1, r - l)),
        a.push(i.substring(n -= s, n + s)),
        !((l += s + 1) > r));
    ) {
      s = t[o = (o + 1) % t.length];
    }
    return a.reverse().join(e);
  };
}
function rx(t) {
  return function(e) {
    return e.replace(/[0-9]/g, function(i) {
      return t[+i];
    });
  };
}
var HT =
  /^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
function $a(t) {
  if (!(e = HT.exec(t))) throw new Error("invalid format: " + t);
  var e;
  return new mu({
    fill: e[1],
    align: e[2],
    sign: e[3],
    symbol: e[4],
    zero: e[5],
    width: e[6],
    comma: e[7],
    precision: e[8] && e[8].slice(1),
    trim: e[9],
    type: e[10],
  });
}
$a.prototype = mu.prototype;
function mu(t) {
  this.fill = t.fill === void 0 ? " " : t.fill + "",
    this.align = t.align === void 0 ? ">" : t.align + "",
    this.sign = t.sign === void 0 ? "-" : t.sign + "",
    this.symbol = t.symbol === void 0 ? "" : t.symbol + "",
    this.zero = !!t.zero,
    this.width = t.width === void 0 ? void 0 : +t.width,
    this.comma = !!t.comma,
    this.precision = t.precision === void 0 ? void 0 : +t.precision,
    this.trim = !!t.trim,
    this.type = t.type === void 0 ? "" : t.type + "";
}
mu.prototype.toString = function() {
  return this.fill + this.align + this.sign + this.symbol + (this.zero
    ? "0"
    : "")
    + (this.width === void 0 ? "" : Math.max(1, this.width | 0)) + (this.comma
      ? ","
      : "")
    + (this.precision === void 0 ? "" : "." + Math.max(0, this.precision | 0))
    + (this.trim ? "~" : "") + this.type;
};
function nx(t) {
  e:
  for (var e = t.length, i = 1, r = -1, n; i < e; ++i) {
    switch (t[i]) {
      case ".":
        r = n = i;
        break;
      case "0":
        r === 0 && (r = i), n = i;
        break;
      default:
        if (!+t[i]) break e;
        r > 0 && (r = 0);
        break;
    }
  }
  return r > 0 ? t.slice(0, r) + t.slice(n + 1) : t;
}
var dh;
function ax(t, e) {
  var i = Eo(t, e);
  if (!i) return t + "";
  var r = i[0],
    n = i[1],
    a = n - (dh = Math.max(-8, Math.min(8, Math.floor(n / 3))) * 3) + 1,
    o = r.length;
  return a === o
    ? r
    : a > o
    ? r + new Array(a - o + 1).join("0")
    : a > 0
    ? r.slice(0, a) + "." + r.slice(a)
    : "0." + new Array(1 - a).join("0") + Eo(t, Math.max(0, e + a - 1))[0];
}
function ch(t, e) {
  var i = Eo(t, e);
  if (!i) return t + "";
  var r = i[0], n = i[1];
  return n < 0
    ? "0." + new Array(-n).join("0") + r
    : r.length > n + 1
    ? r.slice(0, n + 1) + "." + r.slice(n + 1)
    : r + new Array(n - r.length + 2).join("0");
}
var uh = {
  "%": (t, e) => (t * 100).toFixed(e),
  b: t => Math.round(t).toString(2),
  c: t => t + "",
  d: tx,
  e: (t, e) => t.toExponential(e),
  f: (t, e) => t.toFixed(e),
  g: (t, e) => t.toPrecision(e),
  o: t => Math.round(t).toString(8),
  p: (t, e) => ch(t * 100, e),
  r: ch,
  s: ax,
  X: t => Math.round(t).toString(16).toUpperCase(),
  x: t => Math.round(t).toString(16),
};
function fh(t) {
  return t;
}
var ox = Array.prototype.map,
  sx = [
    "y",
    "z",
    "a",
    "f",
    "p",
    "n",
    "\xB5",
    "m",
    "",
    "k",
    "M",
    "G",
    "T",
    "P",
    "E",
    "Z",
    "Y",
  ];
function mh(t) {
  var e = t.grouping === void 0 || t.thousands === void 0
      ? fh
      : ix(ox.call(t.grouping, Number), t.thousands + ""),
    i = t.currency === void 0 ? "" : t.currency[0] + "",
    r = t.currency === void 0 ? "" : t.currency[1] + "",
    n = t.decimal === void 0 ? "." : t.decimal + "",
    a = t.numerals === void 0 ? fh : rx(ox.call(t.numerals, String)),
    o = t.percent === void 0 ? "%" : t.percent + "",
    s = t.minus === void 0 ? "\u2212" : t.minus + "",
    l = t.nan === void 0 ? "NaN" : t.nan + "";
  function d(u) {
    u = $a(u);
    var f = u.fill,
      h = u.align,
      x = u.sign,
      S = u.symbol,
      p = u.zero,
      y = u.width,
      E = u.comma,
      g = u.precision,
      _ = u.trim,
      $ = u.type;
    $ === "n"
      ? (E = !0, $ = "g")
      : uh[$] || (g === void 0 && (g = 12), _ = !0, $ = "g"),
      (p || f === "0" && h === "=") && (p = !0, f = "0", h = "=");
    var z = S === "$"
        ? i
        : S === "#" && /[boxX]/.test($)
        ? "0" + $.toLowerCase()
        : "",
      I = S === "$" ? r : /[%p]/.test($) ? o : "",
      D = uh[$],
      V = /[defgprs%]/.test($);
    g = g === void 0
      ? 6
      : /[gprs]/.test($)
      ? Math.max(1, Math.min(21, g))
      : Math.max(0, Math.min(20, g));
    function ue(ne) {
      var ee = z, R = I, A, X, G;
      if ($ === "c") R = D(ne) + R, ne = "";
      else {
        ne = +ne;
        var te = ne < 0 || 1 / ne < 0;
        if (
          ne = isNaN(ne) ? l : D(Math.abs(ne), g),
            _ && (ne = nx(ne)),
            te && +ne == 0 && x !== "+" && (te = !1),
            ee = (te ? x === "(" ? x : s : x === "-" || x === "("
              ? ""
              : x) + ee,
            R = ($ === "s" ? sx[8 + dh / 3] : "") + R
              + (te && x === "(" ? ")" : ""),
            V
        ) {
          for (A = -1, X = ne.length; ++A < X;) {
            if (G = ne.charCodeAt(A), 48 > G || G > 57) {
              R = (G === 46 ? n + ne.slice(A + 1) : ne.slice(A)) + R,
                ne = ne.slice(0, A);
              break;
            }
          }
        }
      }
      E && !p && (ne = e(ne, 1 / 0));
      var De = ee.length + ne.length + R.length,
        Se = De < y ? new Array(y - De + 1).join(f) : "";
      switch (
        E && p && (ne = e(Se + ne, Se.length ? y - R.length : 1 / 0), Se = ""),
          h
      ) {
        case "<":
          ne = ee + ne + R + Se;
          break;
        case "=":
          ne = ee + Se + ne + R;
          break;
        case "^":
          ne = Se.slice(0, De = Se.length >> 1) + ee + ne + R + Se.slice(De);
          break;
        default:
          ne = Se + ee + ne + R;
          break;
      }
      return a(ne);
    }
    return ue.toString = function() {
      return u + "";
    },
      ue;
  }
  function c(u, f) {
    var h = d((u = $a(u), u.type = "f", u)),
      x = Math.max(-8, Math.min(8, Math.floor(Bn(f) / 3))) * 3,
      S = Math.pow(10, -x),
      p = sx[8 + x / 3];
    return function(y) {
      return h(S * y) + p;
    };
  }
  return { format: d, formatPrefix: c };
}
var hu, pu, gu;
hh({ thousands: ",", grouping: [3], currency: ["$", ""] });
function hh(t) {
  return hu = mh(t), pu = hu.format, gu = hu.formatPrefix, hu;
}
function ph(t) {
  return Math.max(0, -Bn(Math.abs(t)));
}
function gh(t, e) {
  return Math.max(
    0,
    Math.max(-8, Math.min(8, Math.floor(Bn(e) / 3))) * 3 - Bn(Math.abs(t)),
  );
}
function vh(t, e) {
  return t = Math.abs(t), e = Math.abs(e) - t, Math.max(0, Bn(e) - Bn(t)) + 1;
}
function _h(t, e, i, r) {
  var n = Ss(t, e, i), a;
  switch (r = $a(r ?? ",f"), r.type) {
    case "s": {
      var o = Math.max(Math.abs(t), Math.abs(e));
      return r.precision == null && !isNaN(a = gh(n, o)) && (r.precision = a),
        gu(r, o);
    }
    case "":
    case "e":
    case "g":
    case "p":
    case "r": {
      r.precision == null
        && !isNaN(a = vh(n, Math.max(Math.abs(t), Math.abs(e))))
        && (r.precision = a - (r.type === "e"));
      break;
    }
    case "f":
    case "%": {
      r.precision == null && !isNaN(a = ph(n))
        && (r.precision = a - (r.type === "%") * 2);
      break;
    }
  }
  return pu(r);
}
function Yl(t) {
  var e = t.domain;
  return t.ticks = function(i) {
    var r = e();
    return fu(r[0], r[r.length - 1], i ?? 10);
  },
    t.tickFormat = function(i, r) {
      var n = e();
      return _h(n[0], n[n.length - 1], i ?? 10, r);
    },
    t.nice = function(i) {
      i == null && (i = 10);
      var r = e(), n = 0, a = r.length - 1, o = r[n], s = r[a], l, d, c = 10;
      for (s < o && (d = o, o = s, s = d, d = n, n = a, a = d); c-- > 0;) {
        if (d = Vl(o, s, i), d === l) return r[n] = o, r[a] = s, e(r);
        if (d > 0) o = Math.floor(o / d) * d, s = Math.ceil(s / d) * d;
        else if (d < 0) o = Math.ceil(o * d) / d, s = Math.floor(s * d) / d;
        else break;
        l = d;
      }
      return t;
    },
    t;
}
function un() {
  var t = Wl();
  return t.copy = function() {
    return Da(t, un());
  },
    Fa.apply(t, arguments),
    Yl(t);
}
function xh(t, e) {
  t = t.slice();
  var i = 0, r = t.length - 1, n = t[i], a = t[r], o;
  return a < n && (o = i, i = r, r = o, o = n, n = a, a = o),
    t[i] = e.floor(n),
    t[r] = e.ceil(a),
    t;
}
function lx(t) {
  return function(e) {
    return Math.sign(e) * Math.log1p(Math.abs(e / t));
  };
}
function dx(t) {
  return function(e) {
    return Math.sign(e) * Math.expm1(Math.abs(e)) * t;
  };
}
function jT(t) {
  var e = 1, i = t(lx(e), dx(e));
  return i.constant = function(r) {
    return arguments.length ? t(lx(e = +r), dx(e)) : e;
  },
    Yl(i);
}
function To() {
  var t = jT(ql());
  return t.copy = function() {
    return Da(t, To()).constant(t.constant());
  },
    Fa.apply(t, arguments);
}
function cx(t) {
  return function(e) {
    return e < 0 ? -Math.pow(-e, t) : Math.pow(e, t);
  };
}
function VT(t) {
  return t < 0 ? -Math.sqrt(-t) : Math.sqrt(t);
}
function qT(t) {
  return t < 0 ? -t * t : t * t;
}
function WT(t) {
  var e = t(Sn, Sn), i = 1;
  function r() {
    return i === 1 ? t(Sn, Sn) : i === .5 ? t(VT, qT) : t(cx(i), cx(1 / i));
  }
  return e.exponent = function(n) {
    return arguments.length ? (i = +n, r()) : i;
  },
    Yl(e);
}
function Xl() {
  var t = WT(ql());
  return t.copy = function() {
    return Da(t, Xl()).exponent(t.exponent());
  },
    Fa.apply(t, arguments),
    t;
}
var bh = new Date(), yh = new Date();
function Oi(t, e, i, r) {
  function n(a) {
    return t(a = arguments.length === 0 ? new Date() : new Date(+a)), a;
  }
  return n.floor = a => (t(a = new Date(+a)), a),
    n.ceil = a => (t(a = new Date(a - 1)), e(a, 1), t(a), a),
    n.round = a => {
      let o = n(a), s = n.ceil(a);
      return a - o < s - a ? o : s;
    },
    n.offset = (a, o) => (e(
      a = new Date(+a),
      o == null ? 1 : Math.floor(o),
    ),
      a),
    n.range = (a, o, s) => {
      let l = [];
      if (
        a = n.ceil(a), s = s == null ? 1 : Math.floor(s), !(a < o) || !(s > 0)
      ) {
        return l;
      }
      let d;
      do l.push(d = new Date(+a)), e(a, s), t(a); while (d < a && a < o);
      return l;
    },
    n.filter = a =>
      Oi(o => {
        if (o >= o) for (; t(o), !a(o);) o.setTime(o - 1);
      }, (o, s) => {
        if (o >= o) {
          if (s < 0) for (; ++s <= 0;) for (; e(o, -1), !a(o););
          else for (; --s >= 0;) for (; e(o, 1), !a(o););
        }
      }),
    i
    && (n.count = (
      a,
      o,
    ) => (bh.setTime(+a), yh.setTime(+o), t(bh), t(yh), Math.floor(i(bh, yh))),
      n.every = a => (a = Math.floor(a),
        !isFinite(a) || !(a > 0)
          ? null
          : a > 1
          ? n.filter(
            r
              ? o => r(o) % a === 0
              : o => n.count(0, o) % a === 0,
          )
          : n)),
    n;
}
var Kl = Oi(() => {}, (t, e) => {
  t.setTime(+t + e);
}, (t, e) => e - t);
Kl.every =
  t => (t = Math.floor(t),
    !isFinite(t) || !(t > 0) ? null : t > 1
      ? Oi(e => {
        e.setTime(Math.floor(e / t) * t);
      }, (e, i) => {
        e.setTime(+e + i * t);
      }, (e, i) => (i - e) / t)
      : Kl);
var b$ = Kl.range;
var fn = Oi(
    t => {
      t.setTime(t - t.getMilliseconds());
    },
    (t, e) => {
      t.setTime(+t + e * 1e3);
    },
    (t, e) => (e - t) / 1e3,
    t => t.getUTCSeconds(),
  ),
  ux = fn.range;
var Ma = Oi(
    t => {
      t.setTime(t - t.getMilliseconds() - t.getSeconds() * 1e3);
    },
    (t, e) => {
      t.setTime(+t + e * 6e4);
    },
    (t, e) => (e - t) / 6e4,
    t => t.getMinutes(),
  ),
  YT = Ma.range,
  vu = Oi(t => {
    t.setUTCSeconds(0, 0);
  }, (t, e) => {
    t.setTime(+t + e * 6e4);
  }, (t, e) =>
    (e - t) / 6e4, t =>
    t.getUTCMinutes()),
  XT = vu.range;
var Na = Oi(
    t => {
      t.setTime(
        t - t.getMilliseconds() - t.getSeconds() * 1e3 - t.getMinutes() * 6e4,
      );
    },
    (t, e) => {
      t.setTime(+t + e * 36e5);
    },
    (t, e) => (e - t) / 36e5,
    t => t.getHours(),
  ),
  KT = Na.range,
  _u = Oi(t => {
    t.setUTCMinutes(0, 0, 0);
  }, (t, e) => {
    t.setTime(+t + e * 36e5);
  }, (t, e) =>
    (e - t) / 36e5, t =>
    t.getUTCHours()),
  ZT = _u.range;
var En = Oi(
    t => t.setHours(0, 0, 0, 0),
    (t, e) => t.setDate(t.getDate() + e),
    (t, e) =>
      (e - t - (e.getTimezoneOffset() - t.getTimezoneOffset()) * 6e4) / 864e5,
    t => t.getDate() - 1,
  ),
  JT = En.range,
  Jl = Oi(t => {
    t.setUTCHours(0, 0, 0, 0);
  }, (t, e) => {
    t.setUTCDate(t.getUTCDate() + e);
  }, (t, e) =>
    (e - t) / 864e5, t =>
    t.getUTCDate() - 1),
  QT = Jl.range,
  xu = Oi(t => {
    t.setUTCHours(0, 0, 0, 0);
  }, (t, e) => {
    t.setUTCDate(t.getUTCDate() + e);
  }, (t, e) =>
    (e - t) / 864e5, t =>
    Math.floor(t / 864e5)),
  eA = xu.range;
function Co(t) {
  return Oi(
    e => {
      e.setDate(e.getDate() - (e.getDay() + 7 - t) % 7), e.setHours(0, 0, 0, 0);
    },
    (e, i) => {
      e.setDate(e.getDate() + i * 7);
    },
    (e, i) =>
      (i - e - (i.getTimezoneOffset() - e.getTimezoneOffset()) * 6e4) / 6048e5,
  );
}
var Tn = Co(0),
  Es = Co(1),
  mx = Co(2),
  hx = Co(3),
  Pa = Co(4),
  px = Co(5),
  gx = Co(6),
  vx = Tn.range,
  tA = Es.range,
  iA = mx.range,
  rA = hx.range,
  nA = Pa.range,
  aA = px.range,
  oA = gx.range;
function ko(t) {
  return Oi(e => {
    e.setUTCDate(e.getUTCDate() - (e.getUTCDay() + 7 - t) % 7),
      e.setUTCHours(0, 0, 0, 0);
  }, (e, i) => {
    e.setUTCDate(e.getUTCDate() + i * 7);
  }, (e, i) => (i - e) / 6048e5);
}
var Lo = ko(0),
  Ts = ko(1),
  _x = ko(2),
  xx = ko(3),
  za = ko(4),
  bx = ko(5),
  yx = ko(6),
  wx = Lo.range,
  sA = Ts.range,
  lA = _x.range,
  dA = xx.range,
  cA = za.range,
  uA = bx.range,
  fA = yx.range;
var Ba = Oi(
    t => {
      t.setDate(1), t.setHours(0, 0, 0, 0);
    },
    (t, e) => {
      t.setMonth(t.getMonth() + e);
    },
    (t, e) =>
      e.getMonth() - t.getMonth() + (e.getFullYear() - t.getFullYear()) * 12,
    t => t.getMonth(),
  ),
  mA = Ba.range,
  bu = Oi(t => {
    t.setUTCDate(1), t.setUTCHours(0, 0, 0, 0);
  }, (t, e) => {
    t.setUTCMonth(t.getUTCMonth() + e);
  }, (t, e) =>
    e.getUTCMonth() - t.getUTCMonth()
    + (e.getUTCFullYear() - t.getUTCFullYear()) * 12, t =>
    t.getUTCMonth()),
  hA = bu.range;
var zr = Oi(
  t => {
    t.setMonth(0, 1), t.setHours(0, 0, 0, 0);
  },
  (t, e) => {
    t.setFullYear(t.getFullYear() + e);
  },
  (t, e) => e.getFullYear() - t.getFullYear(),
  t => t.getFullYear(),
);
zr.every = t =>
  !isFinite(t = Math.floor(t)) || !(t > 0) ? null : Oi(e => {
    e.setFullYear(Math.floor(e.getFullYear() / t) * t),
      e.setMonth(0, 1),
      e.setHours(0, 0, 0, 0);
  }, (e, i) => {
    e.setFullYear(e.getFullYear() + i * t);
  });
var pA = zr.range,
  An = Oi(t => {
    t.setUTCMonth(0, 1), t.setUTCHours(0, 0, 0, 0);
  }, (t, e) => {
    t.setUTCFullYear(t.getUTCFullYear() + e);
  }, (t, e) =>
    e.getUTCFullYear() - t.getUTCFullYear(), t =>
    t.getUTCFullYear());
An.every = t =>
  !isFinite(t = Math.floor(t)) || !(t > 0) ? null : Oi(e => {
    e.setUTCFullYear(Math.floor(e.getUTCFullYear() / t) * t),
      e.setUTCMonth(0, 1),
      e.setUTCHours(0, 0, 0, 0);
  }, (e, i) => {
    e.setUTCFullYear(e.getUTCFullYear() + i * t);
  });
var gA = An.range;
function Ex(t, e, i, r, n, a) {
  let o = [
    [fn, 1, 1e3],
    [fn, 5, 5 * 1e3],
    [fn, 15, 15 * 1e3],
    [fn, 30, 30 * 1e3],
    [a, 1, 6e4],
    [a, 5, 5 * 6e4],
    [a, 15, 15 * 6e4],
    [a, 30, 30 * 6e4],
    [n, 1, 36e5],
    [n, 3, 3 * 36e5],
    [n, 6, 6 * 36e5],
    [n, 12, 12 * 36e5],
    [r, 1, 864e5],
    [r, 2, 2 * 864e5],
    [i, 1, 6048e5],
    [e, 1, 2592e6],
    [e, 3, 3 * 2592e6],
    [t, 1, 31536e6],
  ];
  function s(d, c, u) {
    let f = c < d;
    f && ([d, c] = [c, d]);
    let h = u && typeof u.range == "function" ? u : l(d, c, u),
      x = h ? h.range(d, +c + 1) : [];
    return f ? x.reverse() : x;
  }
  function l(d, c, u) {
    let f = Math.abs(c - d) / u, h = yo(([, , p]) => p).right(o, f);
    if (h === o.length) return t.every(Ss(d / 31536e6, c / 31536e6, u));
    if (h === 0) return Kl.every(Math.max(Ss(d, c, u), 1));
    let [x, S] = o[f / o[h - 1][2] < o[h][2] / f ? h - 1 : h];
    return x.every(S);
  }
  return [s, l];
}
var [_A, xA] = Ex(An, bu, Lo, xu, _u, vu),
  [wh, Sh] = Ex(zr, Ba, Tn, En, Na, Ma);
function Eh(t) {
  if (0 <= t.y && t.y < 100) {
    var e = new Date(-1, t.m, t.d, t.H, t.M, t.S, t.L);
    return e.setFullYear(t.y), e;
  }
  return new Date(t.y, t.m, t.d, t.H, t.M, t.S, t.L);
}
function Th(t) {
  if (0 <= t.y && t.y < 100) {
    var e = new Date(Date.UTC(-1, t.m, t.d, t.H, t.M, t.S, t.L));
    return e.setUTCFullYear(t.y), e;
  }
  return new Date(Date.UTC(t.y, t.m, t.d, t.H, t.M, t.S, t.L));
}
function Ql(t, e, i) {
  return { y: t, m: e, d: i, H: 0, M: 0, S: 0, L: 0 };
}
function yu(t) {
  var e = t.dateTime,
    i = t.date,
    r = t.time,
    n = t.periods,
    a = t.days,
    o = t.shortDays,
    s = t.months,
    l = t.shortMonths,
    d = ed(n),
    c = td(n),
    u = ed(a),
    f = td(a),
    h = ed(o),
    x = td(o),
    S = ed(s),
    p = td(s),
    y = ed(l),
    E = td(l),
    g = {
      a: te,
      A: De,
      b: Se,
      B: Fe,
      c: null,
      d: Lx,
      e: Lx,
      f: GA,
      g: JA,
      G: eI,
      H: zA,
      I: BA,
      j: UA,
      L: $x,
      m: HA,
      M: jA,
      p: Be,
      q: We,
      Q: Fx,
      s: Dx,
      S: VA,
      u: qA,
      U: WA,
      V: YA,
      w: XA,
      W: KA,
      x: null,
      X: null,
      y: ZA,
      Y: QA,
      Z: tI,
      "%": Rx,
    },
    _ = {
      a: me,
      A: gt,
      b: St,
      B: ft,
      c: null,
      d: Ox,
      e: Ox,
      f: aI,
      g: pI,
      G: vI,
      H: iI,
      I: rI,
      j: nI,
      L: Nx,
      m: oI,
      M: sI,
      p: xt,
      q: _e,
      Q: Fx,
      s: Dx,
      S: lI,
      u: dI,
      U: cI,
      V: uI,
      w: fI,
      W: mI,
      x: null,
      X: null,
      y: hI,
      Y: gI,
      Z: _I,
      "%": Rx,
    },
    $ = {
      a: ue,
      A: ne,
      b: ee,
      B: R,
      c: A,
      d: Cx,
      e: Cx,
      f: $A,
      g: Ix,
      G: Ax,
      H: kx,
      I: kx,
      j: OA,
      L: DA,
      m: LA,
      M: RA,
      p: V,
      q: kA,
      Q: NA,
      s: PA,
      S: FA,
      u: EA,
      U: TA,
      V: AA,
      w: SA,
      W: IA,
      x: X,
      X: G,
      y: Ix,
      Y: Ax,
      Z: CA,
      "%": MA,
    };
  g.x = z(i, g),
    g.X = z(r, g),
    g.c = z(e, g),
    _.x = z(i, _),
    _.X = z(r, _),
    _.c = z(e, _);
  function z(le, Ke) {
    return function(dt) {
      var Ee = [], Tt = -1, At = 0, yi = le.length, Wt, mt, Rt;
      for (dt instanceof Date || (dt = new Date(+dt)); ++Tt < yi;) {
        le.charCodeAt(Tt) === 37
          && (Ee.push(le.slice(At, Tt)),
            (mt = Tx[Wt = le.charAt(++Tt)]) != null
              ? Wt = le.charAt(++Tt)
              : mt = Wt === "e" ? " " : "0",
            (Rt = Ke[Wt]) && (Wt = Rt(dt, mt)),
            Ee.push(Wt),
            At = Tt + 1);
      }
      return Ee.push(le.slice(At, Tt)), Ee.join("");
    };
  }
  function I(le, Ke) {
    return function(dt) {
      var Ee = Ql(1900, void 0, 1), Tt = D(Ee, le, dt += "", 0), At, yi;
      if (Tt != dt.length) return null;
      if ("Q" in Ee) return new Date(Ee.Q);
      if ("s" in Ee) return new Date(Ee.s * 1e3 + ("L" in Ee ? Ee.L : 0));
      if (
        Ke && !("Z" in Ee) && (Ee.Z = 0),
          "p" in Ee && (Ee.H = Ee.H % 12 + Ee.p * 12),
          Ee.m === void 0 && (Ee.m = "q" in Ee ? Ee.q : 0),
          "V" in Ee
      ) {
        if (Ee.V < 1 || Ee.V > 53) return null;
        "w" in Ee || (Ee.w = 1),
          "Z" in Ee
            ? (At = Th(Ql(Ee.y, 0, 1)),
              yi = At.getUTCDay(),
              At = yi > 4 || yi === 0 ? Ts.ceil(At) : Ts(At),
              At = Jl.offset(At, (Ee.V - 1) * 7),
              Ee.y = At.getUTCFullYear(),
              Ee.m = At.getUTCMonth(),
              Ee.d = At.getUTCDate() + (Ee.w + 6) % 7)
            : (At = Eh(Ql(Ee.y, 0, 1)),
              yi = At.getDay(),
              At = yi > 4 || yi === 0 ? Es.ceil(At) : Es(At),
              At = En.offset(At, (Ee.V - 1) * 7),
              Ee.y = At.getFullYear(),
              Ee.m = At.getMonth(),
              Ee.d = At.getDate() + (Ee.w + 6) % 7);
      }
      else {
        ("W" in Ee || "U" in Ee)
          && ("w" in Ee || (Ee.w = "u" in Ee ? Ee.u % 7 : "W" in Ee ? 1 : 0),
            yi = "Z" in Ee
              ? Th(Ql(Ee.y, 0, 1)).getUTCDay()
              : Eh(Ql(Ee.y, 0, 1)).getDay(),
            Ee.m = 0,
            Ee.d = "W" in Ee
              ? (Ee.w + 6) % 7 + Ee.W * 7 - (yi + 5) % 7
              : Ee.w + Ee.U * 7 - (yi + 6) % 7);
      }
      return "Z" in Ee
        ? (Ee.H += Ee.Z / 100 | 0, Ee.M += Ee.Z % 100, Th(Ee))
        : Eh(Ee);
    };
  }
  function D(le, Ke, dt, Ee) {
    for (var Tt = 0, At = Ke.length, yi = dt.length, Wt, mt; Tt < At;) {
      if (Ee >= yi) return -1;
      if (Wt = Ke.charCodeAt(Tt++), Wt === 37) {
        if (
          Wt = Ke.charAt(Tt++),
            mt = $[Wt in Tx ? Ke.charAt(Tt++) : Wt],
            !mt || (Ee = mt(le, dt, Ee)) < 0
        ) {
          return -1;
        }
      }
      else if (Wt != dt.charCodeAt(Ee++)) return -1;
    }
    return Ee;
  }
  function V(le, Ke, dt) {
    var Ee = d.exec(Ke.slice(dt));
    return Ee ? (le.p = c.get(Ee[0].toLowerCase()), dt + Ee[0].length) : -1;
  }
  function ue(le, Ke, dt) {
    var Ee = h.exec(Ke.slice(dt));
    return Ee ? (le.w = x.get(Ee[0].toLowerCase()), dt + Ee[0].length) : -1;
  }
  function ne(le, Ke, dt) {
    var Ee = u.exec(Ke.slice(dt));
    return Ee ? (le.w = f.get(Ee[0].toLowerCase()), dt + Ee[0].length) : -1;
  }
  function ee(le, Ke, dt) {
    var Ee = y.exec(Ke.slice(dt));
    return Ee ? (le.m = E.get(Ee[0].toLowerCase()), dt + Ee[0].length) : -1;
  }
  function R(le, Ke, dt) {
    var Ee = S.exec(Ke.slice(dt));
    return Ee ? (le.m = p.get(Ee[0].toLowerCase()), dt + Ee[0].length) : -1;
  }
  function A(le, Ke, dt) {
    return D(le, e, Ke, dt);
  }
  function X(le, Ke, dt) {
    return D(le, i, Ke, dt);
  }
  function G(le, Ke, dt) {
    return D(le, r, Ke, dt);
  }
  function te(le) {
    return o[le.getDay()];
  }
  function De(le) {
    return a[le.getDay()];
  }
  function Se(le) {
    return l[le.getMonth()];
  }
  function Fe(le) {
    return s[le.getMonth()];
  }
  function Be(le) {
    return n[+(le.getHours() >= 12)];
  }
  function We(le) {
    return 1 + ~~(le.getMonth() / 3);
  }
  function me(le) {
    return o[le.getUTCDay()];
  }
  function gt(le) {
    return a[le.getUTCDay()];
  }
  function St(le) {
    return l[le.getUTCMonth()];
  }
  function ft(le) {
    return s[le.getUTCMonth()];
  }
  function xt(le) {
    return n[+(le.getUTCHours() >= 12)];
  }
  function _e(le) {
    return 1 + ~~(le.getUTCMonth() / 3);
  }
  return {
    format: function(le) {
      var Ke = z(le += "", g);
      return Ke.toString = function() {
        return le;
      },
        Ke;
    },
    parse: function(le) {
      var Ke = I(le += "", !1);
      return Ke.toString = function() {
        return le;
      },
        Ke;
    },
    utcFormat: function(le) {
      var Ke = z(le += "", _);
      return Ke.toString = function() {
        return le;
      },
        Ke;
    },
    utcParse: function(le) {
      var Ke = I(le += "", !0);
      return Ke.toString = function() {
        return le;
      },
        Ke;
    },
  };
}
var Tx = { "-": "", _: " ", 0: "0" },
  yr = /^\s*\d+/,
  bA = /^%/,
  yA = /[\\^$*+?|[\]().{}]/g;
function mi(t, e, i) {
  var r = t < 0 ? "-" : "", n = (r ? -t : t) + "", a = n.length;
  return r + (a < i ? new Array(i - a + 1).join(e) + n : n);
}
function wA(t) {
  return t.replace(yA, "\\$&");
}
function ed(t) {
  return new RegExp("^(?:" + t.map(wA).join("|") + ")", "i");
}
function td(t) {
  return new Map(t.map((e, i) => [e.toLowerCase(), i]));
}
function SA(t, e, i) {
  var r = yr.exec(e.slice(i, i + 1));
  return r ? (t.w = +r[0], i + r[0].length) : -1;
}
function EA(t, e, i) {
  var r = yr.exec(e.slice(i, i + 1));
  return r ? (t.u = +r[0], i + r[0].length) : -1;
}
function TA(t, e, i) {
  var r = yr.exec(e.slice(i, i + 2));
  return r ? (t.U = +r[0], i + r[0].length) : -1;
}
function AA(t, e, i) {
  var r = yr.exec(e.slice(i, i + 2));
  return r ? (t.V = +r[0], i + r[0].length) : -1;
}
function IA(t, e, i) {
  var r = yr.exec(e.slice(i, i + 2));
  return r ? (t.W = +r[0], i + r[0].length) : -1;
}
function Ax(t, e, i) {
  var r = yr.exec(e.slice(i, i + 4));
  return r ? (t.y = +r[0], i + r[0].length) : -1;
}
function Ix(t, e, i) {
  var r = yr.exec(e.slice(i, i + 2));
  return r ? (t.y = +r[0] + (+r[0] > 68 ? 1900 : 2e3), i + r[0].length) : -1;
}
function CA(t, e, i) {
  var r = /^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(i, i + 6));
  return r ? (t.Z = r[1] ? 0 : -(r[2] + (r[3] || "00")), i + r[0].length) : -1;
}
function kA(t, e, i) {
  var r = yr.exec(e.slice(i, i + 1));
  return r ? (t.q = r[0] * 3 - 3, i + r[0].length) : -1;
}
function LA(t, e, i) {
  var r = yr.exec(e.slice(i, i + 2));
  return r ? (t.m = r[0] - 1, i + r[0].length) : -1;
}
function Cx(t, e, i) {
  var r = yr.exec(e.slice(i, i + 2));
  return r ? (t.d = +r[0], i + r[0].length) : -1;
}
function OA(t, e, i) {
  var r = yr.exec(e.slice(i, i + 3));
  return r ? (t.m = 0, t.d = +r[0], i + r[0].length) : -1;
}
function kx(t, e, i) {
  var r = yr.exec(e.slice(i, i + 2));
  return r ? (t.H = +r[0], i + r[0].length) : -1;
}
function RA(t, e, i) {
  var r = yr.exec(e.slice(i, i + 2));
  return r ? (t.M = +r[0], i + r[0].length) : -1;
}
function FA(t, e, i) {
  var r = yr.exec(e.slice(i, i + 2));
  return r ? (t.S = +r[0], i + r[0].length) : -1;
}
function DA(t, e, i) {
  var r = yr.exec(e.slice(i, i + 3));
  return r ? (t.L = +r[0], i + r[0].length) : -1;
}
function $A(t, e, i) {
  var r = yr.exec(e.slice(i, i + 6));
  return r ? (t.L = Math.floor(r[0] / 1e3), i + r[0].length) : -1;
}
function MA(t, e, i) {
  var r = bA.exec(e.slice(i, i + 1));
  return r ? i + r[0].length : -1;
}
function NA(t, e, i) {
  var r = yr.exec(e.slice(i));
  return r ? (t.Q = +r[0], i + r[0].length) : -1;
}
function PA(t, e, i) {
  var r = yr.exec(e.slice(i));
  return r ? (t.s = +r[0], i + r[0].length) : -1;
}
function Lx(t, e) {
  return mi(t.getDate(), e, 2);
}
function zA(t, e) {
  return mi(t.getHours(), e, 2);
}
function BA(t, e) {
  return mi(t.getHours() % 12 || 12, e, 2);
}
function UA(t, e) {
  return mi(1 + En.count(zr(t), t), e, 3);
}
function $x(t, e) {
  return mi(t.getMilliseconds(), e, 3);
}
function GA(t, e) {
  return $x(t, e) + "000";
}
function HA(t, e) {
  return mi(t.getMonth() + 1, e, 2);
}
function jA(t, e) {
  return mi(t.getMinutes(), e, 2);
}
function VA(t, e) {
  return mi(t.getSeconds(), e, 2);
}
function qA(t) {
  var e = t.getDay();
  return e === 0 ? 7 : e;
}
function WA(t, e) {
  return mi(Tn.count(zr(t) - 1, t), e, 2);
}
function Mx(t) {
  var e = t.getDay();
  return e >= 4 || e === 0 ? Pa(t) : Pa.ceil(t);
}
function YA(t, e) {
  return t = Mx(t), mi(Pa.count(zr(t), t) + (zr(t).getDay() === 4), e, 2);
}
function XA(t) {
  return t.getDay();
}
function KA(t, e) {
  return mi(Es.count(zr(t) - 1, t), e, 2);
}
function ZA(t, e) {
  return mi(t.getFullYear() % 100, e, 2);
}
function JA(t, e) {
  return t = Mx(t), mi(t.getFullYear() % 100, e, 2);
}
function QA(t, e) {
  return mi(t.getFullYear() % 1e4, e, 4);
}
function eI(t, e) {
  var i = t.getDay();
  return t = i >= 4 || i === 0 ? Pa(t) : Pa.ceil(t),
    mi(t.getFullYear() % 1e4, e, 4);
}
function tI(t) {
  var e = t.getTimezoneOffset();
  return (e > 0 ? "-" : (e *= -1, "+")) + mi(e / 60 | 0, "0", 2)
    + mi(e % 60, "0", 2);
}
function Ox(t, e) {
  return mi(t.getUTCDate(), e, 2);
}
function iI(t, e) {
  return mi(t.getUTCHours(), e, 2);
}
function rI(t, e) {
  return mi(t.getUTCHours() % 12 || 12, e, 2);
}
function nI(t, e) {
  return mi(1 + Jl.count(An(t), t), e, 3);
}
function Nx(t, e) {
  return mi(t.getUTCMilliseconds(), e, 3);
}
function aI(t, e) {
  return Nx(t, e) + "000";
}
function oI(t, e) {
  return mi(t.getUTCMonth() + 1, e, 2);
}
function sI(t, e) {
  return mi(t.getUTCMinutes(), e, 2);
}
function lI(t, e) {
  return mi(t.getUTCSeconds(), e, 2);
}
function dI(t) {
  var e = t.getUTCDay();
  return e === 0 ? 7 : e;
}
function cI(t, e) {
  return mi(Lo.count(An(t) - 1, t), e, 2);
}
function Px(t) {
  var e = t.getUTCDay();
  return e >= 4 || e === 0 ? za(t) : za.ceil(t);
}
function uI(t, e) {
  return t = Px(t), mi(za.count(An(t), t) + (An(t).getUTCDay() === 4), e, 2);
}
function fI(t) {
  return t.getUTCDay();
}
function mI(t, e) {
  return mi(Ts.count(An(t) - 1, t), e, 2);
}
function hI(t, e) {
  return mi(t.getUTCFullYear() % 100, e, 2);
}
function pI(t, e) {
  return t = Px(t), mi(t.getUTCFullYear() % 100, e, 2);
}
function gI(t, e) {
  return mi(t.getUTCFullYear() % 1e4, e, 4);
}
function vI(t, e) {
  var i = t.getUTCDay();
  return t = i >= 4 || i === 0 ? za(t) : za.ceil(t),
    mi(t.getUTCFullYear() % 1e4, e, 4);
}
function _I() {
  return "+0000";
}
function Rx() {
  return "%";
}
function Fx(t) {
  return +t;
}
function Dx(t) {
  return Math.floor(+t / 1e3);
}
var As, rn, zx, wu, Su;
Ah({
  dateTime: "%x, %X",
  date: "%-m/%-d/%Y",
  time: "%-I:%M:%S %p",
  periods: ["AM", "PM"],
  days: [
    "Sunday",
    "Monday",
    "Tuesday",
    "Wednesday",
    "Thursday",
    "Friday",
    "Saturday",
  ],
  shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
  months: [
    "January",
    "February",
    "March",
    "April",
    "May",
    "June",
    "July",
    "August",
    "September",
    "October",
    "November",
    "December",
  ],
  shortMonths: [
    "Jan",
    "Feb",
    "Mar",
    "Apr",
    "May",
    "Jun",
    "Jul",
    "Aug",
    "Sep",
    "Oct",
    "Nov",
    "Dec",
  ],
});
function Ah(t) {
  return As = yu(t),
    rn = As.format,
    zx = As.parse,
    wu = As.utcFormat,
    Su = As.utcParse,
    As;
}
var Ih = "%Y-%m-%dT%H:%M:%S.%LZ";
function xI(t) {
  return t.toISOString();
}
var oM = Date.prototype.toISOString ? xI : wu(Ih);
function bI(t) {
  var e = new Date(t);
  return isNaN(e) ? null : e;
}
var cM = +new Date("2000-01-01T00:00:00.000Z") ? bI : Su(Ih);
function yI(t) {
  return new Date(t);
}
function wI(t) {
  return t instanceof Date ? +t : +new Date(+t);
}
function Bx(t, e, i, r, n, a, o, s, l, d) {
  var c = Wl(),
    u = c.invert,
    f = c.domain,
    h = d(".%L"),
    x = d(":%S"),
    S = d("%I:%M"),
    p = d("%I %p"),
    y = d("%a %d"),
    E = d("%b %d"),
    g = d("%B"),
    _ = d("%Y");
  function $(z) {
    return (l(z) < z
      ? h
      : s(z) < z
      ? x
      : o(z) < z
      ? S
      : a(z) < z
      ? p
      : r(z) < z
      ? n(z) < z ? y : E
      : i(z) < z
      ? g
      : _)(z);
  }
  return c.invert = function(z) {
    return new Date(u(z));
  },
    c.domain = function(z) {
      return arguments.length ? f(Array.from(z, wI)) : f().map(yI);
    },
    c.ticks = function(z) {
      var I = f();
      return t(I[0], I[I.length - 1], z ?? 10);
    },
    c.tickFormat = function(z, I) {
      return I == null ? $ : d(I);
    },
    c.nice = function(z) {
      var I = f();
      return (!z || typeof z.range != "function")
        && (z = e(I[0], I[I.length - 1], z ?? 10)),
        z ? f(xh(I, z)) : c;
    },
    c.copy = function() {
      return Da(c, Bx(t, e, i, r, n, a, o, s, l, d));
    },
    c;
}
function Eu() {
  return Fa.apply(
    Bx(wh, Sh, zr, Ba, Tn, En, Na, Ma, fn, rn).domain([
      new Date(2e3, 0, 1),
      new Date(2e3, 0, 2),
    ]),
    arguments,
  );
}
var Gn = 1e-6, id = typeof Float32Array < "u" ? Float32Array : Array;
var OM = Math.PI / 180;
Math.hypot || (Math.hypot = function() {
  for (var t = 0, e = arguments.length; e--;) t += arguments[e] * arguments[e];
  return Math.sqrt(t);
});
var Hn = {};
Nc(Hn, {
  add: () => WI,
  adjoint: () => FI,
  clone: () => AI,
  copy: () => II,
  create: () => EI,
  determinant: () => DI,
  equals: () => ZI,
  exactEquals: () => KI,
  frob: () => qI,
  fromMat2d: () => UI,
  fromMat4: () => TI,
  fromQuat: () => GI,
  fromRotation: () => zI,
  fromScaling: () => BI,
  fromTranslation: () => PI,
  fromValues: () => CI,
  identity: () => LI,
  invert: () => RI,
  mul: () => JI,
  multiply: () => Ux,
  multiplyScalar: () => YI,
  multiplyScalarAndAdd: () => XI,
  normalFromMat4: () => HI,
  projection: () => jI,
  rotate: () => MI,
  scale: () => NI,
  set: () => kI,
  str: () => VI,
  sub: () => QI,
  subtract: () => Gx,
  translate: () => $I,
  transpose: () => OI,
});
function EI() {
  var t = new id(9);
  return id != Float32Array
    && (t[1] = 0, t[2] = 0, t[3] = 0, t[5] = 0, t[6] = 0, t[7] = 0),
    t[0] = 1,
    t[4] = 1,
    t[8] = 1,
    t;
}
function TI(t, e) {
  return t[0] = e[0],
    t[1] = e[1],
    t[2] = e[2],
    t[3] = e[4],
    t[4] = e[5],
    t[5] = e[6],
    t[6] = e[8],
    t[7] = e[9],
    t[8] = e[10],
    t;
}
function AI(t) {
  var e = new id(9);
  return e[0] = t[0],
    e[1] = t[1],
    e[2] = t[2],
    e[3] = t[3],
    e[4] = t[4],
    e[5] = t[5],
    e[6] = t[6],
    e[7] = t[7],
    e[8] = t[8],
    e;
}
function II(t, e) {
  return t[0] = e[0],
    t[1] = e[1],
    t[2] = e[2],
    t[3] = e[3],
    t[4] = e[4],
    t[5] = e[5],
    t[6] = e[6],
    t[7] = e[7],
    t[8] = e[8],
    t;
}
function CI(t, e, i, r, n, a, o, s, l) {
  var d = new id(9);
  return d[0] = t,
    d[1] = e,
    d[2] = i,
    d[3] = r,
    d[4] = n,
    d[5] = a,
    d[6] = o,
    d[7] = s,
    d[8] = l,
    d;
}
function kI(t, e, i, r, n, a, o, s, l, d) {
  return t[0] = e,
    t[1] = i,
    t[2] = r,
    t[3] = n,
    t[4] = a,
    t[5] = o,
    t[6] = s,
    t[7] = l,
    t[8] = d,
    t;
}
function LI(t) {
  return t[0] = 1,
    t[1] = 0,
    t[2] = 0,
    t[3] = 0,
    t[4] = 1,
    t[5] = 0,
    t[6] = 0,
    t[7] = 0,
    t[8] = 1,
    t;
}
function OI(t, e) {
  if (t === e) {
    var i = e[1], r = e[2], n = e[5];
    t[1] = e[3], t[2] = e[6], t[3] = i, t[5] = e[7], t[6] = r, t[7] = n;
  }
  else {
    t[0] = e[0],
      t[1] = e[3],
      t[2] = e[6],
      t[3] = e[1],
      t[4] = e[4],
      t[5] = e[7],
      t[6] = e[2],
      t[7] = e[5],
      t[8] = e[8];
  }
  return t;
}
function RI(t, e) {
  var i = e[0],
    r = e[1],
    n = e[2],
    a = e[3],
    o = e[4],
    s = e[5],
    l = e[6],
    d = e[7],
    c = e[8],
    u = c * o - s * d,
    f = -c * a + s * l,
    h = d * a - o * l,
    x = i * u + r * f + n * h;
  return x
    ? (x = 1 / x,
      t[0] = u * x,
      t[1] = (-c * r + n * d) * x,
      t[2] = (s * r - n * o) * x,
      t[3] = f * x,
      t[4] = (c * i - n * l) * x,
      t[5] = (-s * i + n * a) * x,
      t[6] = h * x,
      t[7] = (-d * i + r * l) * x,
      t[8] = (o * i - r * a) * x,
      t)
    : null;
}
function FI(t, e) {
  var i = e[0],
    r = e[1],
    n = e[2],
    a = e[3],
    o = e[4],
    s = e[5],
    l = e[6],
    d = e[7],
    c = e[8];
  return t[0] = o * c - s * d,
    t[1] = n * d - r * c,
    t[2] = r * s - n * o,
    t[3] = s * l - a * c,
    t[4] = i * c - n * l,
    t[5] = n * a - i * s,
    t[6] = a * d - o * l,
    t[7] = r * l - i * d,
    t[8] = i * o - r * a,
    t;
}
function DI(t) {
  var e = t[0],
    i = t[1],
    r = t[2],
    n = t[3],
    a = t[4],
    o = t[5],
    s = t[6],
    l = t[7],
    d = t[8];
  return e * (d * a - o * l) + i * (-d * n + o * s) + r * (l * n - a * s);
}
function Ux(t, e, i) {
  var r = e[0],
    n = e[1],
    a = e[2],
    o = e[3],
    s = e[4],
    l = e[5],
    d = e[6],
    c = e[7],
    u = e[8],
    f = i[0],
    h = i[1],
    x = i[2],
    S = i[3],
    p = i[4],
    y = i[5],
    E = i[6],
    g = i[7],
    _ = i[8];
  return t[0] = f * r + h * o + x * d,
    t[1] = f * n + h * s + x * c,
    t[2] = f * a + h * l + x * u,
    t[3] = S * r + p * o + y * d,
    t[4] = S * n + p * s + y * c,
    t[5] = S * a + p * l + y * u,
    t[6] = E * r + g * o + _ * d,
    t[7] = E * n + g * s + _ * c,
    t[8] = E * a + g * l + _ * u,
    t;
}
function $I(t, e, i) {
  var r = e[0],
    n = e[1],
    a = e[2],
    o = e[3],
    s = e[4],
    l = e[5],
    d = e[6],
    c = e[7],
    u = e[8],
    f = i[0],
    h = i[1];
  return t[0] = r,
    t[1] = n,
    t[2] = a,
    t[3] = o,
    t[4] = s,
    t[5] = l,
    t[6] = f * r + h * o + d,
    t[7] = f * n + h * s + c,
    t[8] = f * a + h * l + u,
    t;
}
function MI(t, e, i) {
  var r = e[0],
    n = e[1],
    a = e[2],
    o = e[3],
    s = e[4],
    l = e[5],
    d = e[6],
    c = e[7],
    u = e[8],
    f = Math.sin(i),
    h = Math.cos(i);
  return t[0] = h * r + f * o,
    t[1] = h * n + f * s,
    t[2] = h * a + f * l,
    t[3] = h * o - f * r,
    t[4] = h * s - f * n,
    t[5] = h * l - f * a,
    t[6] = d,
    t[7] = c,
    t[8] = u,
    t;
}
function NI(t, e, i) {
  var r = i[0], n = i[1];
  return t[0] = r * e[0],
    t[1] = r * e[1],
    t[2] = r * e[2],
    t[3] = n * e[3],
    t[4] = n * e[4],
    t[5] = n * e[5],
    t[6] = e[6],
    t[7] = e[7],
    t[8] = e[8],
    t;
}
function PI(t, e) {
  return t[0] = 1,
    t[1] = 0,
    t[2] = 0,
    t[3] = 0,
    t[4] = 1,
    t[5] = 0,
    t[6] = e[0],
    t[7] = e[1],
    t[8] = 1,
    t;
}
function zI(t, e) {
  var i = Math.sin(e), r = Math.cos(e);
  return t[0] = r,
    t[1] = i,
    t[2] = 0,
    t[3] = -i,
    t[4] = r,
    t[5] = 0,
    t[6] = 0,
    t[7] = 0,
    t[8] = 1,
    t;
}
function BI(t, e) {
  return t[0] = e[0],
    t[1] = 0,
    t[2] = 0,
    t[3] = 0,
    t[4] = e[1],
    t[5] = 0,
    t[6] = 0,
    t[7] = 0,
    t[8] = 1,
    t;
}
function UI(t, e) {
  return t[0] = e[0],
    t[1] = e[1],
    t[2] = 0,
    t[3] = e[2],
    t[4] = e[3],
    t[5] = 0,
    t[6] = e[4],
    t[7] = e[5],
    t[8] = 1,
    t;
}
function GI(t, e) {
  var i = e[0],
    r = e[1],
    n = e[2],
    a = e[3],
    o = i + i,
    s = r + r,
    l = n + n,
    d = i * o,
    c = r * o,
    u = r * s,
    f = n * o,
    h = n * s,
    x = n * l,
    S = a * o,
    p = a * s,
    y = a * l;
  return t[0] = 1 - u - x,
    t[3] = c - y,
    t[6] = f + p,
    t[1] = c + y,
    t[4] = 1 - d - x,
    t[7] = h - S,
    t[2] = f - p,
    t[5] = h + S,
    t[8] = 1 - d - u,
    t;
}
function HI(t, e) {
  var i = e[0],
    r = e[1],
    n = e[2],
    a = e[3],
    o = e[4],
    s = e[5],
    l = e[6],
    d = e[7],
    c = e[8],
    u = e[9],
    f = e[10],
    h = e[11],
    x = e[12],
    S = e[13],
    p = e[14],
    y = e[15],
    E = i * s - r * o,
    g = i * l - n * o,
    _ = i * d - a * o,
    $ = r * l - n * s,
    z = r * d - a * s,
    I = n * d - a * l,
    D = c * S - u * x,
    V = c * p - f * x,
    ue = c * y - h * x,
    ne = u * p - f * S,
    ee = u * y - h * S,
    R = f * y - h * p,
    A = E * R - g * ee + _ * ne + $ * ue - z * V + I * D;
  return A
    ? (A = 1 / A,
      t[0] = (s * R - l * ee + d * ne) * A,
      t[1] = (l * ue - o * R - d * V) * A,
      t[2] = (o * ee - s * ue + d * D) * A,
      t[3] = (n * ee - r * R - a * ne) * A,
      t[4] = (i * R - n * ue + a * V) * A,
      t[5] = (r * ue - i * ee - a * D) * A,
      t[6] = (S * I - p * z + y * $) * A,
      t[7] = (p * _ - x * I - y * g) * A,
      t[8] = (x * z - S * _ + y * E) * A,
      t)
    : null;
}
function jI(t, e, i) {
  return t[0] = 2 / e,
    t[1] = 0,
    t[2] = 0,
    t[3] = 0,
    t[4] = -2 / i,
    t[5] = 0,
    t[6] = -1,
    t[7] = 1,
    t[8] = 1,
    t;
}
function VI(t) {
  return "mat3(" + t[0] + ", " + t[1] + ", " + t[2] + ", " + t[3] + ", " + t[4]
    + ", " + t[5] + ", " + t[6] + ", " + t[7] + ", " + t[8] + ")";
}
function qI(t) {
  return Math.hypot(t[0], t[1], t[2], t[3], t[4], t[5], t[6], t[7], t[8]);
}
function WI(t, e, i) {
  return t[0] = e[0] + i[0],
    t[1] = e[1] + i[1],
    t[2] = e[2] + i[2],
    t[3] = e[3] + i[3],
    t[4] = e[4] + i[4],
    t[5] = e[5] + i[5],
    t[6] = e[6] + i[6],
    t[7] = e[7] + i[7],
    t[8] = e[8] + i[8],
    t;
}
function Gx(t, e, i) {
  return t[0] = e[0] - i[0],
    t[1] = e[1] - i[1],
    t[2] = e[2] - i[2],
    t[3] = e[3] - i[3],
    t[4] = e[4] - i[4],
    t[5] = e[5] - i[5],
    t[6] = e[6] - i[6],
    t[7] = e[7] - i[7],
    t[8] = e[8] - i[8],
    t;
}
function YI(t, e, i) {
  return t[0] = e[0] * i,
    t[1] = e[1] * i,
    t[2] = e[2] * i,
    t[3] = e[3] * i,
    t[4] = e[4] * i,
    t[5] = e[5] * i,
    t[6] = e[6] * i,
    t[7] = e[7] * i,
    t[8] = e[8] * i,
    t;
}
function XI(t, e, i, r) {
  return t[0] = e[0] + i[0] * r,
    t[1] = e[1] + i[1] * r,
    t[2] = e[2] + i[2] * r,
    t[3] = e[3] + i[3] * r,
    t[4] = e[4] + i[4] * r,
    t[5] = e[5] + i[5] * r,
    t[6] = e[6] + i[6] * r,
    t[7] = e[7] + i[7] * r,
    t[8] = e[8] + i[8] * r,
    t;
}
function KI(t, e) {
  return t[0] === e[0] && t[1] === e[1] && t[2] === e[2] && t[3] === e[3]
    && t[4] === e[4] && t[5] === e[5] && t[6] === e[6] && t[7] === e[7]
    && t[8] === e[8];
}
function ZI(t, e) {
  var i = t[0],
    r = t[1],
    n = t[2],
    a = t[3],
    o = t[4],
    s = t[5],
    l = t[6],
    d = t[7],
    c = t[8],
    u = e[0],
    f = e[1],
    h = e[2],
    x = e[3],
    S = e[4],
    p = e[5],
    y = e[6],
    E = e[7],
    g = e[8];
  return Math.abs(i - u) <= Gn * Math.max(1, Math.abs(i), Math.abs(u))
    && Math.abs(r - f) <= Gn * Math.max(1, Math.abs(r), Math.abs(f))
    && Math.abs(n - h) <= Gn * Math.max(1, Math.abs(n), Math.abs(h))
    && Math.abs(a - x) <= Gn * Math.max(1, Math.abs(a), Math.abs(x))
    && Math.abs(o - S) <= Gn * Math.max(1, Math.abs(o), Math.abs(S))
    && Math.abs(s - p) <= Gn * Math.max(1, Math.abs(s), Math.abs(p))
    && Math.abs(l - y) <= Gn * Math.max(1, Math.abs(l), Math.abs(y))
    && Math.abs(d - E) <= Gn * Math.max(1, Math.abs(d), Math.abs(E))
    && Math.abs(c - g) <= Gn * Math.max(1, Math.abs(c), Math.abs(g));
}
var JI = Ux, QI = Gx;
var lb = Dm(nb());
function ab(t, e) {
  for (var i = 0; i < e.length; i++) {
    var r = e[i];
    r.enumerable = r.enumerable || !1,
      r.configurable = !0,
      "value" in r && (r.writable = !0),
      Object.defineProperty(t, s4(r.key), r);
  }
}
function $h(t, e, i) {
  return e && ab(t.prototype, e),
    i && ab(t, i),
    Object.defineProperty(t, "prototype", { writable: !1 }),
    t;
}
function db(t, e) {
  t.prototype = Object.create(e.prototype),
    t.prototype.constructor = t,
    Dh(t, e);
}
function Dh(t, e) {
  return Dh = Object.setPrototypeOf
    ? Object.setPrototypeOf.bind()
    : function(r, n) {
      return r.__proto__ = n, r;
    },
    Dh(t, e);
}
function o4(t, e) {
  if (typeof t != "object" || t === null) return t;
  var i = t[Symbol.toPrimitive];
  if (i !== void 0) {
    var r = i.call(t, e || "default");
    if (typeof r != "object") return r;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (e === "string" ? String : Number)(t);
}
function s4(t) {
  var e = o4(t, "string");
  return typeof e == "symbol" ? e : String(e);
}
var Au = function() {
    function t() {}
    var e = t.prototype;
    return e._seed = function(r, n) {
      if (r === (r || 0)) return r;
      for (var a = "" + r, o = 0, s = 0; s < a.length; ++s) {
        o ^= a.charCodeAt(s) | 0;
      }
      return o;
    },
      t;
  }(),
  ob = function(t) {
    db(e, t);
    function e(r, n) {
      var a;
      return a = t.call(this) || this, a._rng = void 0, a.seed(r, n), a;
    }
    var i = e.prototype;
    return i.next = function() {
      return this._rng();
    },
      i.seed = function(n, a) {
        this._rng = n;
      },
      i.clone = function(n, a) {
        return new e(this._rng, a);
      },
      $h(e, [{
        key: "name",
        get: function() {
          return "function";
        },
      }]),
      e;
  }(Au),
  sb = function() {
    var t = [].slice.call(arguments),
      e = t,
      i = e[0],
      r = i === void 0 ? "default" : i;
    switch (typeof r) {
      case "object":
        if (r instanceof Au) return r;
        break;
      case "function":
        return new ob(r);
      case "number":
      case "string":
      default:
        return new ob(lb.default.apply(void 0, t));
    }
    throw new Error("invalid RNG \"" + r + "\"");
  },
  l4 = function(t, e, i) {
    return e === void 0 && (e = 0), i === void 0 && (i = 1), function() {
      return t.next() * (i - e) + e;
    };
  };
function In(t) {
  return new d4(t);
}
var d4 = function(e) {
    var i = this;
    this.n = void 0,
      this.isInt = function() {
        if (Number.isInteger(i.n)) return i;
        throw new Error("Expected number to be an integer, got " + i.n);
      },
      this.isPositive = function() {
        if (i.n > 0) return i;
        throw new Error("Expected number to be positive, got " + i.n);
      },
      this.lessThan = function(r) {
        if (i.n < r) return i;
        throw new Error(
          "Expected number to be less than " + r + ", got " + i.n,
        );
      },
      this.greaterThanOrEqual = function(r) {
        if (i.n >= r) return i;
        throw new Error(
          "Expected number to be greater than or equal to " + r + ", got "
            + i.n,
        );
      },
      this.greaterThan = function(r) {
        if (i.n > r) return i;
        throw new Error(
          "Expected number to be greater than " + r + ", got " + i.n,
        );
      },
      this.n = e;
  },
  c4 = function(t, e, i) {
    return e === void 0 && (e = 0),
      i === void 0 && (i = 1),
      i === void 0 && (i = e === void 0 ? 1 : e, e = 0),
      In(e).isInt(),
      In(i).isInt(),
      function() {
        return Math.floor(t.next() * (i - e + 1) + e);
      };
  },
  u4 = function(t) {
    return function() {
      return t.next() >= .5;
    };
  },
  f4 = function(t, e, i) {
    return e === void 0 && (e = 0), i === void 0 && (i = 1), function() {
      var r, n, a;
      do r = t.next() * 2 - 1, n = t.next() * 2 - 1, a = r * r + n * n; while (
        !a || a > 1
      );
      return e + i * n * Math.sqrt(-2 * Math.log(a) / a);
    };
  },
  m4 = function(t, e, i) {
    e === void 0 && (e = 0), i === void 0 && (i = 1);
    var r = t.normal(e, i);
    return function() {
      return Math.exp(r());
    };
  },
  h4 = function(t, e) {
    return e === void 0 && (e = .5),
      In(e).greaterThanOrEqual(0).lessThan(1),
      function() {
        return Math.floor(t.next() + e);
      };
  },
  p4 = function(t, e, i) {
    return e === void 0 && (e = 1),
      i === void 0 && (i = .5),
      In(e).isInt().isPositive(),
      In(i).greaterThanOrEqual(0).lessThan(1),
      function() {
        for (var r = 0, n = 0; r++ < e;) t.next() < i && n++;
        return n;
      };
  },
  g4 = function(t, e) {
    e === void 0 && (e = .5), In(e).greaterThan(0).lessThan(1);
    var i = 1 / Math.log(1 - e);
    return function() {
      return Math.floor(1 + Math.log(t.next()) * i);
    };
  },
  v4 = [
    0,
    0,
    .6931471805599453,
    1.791759469228055,
    3.1780538303479458,
    4.787491742782046,
    6.579251212010101,
    8.525161361065415,
    10.60460290274525,
    12.801827480081469,
  ],
  _4 = function(e) {
    return v4[e];
  },
  x4 = .9189385332046727,
  b4 = function(t, e) {
    if (e === void 0 && (e = 1), In(e).isPositive(), e < 10) {
      var i = Math.exp(-e);
      return function() {
        for (var l = i, d = 0, c = t.next(); c > l;) c = c - l, l = e * l / ++d;
        return d;
      };
    }
    else {
      var r = Math.sqrt(e),
        n = .931 + 2.53 * r,
        a = -.059 + .02483 * n,
        o = 1.1239 + 1.1328 / (n - 3.4),
        s = .9277 - 3.6224 / (n - 2);
      return function() {
        for (;;) {
          var l = void 0, d = t.next();
          if (d <= .86 * s) {
            return l = d / s - .43,
              Math.floor((2 * a / (.5 - Math.abs(l)) + n) * l + e + .445);
          }
          d >= s ? l = t.next() - .5
          : (l = d / s - .93, l = (l < 0 ? -.5 : .5) - l, d = t.next() * s);
          var c = .5 - Math.abs(l);
          if (!(c < .013 && d > c)) {
            var u = Math.floor((2 * a / c + n) * l + e + .445);
            if (d = d * o / (a / (c * c) + n), u >= 10) {
              var f = (u + .5) * Math.log(e / u) - e - x4 + u
                - (.08333333333333333
                    - (.002777777777777778 - 1 / (1260 * u * u)) / (u * u)) / u;
              if (Math.log(d * r) <= f) return u;
            }
            else if (u >= 0) {
              var h, x = (h = _4(u)) != null ? h : 0;
              if (Math.log(d) <= u * Math.log(e) - e - x) return u;
            }
          }
        }
      };
    }
  },
  y4 = function(t, e) {
    return e === void 0 && (e = 1), In(e).isPositive(), function() {
      return -Math.log(1 - t.next()) / e;
    };
  },
  w4 = function(t, e) {
    return e === void 0 && (e = 1),
      In(e).isInt().greaterThanOrEqual(0),
      function() {
        for (var i = 0, r = 0; r < e; ++r) i += t.next();
        return i;
      };
  },
  S4 = function(t, e) {
    e === void 0 && (e = 1), In(e).isInt().isPositive();
    var i = t.irwinHall(e);
    return function() {
      return i() / e;
    };
  },
  E4 = function(t, e) {
    e === void 0 && (e = 1), In(e).greaterThanOrEqual(0);
    var i = 1 / e;
    return function() {
      return 1 / Math.pow(1 - t.next(), i);
    };
  },
  T4 = function(t) {
    db(e, t);
    function e() {
      return t.apply(this, arguments) || this;
    }
    var i = e.prototype;
    return i.next = function() {
      return Math.random();
    },
      i.seed = function(n, a) {},
      i.clone = function() {
        return new e();
      },
      $h(e, [{
        key: "name",
        get: function() {
          return "default";
        },
      }]),
      e;
  }(Au),
  Mh = function() {
    function t(i) {
      var r = this;
      this._rng = void 0,
        this._patch = void 0,
        this._cache = {},
        this.next = function() {
          return r._rng.next();
        },
        this.float = function(n, a) {
          return r.uniform(n, a)();
        },
        this.int = function(n, a) {
          return r.uniformInt(n, a)();
        },
        this.integer = function(n, a) {
          return r.uniformInt(n, a)();
        },
        this.bool = function() {
          return r.uniformBoolean()();
        },
        this.boolean = function() {
          return r.uniformBoolean()();
        },
        this.uniform = function(n, a) {
          return r._memoize("uniform", l4, n, a);
        },
        this.uniformInt = function(n, a) {
          return r._memoize("uniformInt", c4, n, a);
        },
        this.uniformBoolean = function() {
          return r._memoize("uniformBoolean", u4);
        },
        this.normal = function(n, a) {
          return f4(r, n, a);
        },
        this.logNormal = function(n, a) {
          return m4(r, n, a);
        },
        this.bernoulli = function(n) {
          return h4(r, n);
        },
        this.binomial = function(n, a) {
          return p4(r, n, a);
        },
        this.geometric = function(n) {
          return g4(r, n);
        },
        this.poisson = function(n) {
          return b4(r, n);
        },
        this.exponential = function(n) {
          return y4(r, n);
        },
        this.irwinHall = function(n) {
          return w4(r, n);
        },
        this.bates = function(n) {
          return S4(r, n);
        },
        this.pareto = function(n) {
          return E4(r, n);
        },
        i && i instanceof Au ? this.use(i) : this.use(new T4()),
        this._cache = {};
    }
    var e = t.prototype;
    return e.clone = function() {
      var r = [].slice.call(arguments);
      return r.length ? new t(sb.apply(void 0, r)) : new t(this.rng.clone());
    },
      e.use = function() {
        this._rng = sb.apply(void 0, [].slice.call(arguments));
      },
      e.patch = function() {
        if (this._patch) throw new Error("Math.random already patched");
        this._patch = Math.random, Math.random = this.uniform();
      },
      e.unpatch = function() {
        this._patch && (Math.random = this._patch, delete this._patch);
      },
      e.choice = function(r) {
        if (!Array.isArray(r)) {
          throw new Error(
            "Random.choice expected input to be an array, got " + typeof r,
          );
        }
        var n = r?.length;
        if (n > 0) {
          var a = this.uniformInt(0, n - 1)();
          return r[a];
        }
        else return;
      },
      e._memoize = function(r, n) {
        var a = [].slice.call(arguments, 2),
          o = "" + a.join(";"),
          s = this._cache[r];
        return (s === void 0 || s.key !== o)
          && (s = { key: o, distribution: n.apply(void 0, [this].concat(a)) },
            this._cache[r] = s),
          s.distribution;
      },
      $h(t, [{
        key: "rng",
        get: function() {
          return this._rng;
        },
      }]),
      t;
  }(),
  DM = new Mh();
var Iu = { capture: !0, passive: !1 };
function Cu(t) {
  t.preventDefault(), t.stopImmediatePropagation();
}
function rd(t) {
  var e = t.document.documentElement, i = ai(t).on("dragstart.drag", Cu, Iu);
  "onselectstart" in e
    ? i.on("selectstart.drag", Cu, Iu)
    : (e.__noselect = e.style.MozUserSelect, e.style.MozUserSelect = "none");
}
function nd(t, e) {
  var i = t.document.documentElement, r = ai(t).on("dragstart.drag", null);
  e && (r.on("click.drag", Cu, Iu),
    setTimeout(function() {
      r.on("click.drag", null);
    }, 0)),
    "onselectstart" in i
      ? r.on("selectstart.drag", null)
      : (i.style.MozUserSelect = i.__noselect, delete i.__noselect);
}
var ad = t => () => t;
function Nh(t, { sourceEvent: e, target: i, transform: r, dispatch: n }) {
  Object.defineProperties(this, {
    type: { value: t, enumerable: !0, configurable: !0 },
    sourceEvent: { value: e, enumerable: !0, configurable: !0 },
    target: { value: i, enumerable: !0, configurable: !0 },
    transform: { value: r, enumerable: !0, configurable: !0 },
    _: { value: n },
  });
}
function Cn(t, e, i) {
  this.k = t, this.x = e, this.y = i;
}
Cn.prototype = {
  constructor: Cn,
  scale: function(t) {
    return t === 1 ? this : new Cn(this.k * t, this.x, this.y);
  },
  translate: function(t, e) {
    return t === 0 & e === 0 ? this
    : new Cn(this.k, this.x + this.k * t, this.y + this.k * e);
  },
  apply: function(t) {
    return [t[0] * this.k + this.x, t[1] * this.k + this.y];
  },
  applyX: function(t) {
    return t * this.k + this.x;
  },
  applyY: function(t) {
    return t * this.k + this.y;
  },
  invert: function(t) {
    return [(t[0] - this.x) / this.k, (t[1] - this.y) / this.k];
  },
  invertX: function(t) {
    return (t - this.x) / this.k;
  },
  invertY: function(t) {
    return (t - this.y) / this.k;
  },
  rescaleX: function(t) {
    return t.copy().domain(t.range().map(this.invertX, this).map(t.invert, t));
  },
  rescaleY: function(t) {
    return t.copy().domain(t.range().map(this.invertY, this).map(t.invert, t));
  },
  toString: function() {
    return "translate(" + this.x + "," + this.y + ") scale(" + this.k + ")";
  },
};
var ua = new Cn(1, 0, 0);
Ph.prototype = Cn.prototype;
function Ph(t) {
  for (; !t.__zoom;) if (!(t = t.parentNode)) return ua;
  return t.__zoom;
}
function ku(t) {
  t.stopImmediatePropagation();
}
function Is(t) {
  t.preventDefault(), t.stopImmediatePropagation();
}
function A4(t) {
  return (!t.ctrlKey || t.type === "wheel") && !t.button;
}
function I4() {
  var t = this;
  return t instanceof SVGElement
    ? (t = t.ownerSVGElement || t,
      t.hasAttribute("viewBox")
        ? (t = t.viewBox.baseVal, [[t.x, t.y], [t.x + t.width, t.y + t.height]])
        : [[0, 0], [t.width.baseVal.value, t.height.baseVal.value]])
    : [[0, 0], [t.clientWidth, t.clientHeight]];
}
function cb() {
  return this.__zoom || ua;
}
function C4(t) {
  return -t.deltaY * (t.deltaMode === 1 ? .05 : t.deltaMode ? 1 : .002)
    * (t.ctrlKey ? 10 : 1);
}
function k4() {
  return navigator.maxTouchPoints || "ontouchstart" in this;
}
function L4(t, e, i) {
  var r = t.invertX(e[0][0]) - i[0][0],
    n = t.invertX(e[1][0]) - i[1][0],
    a = t.invertY(e[0][1]) - i[0][1],
    o = t.invertY(e[1][1]) - i[1][1];
  return t.translate(
    n > r ? (r + n) / 2 : Math.min(0, r) || Math.max(0, n),
    o > a ? (a + o) / 2 : Math.min(0, a) || Math.max(0, o),
  );
}
function zh() {
  var t = A4,
    e = I4,
    i = L4,
    r = C4,
    n = k4,
    a = [0, 1 / 0],
    o = [[-1 / 0, -1 / 0], [1 / 0, 1 / 0]],
    s = 250,
    l = Km,
    d = po("start", "zoom", "end"),
    c,
    u,
    f,
    h = 500,
    x = 150,
    S = 0,
    p = 10;
  function y(A) {
    A.property("__zoom", cb).on("wheel.zoom", D, { passive: !1 }).on(
      "mousedown.zoom",
      V,
    ).on("dblclick.zoom", ue).filter(n).on("touchstart.zoom", ne).on(
      "touchmove.zoom",
      ee,
    ).on("touchend.zoom touchcancel.zoom", R).style(
      "-webkit-tap-highlight-color",
      "rgba(0,0,0,0)",
    );
  }
  y.transform = function(A, X, G, te) {
    var De = A.selection ? A.selection() : A;
    De.property("__zoom", cb),
      A !== De ? $(A, X, G, te) : De.interrupt().each(function() {
        z(this, arguments).event(te).start().zoom(
          null,
          typeof X == "function" ? X.apply(this, arguments) : X,
        ).end();
      });
  },
    y.scaleBy = function(A, X, G, te) {
      y.scaleTo(
        A,
        function() {
          var De = this.__zoom.k,
            Se = typeof X == "function"
              ? X.apply(this, arguments)
              : X;
          return De * Se;
        },
        G,
        te,
      );
    },
    y.scaleTo = function(A, X, G, te) {
      y.transform(
        A,
        function() {
          var De = e.apply(this, arguments),
            Se = this.__zoom,
            Fe = G == null ? _(De) : typeof G == "function"
              ? G.apply(this, arguments)
              : G,
            Be = Se.invert(Fe),
            We = typeof X == "function" ? X.apply(this, arguments) : X;
          return i(g(E(Se, We), Fe, Be), De, o);
        },
        G,
        te,
      );
    },
    y.translateBy = function(A, X, G, te) {
      y.transform(
        A,
        function() {
          return i(
            this.__zoom.translate(
              typeof X == "function"
                ? X.apply(this, arguments)
                : X,
              typeof G == "function" ? G.apply(this, arguments) : G,
            ),
            e.apply(this, arguments),
            o,
          );
        },
        null,
        te,
      );
    },
    y.translateTo = function(A, X, G, te, De) {
      y.transform(
        A,
        function() {
          var Se = e.apply(this, arguments),
            Fe = this.__zoom,
            Be = te == null ? _(Se) : typeof te == "function"
              ? te.apply(this, arguments)
              : te;
          return i(
            ua.translate(Be[0], Be[1]).scale(Fe.k).translate(
              typeof X == "function" ? -X.apply(this, arguments) : -X,
              typeof G == "function" ? -G.apply(this, arguments) : -G,
            ),
            Se,
            o,
          );
        },
        te,
        De,
      );
    };
  function E(A, X) {
    return X = Math.max(a[0], Math.min(a[1], X)),
      X === A.k ? A : new Cn(X, A.x, A.y);
  }
  function g(A, X, G) {
    var te = X[0] - G[0] * A.k, De = X[1] - G[1] * A.k;
    return te === A.x && De === A.y ? A : new Cn(A.k, te, De);
  }
  function _(A) {
    return [(+A[0][0] + +A[1][0]) / 2, (+A[0][1] + +A[1][1]) / 2];
  }
  function $(A, X, G, te) {
    A.on("start.zoom", function() {
      z(this, arguments).event(te).start();
    }).on("interrupt.zoom end.zoom", function() {
      z(this, arguments).event(te).end();
    }).tween("zoom", function() {
      var De = this,
        Se = arguments,
        Fe = z(De, Se).event(te),
        Be = e.apply(De, Se),
        We = G == null ? _(Be) : typeof G == "function" ? G.apply(De, Se) : G,
        me = Math.max(Be[1][0] - Be[0][0], Be[1][1] - Be[0][1]),
        gt = De.__zoom,
        St = typeof X == "function" ? X.apply(De, Se) : X,
        ft = l(
          gt.invert(We).concat(me / gt.k),
          St.invert(We).concat(me / St.k),
        );
      return function(xt) {
        if (xt === 1) xt = St;
        else {
          var _e = ft(xt), le = me / _e[2];
          xt = new Cn(le, We[0] - _e[0] * le, We[1] - _e[1] * le);
        }
        Fe.zoom(null, xt);
      };
    });
  }
  function z(A, X, G) {
    return !G && A.__zooming || new I(A, X);
  }
  function I(A, X) {
    this.that = A,
      this.args = X,
      this.active = 0,
      this.sourceEvent = null,
      this.extent = e.apply(A, X),
      this.taps = 0;
  }
  I.prototype = {
    event: function(A) {
      return A && (this.sourceEvent = A), this;
    },
    start: function() {
      return ++this.active === 1
        && (this.that.__zooming = this, this.emit("start")),
        this;
    },
    zoom: function(A, X) {
      return this.mouse && A !== "mouse"
        && (this.mouse[1] = X.invert(this.mouse[0])),
        this.touch0 && A !== "touch"
        && (this.touch0[1] = X.invert(this.touch0[0])),
        this.touch1 && A !== "touch"
        && (this.touch1[1] = X.invert(this.touch1[0])),
        this.that.__zoom = X,
        this.emit("zoom"),
        this;
    },
    end: function() {
      return --this.active === 0
        && (delete this.that.__zooming, this.emit("end")),
        this;
    },
    emit: function(A) {
      var X = ai(this.that).datum();
      d.call(
        A,
        this.that,
        new Nh(A, {
          sourceEvent: this.sourceEvent,
          target: y,
          type: A,
          transform: this.that.__zoom,
          dispatch: d,
        }),
        X,
      );
    },
  };
  function D(A, ...X) {
    if (!t.apply(this, arguments)) return;
    var G = z(this, X).event(A),
      te = this.__zoom,
      De = Math.max(
        a[0],
        Math.min(a[1], te.k * Math.pow(2, r.apply(this, arguments))),
      ),
      Se = cn(A);
    if (G.wheel) {
      (G.mouse[0][0] !== Se[0] || G.mouse[0][1] !== Se[1])
      && (G.mouse[1] = te.invert(G.mouse[0] = Se)), clearTimeout(G.wheel);
    }
    else {
      if (te.k === De) return;
      G.mouse = [Se, te.invert(Se)], Pn(this), G.start();
    }
    Is(A),
      G.wheel = setTimeout(Fe, x),
      G.zoom("mouse", i(g(E(te, De), G.mouse[0], G.mouse[1]), G.extent, o));
    function Fe() {
      G.wheel = null, G.end();
    }
  }
  function V(A, ...X) {
    if (f || !t.apply(this, arguments)) return;
    var G = A.currentTarget,
      te = z(this, X, !0).event(A),
      De = ai(A.view).on("mousemove.zoom", We, !0).on("mouseup.zoom", me, !0),
      Se = cn(A, G),
      Fe = A.clientX,
      Be = A.clientY;
    rd(A.view),
      ku(A),
      te.mouse = [Se, this.__zoom.invert(Se)],
      Pn(this),
      te.start();
    function We(gt) {
      if (Is(gt), !te.moved) {
        var St = gt.clientX - Fe, ft = gt.clientY - Be;
        te.moved = St * St + ft * ft > S;
      }
      te.event(gt).zoom(
        "mouse",
        i(
          g(te.that.__zoom, te.mouse[0] = cn(gt, G), te.mouse[1]),
          te.extent,
          o,
        ),
      );
    }
    function me(gt) {
      De.on("mousemove.zoom mouseup.zoom", null),
        nd(gt.view, te.moved),
        Is(gt),
        te.event(gt).end();
    }
  }
  function ue(A, ...X) {
    if (t.apply(this, arguments)) {
      var G = this.__zoom,
        te = cn(A.changedTouches ? A.changedTouches[0] : A, this),
        De = G.invert(te),
        Se = G.k * (A.shiftKey ? .5 : 2),
        Fe = i(g(E(G, Se), te, De), e.apply(this, X), o);
      Is(A),
        s > 0
          ? ai(this).transition().duration(s).call($, Fe, te, A)
          : ai(this).call(y.transform, Fe, te, A);
    }
  }
  function ne(A, ...X) {
    if (t.apply(this, arguments)) {
      var G = A.touches,
        te = G.length,
        De = z(this, X, A.changedTouches.length === te).event(A),
        Se,
        Fe,
        Be,
        We;
      for (ku(A), Fe = 0; Fe < te; ++Fe) {
        Be = G[Fe],
          We = cn(Be, this),
          We = [We, this.__zoom.invert(We), Be.identifier],
          De.touch0
            ? !De.touch1 && De.touch0[2] !== We[2]
              && (De.touch1 = We, De.taps = 0)
            : (De.touch0 = We, Se = !0, De.taps = 1 + !!c);
      }
      c && (c = clearTimeout(c)),
        Se && (De.taps < 2 && (u = We[0],
          c = setTimeout(function() {
            c = null;
          }, h)),
          Pn(this),
          De.start());
    }
  }
  function ee(A, ...X) {
    if (this.__zooming) {
      var G = z(this, X).event(A),
        te = A.changedTouches,
        De = te.length,
        Se,
        Fe,
        Be,
        We;
      for (Is(A), Se = 0; Se < De; ++Se) {
        Fe = te[Se],
          Be = cn(Fe, this),
          G.touch0 && G.touch0[2] === Fe.identifier
            ? G.touch0[0] = Be
            : G.touch1 && G.touch1[2] === Fe.identifier && (G.touch1[0] = Be);
      }
      if (Fe = G.that.__zoom, G.touch1) {
        var me = G.touch0[0],
          gt = G.touch0[1],
          St = G.touch1[0],
          ft = G.touch1[1],
          xt = (xt = St[0] - me[0]) * xt + (xt = St[1] - me[1]) * xt,
          _e = (_e = ft[0] - gt[0]) * _e + (_e = ft[1] - gt[1]) * _e;
        Fe = E(Fe, Math.sqrt(xt / _e)),
          Be = [(me[0] + St[0]) / 2, (me[1] + St[1]) / 2],
          We = [(gt[0] + ft[0]) / 2, (gt[1] + ft[1]) / 2];
      }
      else if (G.touch0) Be = G.touch0[0], We = G.touch0[1];
      else return;
      G.zoom("touch", i(g(Fe, Be, We), G.extent, o));
    }
  }
  function R(A, ...X) {
    if (this.__zooming) {
      var G = z(this, X).event(A),
        te = A.changedTouches,
        De = te.length,
        Se,
        Fe;
      for (
        ku(A),
          f && clearTimeout(f),
          f = setTimeout(function() {
            f = null;
          }, h),
          Se = 0;
        Se < De;
        ++Se
      ) {
        Fe = te[Se],
          G.touch0 && G.touch0[2] === Fe.identifier
            ? delete G.touch0
            : G.touch1 && G.touch1[2] === Fe.identifier && delete G.touch1;
      }
      if (
        G.touch1 && !G.touch0 && (G.touch0 = G.touch1, delete G.touch1),
          G.touch0
      ) {
        G.touch0[1] = this.__zoom.invert(G.touch0[0]);
      }
      else if (
        G.end(),
          G.taps === 2
          && (Fe = cn(Fe, this), Math.hypot(u[0] - Fe[0], u[1] - Fe[1]) < p)
      ) {
        var Be = ai(this).on("dblclick.zoom");
        Be && Be.apply(this, arguments);
      }
    }
  }
  return y.wheelDelta = function(A) {
    return arguments.length ? (r = typeof A == "function" ? A : ad(+A), y) : r;
  },
    y.filter = function(A) {
      return arguments.length ? (t = typeof A == "function" ? A : ad(!!A), y)
      : t;
    },
    y.touchable = function(A) {
      return arguments.length ? (n = typeof A == "function" ? A : ad(!!A), y)
      : n;
    },
    y.extent = function(A) {
      return arguments.length
        ? (e = typeof A == "function"
          ? A
          : ad([[+A[0][0], +A[0][1]], [+A[1][0], +A[1][1]]]),
          y) : e;
    },
    y.scaleExtent = function(A) {
      return arguments.length ? (a[0] = +A[0], a[1] = +A[1], y) : [a[0], a[1]];
    },
    y.translateExtent = function(A) {
      return arguments.length
        ? (o[0][0] = +A[0][0],
          o[1][0] = +A[1][0],
          o[0][1] = +A[0][1],
          o[1][1] = +A[1][1],
          y) : [[o[0][0], o[0][1]], [o[1][0], o[1][1]]];
    },
    y.constrain = function(A) {
      return arguments.length ? (i = A, y) : i;
    },
    y.duration = function(A) {
      return arguments.length ? (s = +A, y) : s;
    },
    y.interpolate = function(A) {
      return arguments.length ? (l = A, y) : l;
    },
    y.on = function() {
      var A = d.on.apply(d, arguments);
      return A === d ? y : A;
    },
    y.clickDistance = function(A) {
      return arguments.length ? (S = (A = +A) * A, y) : Math.sqrt(S);
    },
    y.tapDistance = function(A) {
      return arguments.length ? (p = +A, y) : p;
    },
    y;
}
var hb = "#b3b3b3",
  O4 = .01,
  pb = 4,
  gb = "#666666",
  R4 = .01,
  vb = 1,
  F4 = "#222222",
  Mt = {
    disableSimulation: !1,
    spaceSize: 4096,
    nodeSizeScale: 1,
    linkWidthScale: 1,
    arrowSizeScale: 1,
    renderLinks: !0,
    curvedLinks: !1,
    curvedLinkSegments: 19,
    curvedLinkWeight: .8,
    curvedLinkControlPointDistance: .5,
    arrowLinks: !0,
    linkVisibilityDistanceRange: [50, 150],
    linkVisibilityMinTransparency: .25,
    hoveredNodeRingColor: "white",
    focusedNodeRingColor: "white",
    useQuadtree: !1,
    simulation: {
      decay: 1e3,
      gravity: 0,
      center: 0,
      repulsion: .1,
      repulsionTheta: 1.7,
      repulsionQuadtreeLevels: 12,
      linkSpring: 1,
      linkDistance: 2,
      linkDistRandomVariationRange: [1, 1.2],
      repulsionFromMouse: 2,
      friction: .85,
    },
    showFPSMonitor: !1,
    pixelRatio: 2,
    scaleNodesOnZoom: !0,
    initialZoomLevel: 1,
    disableZoom: !1,
    fitViewOnInit: !0,
    fitViewDelay: 250,
    nodeSamplingDistance: 150,
  },
  D4 = .7,
  $4 = .95,
  ub = 3,
  _b = t => typeof t == "function",
  xb = t => Array.isArray(t),
  M4 = t => t instanceof Object,
  N4 = t =>
    t instanceof Object
      ? t.constructor.name !== "Function" && t.constructor.name !== "Object"
      : !1,
  fb = t => M4(t) && !xb(t) && !_b(t) && !N4(t);
function Lu(t, e, i) {
  return _b(e) ? e(t, i) : e;
}
function ks(t) {
  var e;
  let i;
  if (xb(t)) i = t;
  else {
    let r = Pr(t), n = r?.rgb();
    i = [
      n?.r || 0,
      n?.g || 0,
      n?.b || 0,
      (e = r?.opacity) !== null && e !== void 0 ? e : 1,
    ];
  }
  return [i[0] / 255, i[1] / 255, i[2] / 255, i[3]];
}
function Ua(t, e) {
  let i = new Float32Array();
  return t({ framebuffer: e })(() => {
    i = t.read();
  }),
    i;
}
function P4(t, e, i) {
  return Math.min(Math.max(t, e), i);
}
var Uh = class {
    constructor() {
      this.disableSimulation = Mt.disableSimulation,
        this.backgroundColor = F4,
        this.spaceSize = Mt.spaceSize,
        this.nodeColor = hb,
        this.nodeGreyoutOpacity = O4,
        this.nodeSize = pb,
        this.nodeSizeScale = Mt.nodeSizeScale,
        this.renderHighlightedNodeRing = !0,
        this.highlightedNodeRingColor = void 0,
        this.renderHoveredNodeRing = !0,
        this.hoveredNodeRingColor = Mt.hoveredNodeRingColor,
        this.focusedNodeRingColor = Mt.focusedNodeRingColor,
        this.linkColor = gb,
        this.linkGreyoutOpacity = R4,
        this.linkWidth = vb,
        this.linkWidthScale = Mt.linkWidthScale,
        this.renderLinks = Mt.renderLinks,
        this.curvedLinks = Mt.curvedLinks,
        this.curvedLinkSegments = Mt.curvedLinkSegments,
        this.curvedLinkWeight = Mt.curvedLinkWeight,
        this.curvedLinkControlPointDistance = Mt.curvedLinkControlPointDistance,
        this.linkArrows = Mt.arrowLinks,
        this.linkArrowsSizeScale = Mt.arrowSizeScale,
        this.linkVisibilityDistanceRange = Mt.linkVisibilityDistanceRange,
        this.linkVisibilityMinTransparency = Mt.linkVisibilityMinTransparency,
        this.useQuadtree = Mt.useQuadtree,
        this.simulation = {
          decay: Mt.simulation.decay,
          gravity: Mt.simulation.gravity,
          center: Mt.simulation.center,
          repulsion: Mt.simulation.repulsion,
          repulsionTheta: Mt.simulation.repulsionTheta,
          repulsionQuadtreeLevels: Mt.simulation.repulsionQuadtreeLevels,
          linkSpring: Mt.simulation.linkSpring,
          linkDistance: Mt.simulation.linkDistance,
          linkDistRandomVariationRange:
            Mt.simulation.linkDistRandomVariationRange,
          repulsionFromMouse: Mt.simulation.repulsionFromMouse,
          friction: Mt.simulation.friction,
          onStart: void 0,
          onTick: void 0,
          onEnd: void 0,
          onPause: void 0,
          onRestart: void 0,
        },
        this.events = {
          onClick: void 0,
          onMouseMove: void 0,
          onNodeMouseOver: void 0,
          onNodeMouseOut: void 0,
          onZoomStart: void 0,
          onZoom: void 0,
          onZoomEnd: void 0,
        },
        this.showFPSMonitor = Mt.showFPSMonitor,
        this.pixelRatio = Mt.pixelRatio,
        this.scaleNodesOnZoom = Mt.scaleNodesOnZoom,
        this.initialZoomLevel = Mt.initialZoomLevel,
        this.disableZoom = Mt.disableZoom,
        this.fitViewOnInit = Mt.fitViewOnInit,
        this.fitViewDelay = Mt.fitViewDelay,
        this.fitViewByNodesInRect = void 0,
        this.randomSeed = void 0,
        this.nodeSamplingDistance = Mt.nodeSamplingDistance;
    }
    init(e) {
      Object.keys(e).forEach(i => {
        this.deepMergeConfig(this.getConfig(), e, i);
      });
    }
    deepMergeConfig(e, i, r) {
      fb(e[r]) && fb(i[r])
        ? Object.keys(i[r]).forEach(n => {
          this.deepMergeConfig(e[r], i[r], n);
        })
        : e[r] = i[r];
    }
    getConfig() {
      return this;
    }
  },
  jn = class {
    constructor(e, i, r, n, a) {
      this.reglInstance = e,
        this.config = i,
        this.store = r,
        this.data = n,
        a && (this.points = a);
    }
  },
  z4 = `#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec4 rgba;void main(){gl_FragColor=rgba;}`,
  B4 = `#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float pointsTextureSize;attribute vec2 indexes;varying vec4 rgba;void main(){vec4 pointPosition=texture2D(position,indexes/pointsTextureSize);rgba=vec4(pointPosition.xy,1.0,0.0);gl_Position=vec4(0.0,0.0,0.0,1.0);gl_PointSize=1.0;}`,
  U4 = `#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D centermass;uniform float center;uniform float alpha;varying vec2 index;void main(){vec4 pointPosition=texture2D(position,index);vec4 velocity=vec4(0.0);vec4 centermassValues=texture2D(centermass,vec2(0.0));vec2 centermassPosition=centermassValues.xy/centermassValues.b;vec2 distVector=centermassPosition-pointPosition.xy;float dist=sqrt(dot(distVector,distVector));if(dist>0.0){float angle=atan(distVector.y,distVector.x);float addV=alpha*center*dist*0.01;velocity.rg+=addV*vec2(cos(angle),sin(angle));}gl_FragColor=velocity;}`;
function Lr(t) {
  return {
    buffer: t.buffer(new Float32Array([-1, -1, 1, -1, -1, 1, 1, 1])),
    size: 2,
  };
}
function Cs(t, e) {
  let i = new Float32Array(e * e * 2);
  for (let n = 0; n < e; n++) {
    for (let a = 0; a < e; a++) {
      let o = n * e * 2 + a * 2;
      i[o + 0] = a, i[o + 1] = n;
    }
  }
  return { buffer: t.buffer(i), size: 2 };
}
function Zi(t) {
  var e;
  t && !((e = t?._framebuffer) === null || e === void 0) && e.framebuffer
    && t.destroy();
}
function Bh(t) {
  var e;
  t && !((e = t?._buffer) === null || e === void 0) && e.buffer && t.destroy();
}
var Ls = `#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec2 index;void main(){gl_FragColor=vec4(0.0);}`,
  Dr = `#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
attribute vec2 quad;varying vec2 index;void main(){index=(quad+1.0)/2.0;gl_Position=vec4(quad,0,1);}`,
  Gh = class extends jn {
    create() {
      let { reglInstance: e } = this;
      this.centermassFbo = e.framebuffer({
        color: e.texture({
          data: new Float32Array(4).fill(0),
          shape: [1, 1, 4],
          type: "float",
        }),
        depth: !1,
        stencil: !1,
      });
    }
    initPrograms() {
      let { reglInstance: e, config: i, store: r, data: n, points: a } = this;
      this.clearCentermassCommand = e({
        frag: Ls,
        vert: Dr,
        framebuffer: this.centermassFbo,
        primitive: "triangle strip",
        count: 4,
        attributes: { quad: Lr(e) },
      }),
        this.calculateCentermassCommand = e({
          frag: z4,
          vert: B4,
          framebuffer: () => this.centermassFbo,
          primitive: "points",
          count: () => n.nodes.length,
          attributes: { indexes: Cs(e, r.pointsTextureSize) },
          uniforms: {
            position: () => a?.previousPositionFbo,
            pointsTextureSize: () => r.pointsTextureSize,
          },
          blend: {
            enable: !0,
            func: { src: "one", dst: "one" },
            equation: { rgb: "add", alpha: "add" },
          },
          depth: { enable: !1, mask: !1 },
          stencil: { enable: !1 },
        }),
        this.runCommand = e({
          frag: U4,
          vert: Dr,
          framebuffer: () => a?.velocityFbo,
          primitive: "triangle strip",
          count: 4,
          attributes: { quad: Lr(e) },
          uniforms: {
            position: () => a?.previousPositionFbo,
            centermass: () => this.centermassFbo,
            center: () => {
              var o;
              return (o = i.simulation) === null || o === void 0
                ? void 0
                : o.center;
            },
            alpha: () => r.alpha,
          },
        });
    }
    run() {
      var e, i, r;
      (e = this.clearCentermassCommand) === null || e === void 0
      || e.call(this),
        (i = this.calculateCentermassCommand) === null || i === void 0
        || i.call(this),
        (r = this.runCommand) === null || r === void 0 || r.call(this);
    }
    destroy() {
      Zi(this.centermassFbo);
    }
  },
  G4 = `#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float gravity;uniform float spaceSize;uniform float alpha;varying vec2 index;void main(){vec4 pointPosition=texture2D(position,index);vec4 velocity=vec4(0.0);vec2 centerPosition=vec2(spaceSize/2.0);vec2 distVector=centerPosition-pointPosition.rg;float dist=sqrt(dot(distVector,distVector));if(dist>0.0){float angle=atan(distVector.y,distVector.x);float addV=alpha*gravity*dist*0.1;velocity.rg+=addV*vec2(cos(angle),sin(angle));}gl_FragColor=velocity;}`,
  Hh = class extends jn {
    initPrograms() {
      let { reglInstance: e, config: i, store: r, points: n } = this;
      this.runCommand = e({
        frag: G4,
        vert: Dr,
        framebuffer: () => n?.velocityFbo,
        primitive: "triangle strip",
        count: 4,
        attributes: { quad: Lr(e) },
        uniforms: {
          position: () => n?.previousPositionFbo,
          gravity: () => {
            var a;
            return (a = i.simulation) === null || a === void 0
              ? void 0
              : a.gravity;
          },
          spaceSize: () => r.adjustedSpaceSize,
          alpha: () => r.alpha,
        },
      });
    }
    run() {
      var e;
      (e = this.runCommand) === null || e === void 0 || e.call(this);
    }
  };
function H4(t) {
  return `
#ifdef GL_ES
precision highp float;
#endif

uniform sampler2D position;
uniform float linkSpring;
uniform float linkDistance;
uniform vec2 linkDistRandomVariationRange;

uniform sampler2D linkFirstIndicesAndAmount;
uniform sampler2D linkIndices;
uniform sampler2D linkBiasAndStrength;
uniform sampler2D linkRandomDistanceFbo;

uniform float pointsTextureSize;
uniform float linksTextureSize;
uniform float alpha;

varying vec2 index;

const float MAX_LINKS = ${t}.0;

void main() {
  vec4 pointPosition = texture2D(position, index);
  vec4 velocity = vec4(0.0);

  vec4 linkFirstIJAndAmount = texture2D(linkFirstIndicesAndAmount, index);
  float iCount = linkFirstIJAndAmount.r;
  float jCount = linkFirstIJAndAmount.g;
  float linkAmount = linkFirstIJAndAmount.b;
  if (linkAmount > 0.0) {
    for (float i = 0.0; i < MAX_LINKS; i += 1.0) {
      if (i < linkAmount) {
        if (iCount >= linksTextureSize) {
          iCount = 0.0;
          jCount += 1.0;
        }
        vec2 linkTextureIndex = (vec2(iCount, jCount) + 0.5) / linksTextureSize;
        vec4 connectedPointIndex = texture2D(linkIndices, linkTextureIndex);
        vec4 biasAndStrength = texture2D(linkBiasAndStrength, linkTextureIndex);
        vec4 randomMinDistance = texture2D(linkRandomDistanceFbo, linkTextureIndex);
        float bias = biasAndStrength.r;
        float strength = biasAndStrength.g;
        float randomMinLinkDist = randomMinDistance.r * (linkDistRandomVariationRange.g - linkDistRandomVariationRange.r) + linkDistRandomVariationRange.r;
        randomMinLinkDist *= linkDistance;

        iCount += 1.0;

        vec4 connectedPointPosition = texture2D(position, (connectedPointIndex.rg + 0.5) / pointsTextureSize);
        float x = connectedPointPosition.x - (pointPosition.x + velocity.x);
        float y = connectedPointPosition.y - (pointPosition.y + velocity.y);
        float l = sqrt(x * x + y * y);
        l = max(l, randomMinLinkDist * 0.99);
        l = (l - randomMinLinkDist) / l;
        l *= linkSpring * alpha;
        l *= strength;
        l *= bias;
        x *= l;
        y *= l;
        velocity.x += x;
        velocity.y += y;
      }
    }
  }

  gl_FragColor = vec4(velocity.rg, 0.0, 0.0);
}
  `;
}
var od;
(function(t) {
  t.OUTGOING = "outgoing", t.INCOMING = "incoming";
})(od || (od = {}));
var Ou = class extends jn {
    constructor() {
      super(...arguments),
        this.linkFirstIndicesAndAmount = new Float32Array(),
        this.indices = new Float32Array(),
        this.maxPointDegree = 0;
    }
    create(e) {
      let {
        reglInstance: i,
        store: { pointsTextureSize: r, linksTextureSize: n },
        data: a,
      } = this;
      if (!r || !n) return;
      this.linkFirstIndicesAndAmount = new Float32Array(r * r * 4),
        this.indices = new Float32Array(n * n * 4);
      let o = new Float32Array(n * n * 4),
        s = new Float32Array(n * n * 4),
        l = e === od.INCOMING
          ? a.groupedSourceToTargetLinks
          : a.groupedTargetToSourceLinks;
      this.maxPointDegree = 0;
      let d = 0;
      l.forEach((c, u) => {
        this.linkFirstIndicesAndAmount[u * 4 + 0] = d % n,
          this.linkFirstIndicesAndAmount[u * 4 + 1] = Math.floor(d / n),
          this.linkFirstIndicesAndAmount[u * 4 + 2] = c.size,
          c.forEach(f => {
            var h, x;
            this.indices[d * 4 + 0] = f % r,
              this.indices[d * 4 + 1] = Math.floor(f / r);
            let S =
                (h = a.degree[a.getInputIndexBySortedIndex(f)]) !== null
                  && h !== void 0
                  ? h
                  : 0,
              p =
                (x = a.degree[a.getInputIndexBySortedIndex(u)]) !== null
                  && x !== void 0
                  ? x
                  : 0,
              y = S / (S + p),
              E = 1 / Math.min(S, p);
            E = Math.sqrt(E),
              o[d * 4 + 0] = y,
              o[d * 4 + 1] = E,
              s[d * 4] = this.store.getRandomFloat(0, 1),
              d += 1;
          }),
          this.maxPointDegree = Math.max(this.maxPointDegree, c.size);
      }),
        this.linkFirstIndicesAndAmountFbo = i.framebuffer({
          color: i.texture({
            data: this.linkFirstIndicesAndAmount,
            shape: [r, r, 4],
            type: "float",
          }),
          depth: !1,
          stencil: !1,
        }),
        this.indicesFbo = i.framebuffer({
          color: i.texture({
            data: this.indices,
            shape: [n, n, 4],
            type: "float",
          }),
          depth: !1,
          stencil: !1,
        }),
        this.biasAndStrengthFbo = i.framebuffer({
          color: i.texture({ data: o, shape: [n, n, 4], type: "float" }),
          depth: !1,
          stencil: !1,
        }),
        this.randomDistanceFbo = i.framebuffer({
          color: i.texture({ data: s, shape: [n, n, 4], type: "float" }),
          depth: !1,
          stencil: !1,
        });
    }
    initPrograms() {
      let { reglInstance: e, config: i, store: r, points: n } = this;
      this.runCommand = e({
        frag: () => H4(this.maxPointDegree),
        vert: Dr,
        framebuffer: () => n?.velocityFbo,
        primitive: "triangle strip",
        count: 4,
        attributes: { quad: Lr(e) },
        uniforms: {
          position: () => n?.previousPositionFbo,
          linkSpring: () => {
            var a;
            return (a = i.simulation) === null || a === void 0
              ? void 0
              : a.linkSpring;
          },
          linkDistance: () => {
            var a;
            return (a = i.simulation) === null || a === void 0
              ? void 0
              : a.linkDistance;
          },
          linkDistRandomVariationRange: () => {
            var a;
            return (a = i.simulation) === null || a === void 0 ? void 0
            : a.linkDistRandomVariationRange;
          },
          linkFirstIndicesAndAmount: () => this.linkFirstIndicesAndAmountFbo,
          linkIndices: () => this.indicesFbo,
          linkBiasAndStrength: () => this.biasAndStrengthFbo,
          linkRandomDistanceFbo: () => this.randomDistanceFbo,
          pointsTextureSize: () => r.pointsTextureSize,
          linksTextureSize: () => r.linksTextureSize,
          alpha: () => r.alpha,
        },
      });
    }
    run() {
      var e;
      (e = this.runCommand) === null || e === void 0 || e.call(this);
    }
    destroy() {
      Zi(this.linkFirstIndicesAndAmountFbo),
        Zi(this.indicesFbo),
        Zi(this.biasAndStrengthFbo),
        Zi(this.randomDistanceFbo);
    }
  },
  bb = `#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec4 rgba;void main(){gl_FragColor=rgba;}`,
  yb = `#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float pointsTextureSize;uniform float levelTextureSize;uniform float cellSize;attribute vec2 indexes;varying vec4 rgba;void main(){vec4 pointPosition=texture2D(position,indexes/pointsTextureSize);rgba=vec4(pointPosition.rg,1.0,0.0);float n=floor(pointPosition.x/cellSize);float m=floor(pointPosition.y/cellSize);vec2 levelPosition=2.0*(vec2(n,m)+0.5)/levelTextureSize-1.0;gl_Position=vec4(levelPosition,0.0,1.0);gl_PointSize=1.0;}`,
  j4 = `#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D levelFbo;uniform float level;uniform float levels;uniform float levelTextureSize;uniform float repulsion;uniform float alpha;uniform float spaceSize;uniform float theta;varying vec2 index;const float MAX_LEVELS_NUM=14.0;vec2 calcAdd(vec2 ij,vec2 pp){vec2 add=vec2(0.0);vec4 centermass=texture2D(levelFbo,ij);if(centermass.r>0.0&&centermass.g>0.0&&centermass.b>0.0){vec2 centermassPosition=vec2(centermass.rg/centermass.b);vec2 distVector=pp-centermassPosition;float l=dot(distVector,distVector);float dist=sqrt(l);if(l>0.0){float angle=atan(distVector.y,distVector.x);float c=alpha*repulsion*centermass.b;float distanceMin2=1.0;if(l<distanceMin2)l=sqrt(distanceMin2*l);float addV=c/sqrt(l);add=addV*vec2(cos(angle),sin(angle));}}return add;}void main(){vec4 pointPosition=texture2D(position,index);float x=pointPosition.x;float y=pointPosition.y;float left=0.0;float top=0.0;float right=spaceSize;float bottom=spaceSize;float n_left=0.0;float n_top=0.0;float n_right=0.0;float n_bottom=0.0;float cellSize=0.0;for(float i=0.0;i<MAX_LEVELS_NUM;i+=1.0){if(i<=level){left+=cellSize*n_left;top+=cellSize*n_top;right-=cellSize*n_right;bottom-=cellSize*n_bottom;cellSize=pow(2.0,levels-i-1.0);float dist_left=x-left;n_left=max(0.0,floor(dist_left/cellSize-theta));float dist_top=y-top;n_top=max(0.0,floor(dist_top/cellSize-theta));float dist_right=right-x;n_right=max(0.0,floor(dist_right/cellSize-theta));float dist_bottom=bottom-y;n_bottom=max(0.0,floor(dist_bottom/cellSize-theta));}}vec4 velocity=vec4(vec2(0.0),1.0,0.0);for(float i=0.0;i<12.0;i+=1.0){for(float j=0.0;j<4.0;j+=1.0){float n=left+cellSize*j;float m=top+cellSize*n_top+cellSize*i;if(n<(left+n_left*cellSize)&&m<bottom){velocity.xy+=calcAdd(vec2(n/cellSize,m/cellSize)/levelTextureSize,pointPosition.xy);}n=left+cellSize*i;m=top+cellSize*j;if(n<(right-n_right*cellSize)&&m<(top+n_top*cellSize)){velocity.xy+=calcAdd(vec2(n/cellSize,m/cellSize)/levelTextureSize,pointPosition.xy);}n=right-n_right*cellSize+cellSize*j;m=top+cellSize*i;if(n<right&&m<(bottom-n_bottom*cellSize)){velocity.xy+=calcAdd(vec2(n/cellSize,m/cellSize)/levelTextureSize,pointPosition.xy);}n=left+n_left*cellSize+cellSize*i;m=bottom-n_bottom*cellSize+cellSize*j;if(n<right&&m<bottom){velocity.xy+=calcAdd(vec2(n/cellSize,m/cellSize)/levelTextureSize,pointPosition.xy);}}}gl_FragColor=velocity;}`,
  V4 = `#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D levelFbo;uniform sampler2D randomValues;uniform float levelTextureSize;uniform float repulsion;uniform float alpha;varying vec2 index;vec2 calcAdd(vec2 ij,vec2 pp){vec2 add=vec2(0.0);vec4 centermass=texture2D(levelFbo,ij);if(centermass.r>0.0&&centermass.g>0.0&&centermass.b>0.0){vec2 centermassPosition=vec2(centermass.rg/centermass.b);vec2 distVector=pp-centermassPosition;float l=dot(distVector,distVector);float dist=sqrt(l);if(l>0.0){float angle=atan(distVector.y,distVector.x);float c=alpha*repulsion*centermass.b;float distanceMin2=1.0;if(l<distanceMin2)l=sqrt(distanceMin2*l);float addV=c/sqrt(l);add=addV*vec2(cos(angle),sin(angle));}}return add;}void main(){vec4 pointPosition=texture2D(position,index);vec4 random=texture2D(randomValues,index);vec4 velocity=vec4(0.0);velocity.xy+=calcAdd(pointPosition.xy/levelTextureSize,pointPosition.xy);velocity.xy+=velocity.xy*random.rg;gl_FragColor=velocity;}`,
  jh = class extends jn {
    constructor() {
      super(...arguments), this.levelsFbos = new Map(), this.quadtreeLevels = 0;
    }
    create() {
      let { reglInstance: e, store: i } = this;
      if (!i.pointsTextureSize) return;
      this.quadtreeLevels = Math.log2(i.adjustedSpaceSize);
      for (let n = 0; n < this.quadtreeLevels; n += 1) {
        let a = Math.pow(2, n + 1);
        this.levelsFbos.set(
          `level[${n}]`,
          e.framebuffer({
            shape: [a, a],
            colorType: "float",
            depth: !1,
            stencil: !1,
          }),
        );
      }
      let r = new Float32Array(i.pointsTextureSize * i.pointsTextureSize * 4);
      for (let n = 0; n < i.pointsTextureSize * i.pointsTextureSize; ++n) {
        r[n * 4] = i.getRandomFloat(-1, 1) * 1e-5,
          r[n * 4 + 1] = i.getRandomFloat(-1, 1) * 1e-5;
      }
      this.randomValuesFbo = e.framebuffer({
        color: e.texture({
          data: r,
          shape: [i.pointsTextureSize, i.pointsTextureSize, 4],
          type: "float",
        }),
        depth: !1,
        stencil: !1,
      });
    }
    initPrograms() {
      let { reglInstance: e, config: i, store: r, data: n, points: a } = this;
      this.clearLevelsCommand = e({
        frag: Ls,
        vert: Dr,
        framebuffer: (o, s) => s.levelFbo,
        primitive: "triangle strip",
        count: 4,
        attributes: { quad: Lr(e) },
      }),
        this.calculateLevelsCommand = e({
          frag: bb,
          vert: yb,
          framebuffer: (o, s) => s.levelFbo,
          primitive: "points",
          count: () => n.nodes.length,
          attributes: { indexes: Cs(e, r.pointsTextureSize) },
          uniforms: {
            position: () => a?.previousPositionFbo,
            pointsTextureSize: () => r.pointsTextureSize,
            levelTextureSize: (o, s) => s.levelTextureSize,
            cellSize: (o, s) => s.cellSize,
          },
          blend: {
            enable: !0,
            func: { src: "one", dst: "one" },
            equation: { rgb: "add", alpha: "add" },
          },
          depth: { enable: !1, mask: !1 },
          stencil: { enable: !1 },
        }),
        this.forceCommand = e({
          frag: j4,
          vert: Dr,
          framebuffer: () => a?.velocityFbo,
          primitive: "triangle strip",
          count: 4,
          attributes: { quad: Lr(e) },
          uniforms: {
            position: () => a?.previousPositionFbo,
            level: (o, s) => s.level,
            levels: this.quadtreeLevels,
            levelFbo: (o, s) => s.levelFbo,
            levelTextureSize: (o, s) => s.levelTextureSize,
            alpha: () => r.alpha,
            repulsion: () => {
              var o;
              return (o = i.simulation) === null || o === void 0
                ? void 0
                : o.repulsion;
            },
            spaceSize: () => r.adjustedSpaceSize,
            theta: () => {
              var o;
              return (o = i.simulation) === null || o === void 0 ? void 0
              : o.repulsionTheta;
            },
          },
          blend: {
            enable: !0,
            func: { src: "one", dst: "one" },
            equation: { rgb: "add", alpha: "add" },
          },
          depth: { enable: !1, mask: !1 },
          stencil: { enable: !1 },
        }),
        this.forceFromItsOwnCentermassCommand = e({
          frag: V4,
          vert: Dr,
          framebuffer: () => a?.velocityFbo,
          primitive: "triangle strip",
          count: 4,
          attributes: { quad: Lr(e) },
          uniforms: {
            position: () => a?.previousPositionFbo,
            randomValues: () => this.randomValuesFbo,
            levelFbo: (o, s) => s.levelFbo,
            levelTextureSize: (o, s) => s.levelTextureSize,
            alpha: () => r.alpha,
            repulsion: () => {
              var o;
              return (o = i.simulation) === null || o === void 0
                ? void 0
                : o.repulsion;
            },
            spaceSize: () => r.adjustedSpaceSize,
          },
          blend: {
            enable: !0,
            func: { src: "one", dst: "one" },
            equation: { rgb: "add", alpha: "add" },
          },
          depth: { enable: !1, mask: !1 },
          stencil: { enable: !1 },
        }),
        this.clearVelocityCommand = e({
          frag: Ls,
          vert: Dr,
          framebuffer: () => a?.velocityFbo,
          primitive: "triangle strip",
          count: 4,
          attributes: { quad: Lr(e) },
        });
    }
    run() {
      var e, i, r, n, a;
      let { store: o } = this;
      for (let s = 0; s < this.quadtreeLevels; s += 1) {
        (e = this.clearLevelsCommand) === null || e === void 0
          || e.call(this, { levelFbo: this.levelsFbos.get(`level[${s}]`) });
        let l = Math.pow(2, s + 1), d = o.adjustedSpaceSize / l;
        (i = this.calculateLevelsCommand) === null || i === void 0
          || i.call(this, {
            levelFbo: this.levelsFbos.get(`level[${s}]`),
            levelTextureSize: l,
            cellSize: d,
          });
      }
      (r = this.clearVelocityCommand) === null || r === void 0 || r.call(this);
      for (let s = 0; s < this.quadtreeLevels; s += 1) {
        let l = Math.pow(2, s + 1);
        (n = this.forceCommand) === null || n === void 0
        || n.call(this, {
          levelFbo: this.levelsFbos.get(`level[${s}]`),
          levelTextureSize: l,
          level: s,
        }),
          s === this.quadtreeLevels - 1
          && ((a = this.forceFromItsOwnCentermassCommand) === null
            || a === void 0
            || a.call(this, {
              levelFbo: this.levelsFbos.get(`level[${s}]`),
              levelTextureSize: l,
              level: s,
            }));
      }
    }
    destroy() {
      Zi(this.randomValuesFbo),
        this.levelsFbos.forEach(e => {
          Zi(e);
        }),
        this.levelsFbos.clear();
    }
  };
function q4(t, e) {
  t = Math.min(t, e);
  let i = e - t,
    r = `
    float dist = sqrt(l);
    if (dist > 0.0) {
      float c = alpha * repulsion * centermass.b;
      addVelocity += calcAdd(vec2(x, y), l, c);
      addVelocity += addVelocity * random.rg;
    }
  `;
  function n(a) {
    if (a >= e) return r;
    {
      let o = Math.pow(2, a + 1),
        s = new Array(a + 1 - i).fill(0).map((d, c) =>
          `pow(2.0, ${a - (c + i)}.0) * i${c + i}`
        ).join("+"),
        l = new Array(a + 1 - i).fill(0).map((d, c) =>
          `pow(2.0, ${a - (c + i)}.0) * j${c + i}`
        ).join("+");
      return `
      for (float ij${a} = 0.0; ij${a} < 4.0; ij${a} += 1.0) {
        float i${a} = 0.0;
        float j${a} = 0.0;
        if (ij${a} == 1.0 || ij${a} == 3.0) i${a} = 1.0;
        if (ij${a} == 2.0 || ij${a} == 3.0) j${a} = 1.0;
        float i = pow(2.0, ${t}.0) * n / width${a + 1} + ${s};
        float j = pow(2.0, ${t}.0) * m / width${a + 1} + ${l};
        float groupPosX = (i + 0.5) / ${o}.0;
        float groupPosY = (j + 0.5) / ${o}.0;
        
        vec4 centermass = texture2D(level[${a}], vec2(groupPosX, groupPosY));
        if (centermass.r > 0.0 && centermass.g > 0.0 && centermass.b > 0.0) {
          float x = centermass.r / centermass.b - pointPosition.r;
          float y = centermass.g / centermass.b - pointPosition.g;
          float l = x * x + y * y;
          if ((width${a + 1} * width${a + 1}) / theta < l) {
            ${r}
          } else {
            ${n(a + 1)}
          }
        }
      }
      `;
    }
  }
  return `
#ifdef GL_ES
precision highp float;
#endif

uniform sampler2D position;
uniform sampler2D randomValues;
uniform float spaceSize;
uniform float repulsion;
uniform float theta;
uniform float alpha;
uniform sampler2D level[${e}];
varying vec2 index;

vec2 calcAdd(vec2 xy, float l, float c) {
  float distanceMin2 = 1.0;
  if (l < distanceMin2) l = sqrt(distanceMin2 * l);
  float add = c / l;
  return add * xy;
}

void main() {
  vec4 pointPosition = texture2D(position, index);
  vec4 random = texture2D(randomValues, index);

  float width0 = spaceSize;

  vec2 velocity = vec2(0.0);
  vec2 addVelocity = vec2(0.0);

  ${
    new Array(e).fill(0).map((a, o) => `float width${o + 1} = width${o} / 2.0;`)
      .join(`
`)
  }

  for (float n = 0.0; n < pow(2.0, ${i}.0); n += 1.0) {
    for (float m = 0.0; m < pow(2.0, ${i}.0); m += 1.0) {
      ${n(i)}
    }
  }

  velocity -= addVelocity;

  gl_FragColor = vec4(velocity, 0.0, 0.0);
}
`;
}
var Vh = class extends jn {
    constructor() {
      super(...arguments), this.levelsFbos = new Map(), this.quadtreeLevels = 0;
    }
    create() {
      let { reglInstance: e, store: i } = this;
      if (!i.pointsTextureSize) return;
      this.quadtreeLevels = Math.log2(i.adjustedSpaceSize);
      for (let n = 0; n < this.quadtreeLevels; n += 1) {
        let a = Math.pow(2, n + 1);
        this.levelsFbos.set(
          `level[${n}]`,
          e.framebuffer({
            color: e.texture({
              data: new Float32Array(a * a * 4),
              shape: [a, a, 4],
              type: "float",
            }),
            depth: !1,
            stencil: !1,
          }),
        );
      }
      let r = new Float32Array(i.pointsTextureSize * i.pointsTextureSize * 4);
      for (let n = 0; n < i.pointsTextureSize * i.pointsTextureSize; ++n) {
        r[n * 4] = i.getRandomFloat(-1, 1) * 1e-5,
          r[n * 4 + 1] = i.getRandomFloat(-1, 1) * 1e-5;
      }
      this.randomValuesFbo = e.framebuffer({
        color: e.texture({
          data: r,
          shape: [i.pointsTextureSize, i.pointsTextureSize, 4],
          type: "float",
        }),
        depth: !1,
        stencil: !1,
      });
    }
    initPrograms() {
      var e, i;
      let { reglInstance: r, config: n, store: a, data: o, points: s } = this;
      this.clearLevelsCommand = r({
        frag: Ls,
        vert: Dr,
        framebuffer: (l, d) => d.levelFbo,
        primitive: "triangle strip",
        count: 4,
        attributes: { quad: Lr(r) },
      }),
        this.calculateLevelsCommand = r({
          frag: bb,
          vert: yb,
          framebuffer: (l, d) => d.levelFbo,
          primitive: "points",
          count: () => o.nodes.length,
          attributes: { indexes: Cs(r, a.pointsTextureSize) },
          uniforms: {
            position: () => s?.previousPositionFbo,
            pointsTextureSize: () => a.pointsTextureSize,
            levelTextureSize: (l, d) => d.levelTextureSize,
            cellSize: (l, d) => d.cellSize,
          },
          blend: {
            enable: !0,
            func: { src: "one", dst: "one" },
            equation: { rgb: "add", alpha: "add" },
          },
          depth: { enable: !1, mask: !1 },
          stencil: { enable: !1 },
        }),
        this.quadtreeCommand = r({
          frag: q4(
            (i = (e = n.simulation) === null || e === void 0
                  ? void 0
                  : e.repulsionQuadtreeLevels) !== null && i !== void 0
              ? i
              : this.quadtreeLevels,
            this.quadtreeLevels,
          ),
          vert: Dr,
          framebuffer: () => s?.velocityFbo,
          primitive: "triangle strip",
          count: 4,
          attributes: { quad: Lr(r) },
          uniforms: {
            position: () => s?.previousPositionFbo,
            randomValues: () => this.randomValuesFbo,
            spaceSize: () => a.adjustedSpaceSize,
            repulsion: () => {
              var l;
              return (l = n.simulation) === null || l === void 0
                ? void 0
                : l.repulsion;
            },
            theta: () => {
              var l;
              return (l = n.simulation) === null || l === void 0
                ? void 0
                : l.repulsionTheta;
            },
            alpha: () => a.alpha,
            ...Object.fromEntries(this.levelsFbos),
          },
        });
    }
    run() {
      var e, i, r;
      let { store: n } = this;
      for (let a = 0; a < this.quadtreeLevels; a += 1) {
        (e = this.clearLevelsCommand) === null || e === void 0
          || e.call(this, { levelFbo: this.levelsFbos.get(`level[${a}]`) });
        let o = Math.pow(2, a + 1), s = n.adjustedSpaceSize / o;
        (i = this.calculateLevelsCommand) === null || i === void 0
          || i.call(this, {
            levelFbo: this.levelsFbos.get(`level[${a}]`),
            levelTextureSize: o,
            cellSize: s,
          });
      }
      (r = this.quadtreeCommand) === null || r === void 0 || r.call(this);
    }
    destroy() {
      Zi(this.randomValuesFbo),
        this.levelsFbos.forEach(e => {
          Zi(e);
        }),
        this.levelsFbos.clear();
    }
  },
  W4 = `#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float repulsion;uniform vec2 mousePos;varying vec2 index;void main(){vec4 pointPosition=texture2D(position,index);vec4 velocity=vec4(0.0);vec2 mouse=mousePos;vec2 distVector=mouse-pointPosition.rg;float dist=sqrt(dot(distVector,distVector));dist=max(dist,10.0);float angle=atan(distVector.y,distVector.x);float addV=100.0*repulsion/(dist*dist);velocity.rg-=addV*vec2(cos(angle),sin(angle));gl_FragColor=velocity;}`,
  qh = class extends jn {
    initPrograms() {
      let { reglInstance: e, config: i, store: r, points: n } = this;
      this.runCommand = e({
        frag: W4,
        vert: Dr,
        framebuffer: () => n?.velocityFbo,
        primitive: "triangle strip",
        count: 4,
        attributes: { quad: Lr(e) },
        uniforms: {
          position: () => n?.previousPositionFbo,
          mousePos: () => r.mousePosition,
          repulsion: () => {
            var a;
            return (a = i.simulation) === null || a === void 0
              ? void 0
              : a.repulsionFromMouse;
          },
        },
      });
    }
    run() {
      var e;
      (e = this.runCommand) === null || e === void 0 || e.call(this);
    }
  },
  Y4 = typeof globalThis < "u"
    ? globalThis
    : typeof window < "u"
    ? window
    : typeof global < "u"
    ? global
    : typeof self < "u"
    ? self
    : {},
  wb = { exports: {} };
(function(t, e) {
  (function(i, r) {
    t.exports = r();
  })(Y4, function() {
    var i = `<div class="gl-box">
  <svg viewBox="0 0 55 60">
    <text x="27" y="56" class="gl-fps">00 FPS</text>
    <text x="28" y="8" class="gl-mem"></text>
    <rect x="0" y="14" rx="4" ry="4" width="55" height="32"></rect>
    <polyline class="gl-chart"></polyline>
  </svg>
  <svg viewBox="0 0 14 60" class="gl-cpu-svg">
    <line x1="7" y1="38" x2="7" y2="11" class="opacity"/>
    <line x1="7" y1="38" x2="7" y2="11" class="gl-cpu" stroke-dasharray="0 27"/>
    <path d="M5.35 43c-.464 0-.812.377-.812.812v1.16c-.783.1972-1.421.812-1.595 1.624h-1.16c-.435 0-.812.348-.812.812s.348.812.812.812h1.102v1.653H1.812c-.464 0-.812.377-.812.812 0 .464.377.812.812.812h1.131c.1943.783.812 1.392 1.595 1.595v1.131c0 .464.377.812.812.812.464 0 .812-.377.812-.812V53.15h1.653v1.073c0 .464.377.812.812.812.464 0 .812-.377.812-.812v-1.131c.783-.1943 1.392-.812 1.595-1.595h1.131c.464 0 .812-.377.812-.812 0-.464-.377-.812-.812-.812h-1.073V48.22h1.102c.435 0 .812-.348.812-.812s-.348-.812-.812-.812h-1.16c-.1885-.783-.812-1.421-1.595-1.624v-1.131c0-.464-.377-.812-.812-.812-.464 0-.812.377-.812.812v1.073H6.162v-1.073c0-.464-.377-.812-.812-.812zm.58 3.48h2.088c.754 0 1.363.609 1.363 1.363v2.088c0 .754-.609 1.363-1.363 1.363H5.93c-.754 0-1.363-.609-1.363-1.363v-2.088c0-.754.609-1.363 1.363-1.363z"/>
  </svg>
  <svg viewBox="0 0 14 60" class="gl-gpu-svg">
    <line x1="7" y1="38" x2="7" y2="11" class="opacity"/>
    <line x1="7" y1="38" x2="7" y2="11" class="gl-gpu" stroke-dasharray="0 27"/>
    <path d="M1.94775 43.3772a.736.736 0 10-.00416 1.472c.58535.00231.56465.1288.6348.3197.07015.18975.04933.43585.04933.43585l-.00653.05405v8.671a.736.736 0 101.472 0v-1.4145c.253.09522.52785.1495.81765.1495h5.267c1.2535 0 2.254-.9752 2.254-2.185v-3.105c0-1.2075-1.00625-2.185-2.254-2.185h-5.267c-.28865 0-.5635.05405-.8165.1495.01806-.16445.04209-.598-.1357-1.0787-.22425-.6072-.9499-1.2765-2.0125-1.2765zm2.9095 3.6455c.42435 0 .7659.36225.7659.8119v2.9785c0 .44965-.34155.8119-.7659.8119s-.7659-.36225-.7659-.8119v-2.9785c0-.44965.34155-.8119.7659-.8119zm4.117 0a2.3 2.3 0 012.3 2.3 2.3 2.3 0 01-2.3 2.3 2.3 2.3 0 01-2.3-2.3 2.3 2.3 0 012.3-2.3z"/>
  </svg>
</div>`,
      r = `#gl-bench {
  position:absolute;
  left:0;
  top:0;
  z-index:1000;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
}

#gl-bench div {
  position: relative;
  display: block;
  margin: 4px;
  padding: 0 7px 0 10px;
  background: #6c6;
  border-radius: 15px;
  cursor: pointer;
  opacity: 0.9;
}

#gl-bench svg {
  height: 60px;
  margin: 0 -1px;
}

#gl-bench text {
  font-size: 12px;
  font-family: Helvetica,Arial,sans-serif;
  font-weight: 700;
  dominant-baseline: middle;
  text-anchor: middle;
}

#gl-bench .gl-mem {
  font-size: 9px;
}

#gl-bench line {
  stroke-width: 5;
  stroke: #112211;
  stroke-linecap: round;
}

#gl-bench polyline {
  fill: none;
  stroke: #112211;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-width: 3.5;
}

#gl-bench rect {
  fill: #448844;
}

#gl-bench .opacity {
  stroke: #448844;
}
`;
    class n {
      constructor(o, s = {}) {
        this.css = r,
          this.svg = i,
          this.paramLogger = () => {},
          this.chartLogger = () => {},
          this.chartLen = 20,
          this.chartHz = 20,
          this.names = [],
          this.cpuAccums = [],
          this.gpuAccums = [],
          this.activeAccums = [],
          this.chart = new Array(this.chartLen),
          this.now = () =>
            performance && performance.now ? performance.now() : Date.now(),
          this.updateUI = () => {
            [].forEach.call(this.nodes["gl-gpu-svg"], f => {
              f.style.display = this.trackGPU ? "inline" : "none";
            });
          },
          Object.assign(this, s),
          this.detected = 0,
          this.finished = [],
          this.isFramebuffer = 0,
          this.frameId = 0;
        let l,
          d = 0,
          c,
          u = f => {
            ++d < 20
              ? l = requestAnimationFrame(u)
              : (this.detected = Math.ceil(1e3 * d / (f - c) / 70),
                cancelAnimationFrame(l)), c || (c = f);
          };
        if (requestAnimationFrame(u), o) {
          let f = async (x, S) =>
              Promise.resolve(setTimeout(() => {
                o.getError();
                let p = this.now() - x;
                S.forEach((y, E) => {
                  y && (this.gpuAccums[E] += p);
                });
              }, 0)),
            h = (x, S, p) =>
              function() {
                let y = S.now();
                x.apply(p, arguments),
                  S.trackGPU && S.finished.push(f(y, S.activeAccums.slice(0)));
              };
          [
            "drawArrays",
            "drawElements",
            "drawArraysInstanced",
            "drawBuffers",
            "drawElementsInstanced",
            "drawRangeElements",
          ].forEach(x => {
            o[x] && (o[x] = h(o[x], this, o));
          }),
            o.getExtension = ((x, S) =>
              function() {
                let p = x.apply(o, arguments);
                return p
                  && ["drawElementsInstancedANGLE", "drawBuffersWEBGL"].forEach(
                    y => {
                      p[y] && (p[y] = h(p[y], S, p));
                    },
                  ),
                  p;
              })(o.getExtension, this);
        }
        if (!this.withoutUI) {
          this.dom || (this.dom = document.body);
          let f = document.createElement("div");
          f.id = "gl-bench",
            this.dom.appendChild(f),
            this.dom.insertAdjacentHTML(
              "afterbegin",
              "<style id=\"gl-bench-style\">" + this.css + "</style>",
            ),
            this.dom = f,
            this.dom.addEventListener("click", () => {
              this.trackGPU = !this.trackGPU, this.updateUI();
            }),
            this.paramLogger = ((h, x, S) => {
              let p = [
                  "gl-cpu",
                  "gl-gpu",
                  "gl-mem",
                  "gl-fps",
                  "gl-gpu-svg",
                  "gl-chart",
                ],
                y = Object.assign({}, p);
              return p.forEach(E => y[E] = x.getElementsByClassName(E)),
                this.nodes = y,
                (E, g, _, $, z, I, D) => {
                  y["gl-cpu"][E].style.strokeDasharray = (g * .27).toFixed(0)
                    + " 100",
                    y["gl-gpu"][E].style.strokeDasharray = (_ * .27).toFixed(0)
                      + " 100",
                    y["gl-mem"][E].innerHTML = S[E] ? S[E] : $
                      ? "mem: " + $.toFixed(0) + "mb"
                      : "",
                    y["gl-fps"][E].innerHTML = z.toFixed(0) + " FPS",
                    h(S[E], g, _, $, z, I, D);
                };
            })(this.paramLogger, this.dom, this.names),
            this.chartLogger = ((h, x) => {
              let S = { "gl-chart": x.getElementsByClassName("gl-chart") };
              return (p, y, E) => {
                let g = "", _ = y.length;
                for (let $ = 0; $ < _; $++) {
                  let z = (E + $ + 1) % _;
                  y[z] != null
                    && (g = g + " " + (55 * $ / (_ - 1)).toFixed(1) + ","
                      + (45 - y[z] * 22 / 60 / this.detected).toFixed(1));
                }
                S["gl-chart"][p].setAttribute("points", g),
                  h(this.names[p], y, E);
              };
            })(this.chartLogger, this.dom);
        }
      }
      addUI(o) {
        this.names.indexOf(o) == -1
          && (this.names.push(o),
            this.dom
            && (this.dom.insertAdjacentHTML("beforeend", this.svg),
              this.updateUI()),
            this.cpuAccums.push(0),
            this.gpuAccums.push(0),
            this.activeAccums.push(!1));
      }
      nextFrame(o) {
        this.frameId++;
        let s = o || this.now();
        if (this.frameId <= 1) {
          this.paramFrame = this.frameId, this.paramTime = s;
        }
        else {
          let l = s - this.paramTime;
          if (l >= 1e3) {
            let d = this.frameId - this.paramFrame, c = d / l * 1e3;
            for (let u = 0; u < this.names.length; u++) {
              let f = this.cpuAccums[u] / l * 100,
                h = this.gpuAccums[u] / l * 100,
                x = performance && performance.memory
                  ? performance.memory.usedJSHeapSize / (1 << 20)
                  : 0;
              this.paramLogger(u, f, h, x, c, l, d),
                this.cpuAccums[u] = 0,
                Promise.all(this.finished).then(() => {
                  this.gpuAccums[u] = 0, this.finished = [];
                });
            }
            this.paramFrame = this.frameId, this.paramTime = s;
          }
        }
        if (!this.detected || !this.chartFrame) {
          this.chartFrame = this.frameId,
            this.chartTime = s,
            this.circularId = 0;
        }
        else {
          let l = s - this.chartTime, d = this.chartHz * l / 1e3;
          for (; --d > 0 && this.detected;) {
            let u = (this.frameId - this.chartFrame) / l * 1e3;
            this.chart[this.circularId % this.chartLen] = u;
            for (let f = 0; f < this.names.length; f++) {
              this.chartLogger(f, this.chart, this.circularId);
            }
            this.circularId++,
              this.chartFrame = this.frameId,
              this.chartTime = s;
          }
        }
      }
      begin(o) {
        this.updateAccums(o);
      }
      end(o) {
        this.updateAccums(o);
      }
      updateAccums(o) {
        let s = this.names.indexOf(o);
        s == -1 && (s = this.names.length, this.addUI(o));
        let l = this.now(), d = l - this.t0;
        for (let c = 0; c < s + 1; c++) {
          this.activeAccums[c] && (this.cpuAccums[c] += d);
        }
        this.activeAccums[s] = !this.activeAccums[s], this.t0 = l;
      }
    }
    return n;
  });
})(wb);
var X4 = wb.exports,
  K4 = `
  #gl-bench {
    position:absolute;
    right:0;
    top:0;
    z-index:1000;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  #gl-bench div {
    position: relative;
    display: block;
    margin: 4px;
    padding: 0 7px 0 10px;
    background: #5f69de;
    border-radius: 15px;
    cursor: pointer;
    opacity: 0.9;
  }
  #gl-bench svg {
    height: 60px;
    margin: 0 -1px;
  }
  #gl-bench text {
    font-size: 12px;
    font-family: Helvetica,Arial,sans-serif;
    font-weight: 700;
    dominant-baseline: middle;
    text-anchor: middle;
  }
  #gl-bench .gl-mem {
    font-size: 9px;
  }
  #gl-bench line {
    stroke-width: 5;
    stroke: #112211;
    stroke-linecap: round;
  }
  #gl-bench polyline {
    fill: none;
    stroke: #112211;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke-width: 3.5;
  }
  #gl-bench rect {
    fill: #8288e4;
  }
  #gl-bench .opacity {
    stroke: #8288e4;
  }
`,
  Ru = class {
    constructor(e) {
      this.destroy();
      let i = e.getContext("webgl") || e.getContext("experimental-webgl");
      this.bench = new X4(i, { css: K4 });
    }
    begin() {
      var e;
      (e = this.bench) === null || e === void 0 || e.begin("frame");
    }
    end(e) {
      var i, r;
      (i = this.bench) === null || i === void 0 || i.end("frame"),
        (r = this.bench) === null || r === void 0 || r.nextFrame(e);
    }
    destroy() {
      this.bench = void 0, ai("#gl-bench").remove();
    }
  },
  Wh = class {
    constructor() {
      this.completeLinks = new Set(),
        this.degree = [],
        this.groupedSourceToTargetLinks = new Map(),
        this.groupedTargetToSourceLinks = new Map(),
        this._nodes = [],
        this._links = [],
        this.idToNodeMap = new Map(),
        this.sortedIndexToInputIndexMap = new Map(),
        this.inputIndexToSortedIndexMap = new Map(),
        this.idToSortedIndexMap = new Map(),
        this.inputIndexToIdMap = new Map(),
        this.idToIndegreeMap = new Map(),
        this.idToOutdegreeMap = new Map();
    }
    get nodes() {
      return this._nodes;
    }
    get links() {
      return this._links;
    }
    get linksNumber() {
      return this.completeLinks.size;
    }
    setData(e, i) {
      this.idToNodeMap.clear(),
        this.idToSortedIndexMap.clear(),
        this.inputIndexToIdMap.clear(),
        this.idToIndegreeMap.clear(),
        this.idToOutdegreeMap.clear(),
        e.forEach((n, a) => {
          this.idToNodeMap.set(n.id, n),
            this.inputIndexToIdMap.set(a, n.id),
            this.idToIndegreeMap.set(n.id, 0),
            this.idToOutdegreeMap.set(n.id, 0);
        }),
        this.completeLinks.clear(),
        i.forEach(n => {
          let a = this.idToNodeMap.get(n.source),
            o = this.idToNodeMap.get(n.target);
          if (a !== void 0 && o !== void 0) {
            this.completeLinks.add(n);
            let s = this.idToOutdegreeMap.get(a.id);
            s !== void 0 && this.idToOutdegreeMap.set(a.id, s + 1);
            let l = this.idToIndegreeMap.get(o.id);
            l !== void 0 && this.idToIndegreeMap.set(o.id, l + 1);
          }
        }),
        this.degree = new Array(e.length),
        e.forEach((n, a) => {
          let o = this.idToOutdegreeMap.get(n.id),
            s = this.idToIndegreeMap.get(n.id);
          this.degree[a] = (o ?? 0) + (s ?? 0);
        }),
        this.sortedIndexToInputIndexMap.clear(),
        this.inputIndexToSortedIndexMap.clear(),
        Object.entries(this.degree).sort((n, a) => n[1] - a[1]).forEach(
          ([n], a) => {
            let o = +n;
            this.sortedIndexToInputIndexMap.set(a, o),
              this.inputIndexToSortedIndexMap.set(o, a),
              this.idToSortedIndexMap.set(this.inputIndexToIdMap.get(o), a);
          },
        ),
        this.groupedSourceToTargetLinks.clear(),
        this.groupedTargetToSourceLinks.clear(),
        i.forEach(n => {
          let a = this.idToSortedIndexMap.get(n.source),
            o = this.idToSortedIndexMap.get(n.target);
          if (a !== void 0 && o !== void 0) {
            this.groupedSourceToTargetLinks.get(a) === void 0
              && this.groupedSourceToTargetLinks.set(a, new Set());
            let s = this.groupedSourceToTargetLinks.get(a);
            s?.add(o),
              this.groupedTargetToSourceLinks.get(o) === void 0
              && this.groupedTargetToSourceLinks.set(o, new Set());
            let l = this.groupedTargetToSourceLinks.get(o);
            l?.add(a);
          }
        }),
        this._nodes = e,
        this._links = i;
    }
    getNodeById(e) {
      return this.idToNodeMap.get(e);
    }
    getNodeByIndex(e) {
      return this._nodes[e];
    }
    getSortedIndexByInputIndex(e) {
      return this.inputIndexToSortedIndexMap.get(e);
    }
    getInputIndexBySortedIndex(e) {
      return this.sortedIndexToInputIndexMap.get(e);
    }
    getSortedIndexById(e) {
      return e !== void 0 ? this.idToSortedIndexMap.get(e) : void 0;
    }
    getInputIndexById(e) {
      if (e === void 0) return;
      let i = this.getSortedIndexById(e);
      if (i !== void 0) return this.getInputIndexBySortedIndex(i);
    }
    getAdjacentNodes(e) {
      var i, r;
      let n = this.getSortedIndexById(e);
      if (n === void 0) return;
      let a =
          (i = this.groupedSourceToTargetLinks.get(n)) !== null && i !== void 0
            ? i
            : [],
        o =
          (r = this.groupedTargetToSourceLinks.get(n)) !== null && r !== void 0
            ? r : [];
      return [...new Set([...a, ...o])].map(s =>
        this.getNodeByIndex(this.getInputIndexBySortedIndex(s))
      );
    }
  },
  Z4 = `precision highp float;
#define GLSLIFY 1
uniform bool useArrow;varying vec4 rgbaColor;varying vec2 pos;varying float arrowLength;varying float linkWidthArrowWidthRatio;varying float smoothWidthRatio;float map(float value,float min1,float max1,float min2,float max2){return min2+(value-min1)*(max2-min2)/(max1-min1);}void main(){float opacity=1.0;vec3 color=rgbaColor.rgb;float smoothDelta=smoothWidthRatio/2.0;if(useArrow){float end_arrow=0.5+arrowLength/2.0;float start_arrow=end_arrow-arrowLength;float arrowWidthDelta=linkWidthArrowWidthRatio/2.0;float linkOpacity=rgbaColor.a*smoothstep(0.5-arrowWidthDelta,0.5-arrowWidthDelta-smoothDelta,abs(pos.y));float arrowOpacity=1.0;if(pos.x>start_arrow&&pos.x<start_arrow+arrowLength){float xmapped=map(pos.x,start_arrow,end_arrow,0.0,1.0);arrowOpacity=rgbaColor.a*smoothstep(xmapped-smoothDelta,xmapped,map(abs(pos.y),0.5,0.0,0.0,1.0));if(linkOpacity!=arrowOpacity){linkOpacity+=arrowOpacity;}}opacity=linkOpacity;}else opacity=rgbaColor.a*smoothstep(0.5,0.5-smoothDelta,abs(pos.y));gl_FragColor=vec4(color,opacity);}`,
  J4 = `precision highp float;
#define GLSLIFY 1
attribute vec2 position,pointA,pointB;attribute vec4 color;attribute float width;uniform sampler2D positions;uniform sampler2D particleGreyoutStatus;uniform mat3 transform;uniform float pointsTextureSize;uniform float widthScale;uniform float nodeSizeScale;uniform bool useArrow;uniform float arrowSizeScale;uniform float spaceSize;uniform vec2 screenSize;uniform float ratio;uniform vec2 linkVisibilityDistanceRange;uniform float linkVisibilityMinTransparency;uniform float greyoutOpacity;uniform bool scaleNodesOnZoom;uniform float curvedWeight;uniform float curvedLinkControlPointDistance;uniform float curvedLinkSegments;varying vec4 rgbaColor;varying vec2 pos;varying float arrowLength;varying float linkWidthArrowWidthRatio;varying float smoothWidthRatio;float map(float value,float min1,float max1,float min2,float max2){return min2+(value-min1)*(max2-min2)/(max1-min1);}vec2 conicParametricCurve(vec2 A,vec2 B,vec2 ControlPoint,float t,float w){vec2 divident=(1.0-t)*(1.0-t)*A+2.0*(1.0-t)*t*w*ControlPoint+t*t*B;float divisor=(1.0-t)*(1.0-t)+2.0*(1.0-t)*t*w+t*t;return divident/divisor;}void main(){pos=position;vec2 pointTexturePosA=(pointA+0.5)/pointsTextureSize;vec2 pointTexturePosB=(pointB+0.5)/pointsTextureSize;vec4 greyoutStatusA=texture2D(particleGreyoutStatus,pointTexturePosA);vec4 greyoutStatusB=texture2D(particleGreyoutStatus,pointTexturePosB);vec4 pointPositionA=texture2D(positions,pointTexturePosA);vec4 pointPositionB=texture2D(positions,pointTexturePosB);vec2 a=pointPositionA.xy;vec2 b=pointPositionB.xy;vec2 xBasis=b-a;vec2 yBasis=normalize(vec2(-xBasis.y,xBasis.x));float linkDist=length(xBasis);float h=curvedLinkControlPointDistance;vec2 controlPoint=(a+b)/2.0+yBasis*linkDist*h;float linkDistPx=linkDist*transform[0][0];float linkWidth=width*widthScale;float k=2.0;float arrowWidth=max(5.0,linkWidth*k);arrowWidth*=arrowSizeScale;float arrowWidthPx=arrowWidth/transform[0][0];arrowLength=min(0.3,(0.866*arrowWidthPx*2.0)/linkDist);float smoothWidth=2.0;float arrowExtraWidth=arrowWidth-linkWidth;linkWidth+=smoothWidth/2.0;if(useArrow){linkWidth+=arrowExtraWidth;}smoothWidthRatio=smoothWidth/linkWidth;linkWidthArrowWidthRatio=arrowExtraWidth/linkWidth;float linkWidthPx=linkWidth/transform[0][0];vec3 rgbColor=color.rgb;float opacity=color.a*max(linkVisibilityMinTransparency,map(linkDistPx,linkVisibilityDistanceRange.g,linkVisibilityDistanceRange.r,0.0,1.0));if(greyoutStatusA.r>0.0||greyoutStatusB.r>0.0){opacity*=greyoutOpacity;}rgbaColor=vec4(rgbColor,opacity);float t=position.x;float w=curvedWeight;float tPrev=t-1.0/curvedLinkSegments;float tNext=t+1.0/curvedLinkSegments;vec2 pointCurr=conicParametricCurve(a,b,controlPoint,t,w);vec2 pointPrev=conicParametricCurve(a,b,controlPoint,max(0.0,tPrev),w);vec2 pointNext=conicParametricCurve(a,b,controlPoint,min(tNext,1.0),w);vec2 xBasisCurved=pointNext-pointPrev;vec2 yBasisCurved=normalize(vec2(-xBasisCurved.y,xBasisCurved.x));pointCurr+=yBasisCurved*linkWidthPx*position.y;vec2 p=2.0*pointCurr/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);gl_Position=vec4(final.rg,0,1);}`,
  Q4 = t => {
    let e = Xl().exponent(2).range([0, 1]).domain([-1, 1]),
      i = So(0, t).map(n => -.5 + n / t);
    i.push(.5);
    let r = new Array(i.length * 2);
    return i.forEach((n, a) => {
      r[a * 2] = [e(n * 2), .5], r[a * 2 + 1] = [e(n * 2), -.5];
    }),
      r;
  },
  Yh = class extends jn {
    create() {
      this.updateColor(), this.updateWidth(), this.updateCurveLineGeometry();
    }
    initPrograms() {
      let { reglInstance: e, config: i, store: r, data: n, points: a } = this,
        { pointsTextureSize: o } = r,
        s = [];
      n.completeLinks.forEach(d => {
        let c = n.getSortedIndexById(d.target),
          u = n.getSortedIndexById(d.source),
          f = u % o,
          h = Math.floor(u / o),
          x = c % o,
          S = Math.floor(c / o);
        s.push([f, h]), s.push([x, S]);
      });
      let l = e.buffer(s);
      this.drawCurveCommand = e({
        vert: J4,
        frag: Z4,
        attributes: {
          position: { buffer: () => this.curveLineBuffer, divisor: 0 },
          pointA: {
            buffer: () => l,
            divisor: 1,
            offset: Float32Array.BYTES_PER_ELEMENT * 0,
            stride: Float32Array.BYTES_PER_ELEMENT * 4,
          },
          pointB: {
            buffer: () => l,
            divisor: 1,
            offset: Float32Array.BYTES_PER_ELEMENT * 2,
            stride: Float32Array.BYTES_PER_ELEMENT * 4,
          },
          color: {
            buffer: () => this.colorBuffer,
            divisor: 1,
            offset: Float32Array.BYTES_PER_ELEMENT * 0,
            stride: Float32Array.BYTES_PER_ELEMENT * 4,
          },
          width: {
            buffer: () => this.widthBuffer,
            divisor: 1,
            offset: Float32Array.BYTES_PER_ELEMENT * 0,
            stride: Float32Array.BYTES_PER_ELEMENT * 1,
          },
        },
        uniforms: {
          positions: () => a?.currentPositionFbo,
          particleGreyoutStatus: () => a?.greyoutStatusFbo,
          transform: () => r.transform,
          pointsTextureSize: () => r.pointsTextureSize,
          nodeSizeScale: () => i.nodeSizeScale,
          widthScale: () => i.linkWidthScale,
          useArrow: () => i.linkArrows,
          arrowSizeScale: () => i.linkArrowsSizeScale,
          spaceSize: () => r.adjustedSpaceSize,
          screenSize: () => r.screenSize,
          ratio: () => i.pixelRatio,
          linkVisibilityDistanceRange: () => i.linkVisibilityDistanceRange,
          linkVisibilityMinTransparency: () => i.linkVisibilityMinTransparency,
          greyoutOpacity: () => i.linkGreyoutOpacity,
          scaleNodesOnZoom: () => i.scaleNodesOnZoom,
          curvedWeight: () => i.curvedLinkWeight,
          curvedLinkControlPointDistance: () =>
            i.curvedLinkControlPointDistance,
          curvedLinkSegments: () => {
            var d;
            return i.curvedLinks
              ? (d = i.curvedLinkSegments) !== null && d !== void 0
                ? d
                : Mt.curvedLinkSegments
              : 1;
          },
        },
        cull: { enable: !0, face: "back" },
        blend: {
          enable: !0,
          func: {
            dstRGB: "one minus src alpha",
            srcRGB: "src alpha",
            dstAlpha: "one minus src alpha",
            srcAlpha: "one",
          },
          equation: { rgb: "add", alpha: "add" },
        },
        depth: { enable: !1, mask: !1 },
        count: () => {
          var d, c;
          return (c = (d = this.curveLineGeometry) === null || d === void 0
                  ? void 0
                  : d.length) !== null && c !== void 0 ? c : 0;
        },
        instances: () => n.linksNumber,
        primitive: "triangle strip",
      });
    }
    draw() {
      var e;
      !this.colorBuffer || !this.widthBuffer || !this.curveLineBuffer
        || (e = this.drawCurveCommand) === null || e === void 0 || e.call(this);
    }
    updateColor() {
      let { reglInstance: e, config: i, data: r } = this, n = [];
      r.completeLinks.forEach(a => {
        var o;
        let s = (o = Lu(a, i.linkColor)) !== null && o !== void 0 ? o : gb,
          l = ks(s);
        n.push(l);
      }), this.colorBuffer = e.buffer(n);
    }
    updateWidth() {
      let { reglInstance: e, config: i, data: r } = this, n = [];
      r.completeLinks.forEach(a => {
        let o = Lu(a, i.linkWidth);
        n.push([o ?? vb]);
      }), this.widthBuffer = e.buffer(n);
    }
    updateCurveLineGeometry() {
      let {
        reglInstance: e,
        config: { curvedLinks: i, curvedLinkSegments: r },
      } = this;
      this.curveLineGeometry = Q4(i ? r ?? Mt.curvedLinkSegments : 1),
        this.curveLineBuffer = e.buffer(this.curveLineGeometry);
    }
    destroy() {
      Bh(this.colorBuffer), Bh(this.widthBuffer), Bh(this.curveLineBuffer);
    }
  };
function eC(t, e, i, r) {
  var n;
  if (i === 0) return;
  let a = new Float32Array(i * i * 4);
  for (let s = 0; s < t.nodes.length; ++s) {
    let l = t.getSortedIndexByInputIndex(s), d = t.nodes[s];
    if (d && l !== void 0) {
      let c = (n = Lu(d, r, s)) !== null && n !== void 0 ? n : hb, u = ks(c);
      a[l * 4 + 0] = u[0],
        a[l * 4 + 1] = u[1],
        a[l * 4 + 2] = u[2],
        a[l * 4 + 3] = u[3];
    }
  }
  let o = e.texture({ data: a, width: i, height: i, type: "float" });
  return e.framebuffer({ color: o, depth: !1, stencil: !1 });
}
function tC(t, e, i) {
  if (i === 0) return;
  let r = new Float32Array(i * i * 4).fill(t ? 1 : 0);
  if (t) for (let a of t) r[a * 4] = 0;
  let n = e.texture({ data: r, width: i, height: i, type: "float" });
  return e.framebuffer({ color: n, depth: !1, stencil: !1 });
}
var iC = `#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec2 index;varying vec3 rgbColor;varying float alpha;const float smoothing=0.9;void main(){if(alpha==0.0){discard;}float r=0.0;float delta=0.0;vec2 cxy=2.0*gl_PointCoord-1.0;r=dot(cxy,cxy);float opacity=alpha*(1.0-smoothstep(smoothing,1.0,r));gl_FragColor=vec4(rgbColor,opacity);}`,
  rC = `#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
attribute vec2 indexes;uniform sampler2D positions;uniform sampler2D particleColor;uniform sampler2D particleGreyoutStatus;uniform sampler2D particleSize;uniform float ratio;uniform mat3 transform;uniform float pointsTextureSize;uniform float sizeScale;uniform float spaceSize;uniform vec2 screenSize;uniform float greyoutOpacity;uniform bool scaleNodesOnZoom;varying vec2 index;varying vec3 rgbColor;varying float alpha;float pointSize(float size){float pSize;if(scaleNodesOnZoom){pSize=size*ratio*transform[0][0];}else{pSize=size*ratio*min(5.0,max(1.0,transform[0][0]*0.01));}return pSize;}void main(){index=indexes;vec4 pointPosition=texture2D(positions,(index+0.5)/pointsTextureSize);vec2 point=pointPosition.rg;vec2 p=2.0*point/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);gl_Position=vec4(final.rg,0,1);vec4 pSize=texture2D(particleSize,(index+0.5)/pointsTextureSize);float size=pSize.r*sizeScale;vec4 pColor=texture2D(particleColor,(index+0.5)/pointsTextureSize);rgbColor=pColor.rgb;gl_PointSize=pointSize(size);alpha=pColor.a;vec4 greyoutStatus=texture2D(particleGreyoutStatus,(index+0.5)/pointsTextureSize);if(greyoutStatus.r>0.0){alpha*=greyoutOpacity;}}`,
  nC = `#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D particleSize;uniform float sizeScale;uniform float spaceSize;uniform vec2 screenSize;uniform float ratio;uniform mat3 transform;uniform vec2 selection[2];uniform bool scaleNodesOnZoom;uniform float maxPointSize;varying vec2 index;float pointSize(float size){float pSize;if(scaleNodesOnZoom){pSize=size*ratio*transform[0][0];}else{pSize=size*ratio*min(5.0,max(1.0,transform[0][0]*0.01));}return min(pSize,maxPointSize);}void main(){vec4 pointPosition=texture2D(position,index);vec2 p=2.0*pointPosition.rg/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);vec4 pSize=texture2D(particleSize,index);float size=pSize.r*sizeScale;float left=2.0*(selection[0].x-0.5*pointSize(size))/screenSize.x-1.0;float right=2.0*(selection[1].x+0.5*pointSize(size))/screenSize.x-1.0;float top=2.0*(selection[0].y-0.5*pointSize(size))/screenSize.y-1.0;float bottom=2.0*(selection[1].y+0.5*pointSize(size))/screenSize.y-1.0;gl_FragColor=vec4(0.0,0.0,pointPosition.rg);if(final.x>=left&&final.x<=right&&final.y>=top&&final.y<=bottom){gl_FragColor.r=1.0;}}`,
  aC = `precision mediump float;
#define GLSLIFY 1
uniform vec4 color;uniform float width;varying vec2 pos;varying float particleOpacity;const float smoothing=1.05;void main(){vec2 cxy=pos;float r=dot(cxy,cxy);float opacity=smoothstep(r,r*smoothing,1.0);float stroke=smoothstep(width,width*smoothing,r);gl_FragColor=vec4(color.rgb,opacity*stroke*color.a*particleOpacity);}`,
  oC = `precision mediump float;
#define GLSLIFY 1
attribute vec2 quad;uniform sampler2D positions;uniform sampler2D particleColor;uniform sampler2D particleGreyoutStatus;uniform sampler2D particleSize;uniform mat3 transform;uniform float pointsTextureSize;uniform float sizeScale;uniform float spaceSize;uniform vec2 screenSize;uniform bool scaleNodesOnZoom;uniform float pointIndex;uniform float maxPointSize;uniform vec4 color;uniform float greyoutOpacity;varying vec2 pos;varying float particleOpacity;float pointSize(float size){float pSize;if(scaleNodesOnZoom){pSize=size*transform[0][0];}else{pSize=size*min(5.0,max(1.0,transform[0][0]*0.01));}return min(pSize,maxPointSize);}const float relativeRingRadius=1.3;void main(){pos=quad;vec2 ij=vec2(mod(pointIndex,pointsTextureSize),floor(pointIndex/pointsTextureSize))+0.5;vec4 pointPosition=texture2D(positions,ij/pointsTextureSize);vec4 pSize=texture2D(particleSize,ij/pointsTextureSize);vec4 pColor=texture2D(particleColor,ij/pointsTextureSize);particleOpacity=pColor.a;vec4 greyoutStatus=texture2D(particleGreyoutStatus,ij/pointsTextureSize);if(greyoutStatus.r>0.0){particleOpacity*=greyoutOpacity;}float size=(pointSize(pSize.r*sizeScale)*relativeRingRadius)/transform[0][0];float radius=size*0.5;vec2 a=pointPosition.xy;vec2 b=pointPosition.xy+vec2(0.0,radius);vec2 xBasis=b-a;vec2 yBasis=normalize(vec2(-xBasis.y,xBasis.x));vec2 point=a+xBasis*quad.x+yBasis*radius*quad.y;vec2 p=2.0*point/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);gl_Position=vec4(final.rg,0,1);}`,
  sC = `#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec4 rgba;void main(){gl_FragColor=rgba;}`,
  lC = `#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float pointsTextureSize;uniform sampler2D particleSize;uniform float sizeScale;uniform float spaceSize;uniform vec2 screenSize;uniform float ratio;uniform mat3 transform;uniform vec2 mousePosition;uniform bool scaleNodesOnZoom;uniform float maxPointSize;attribute vec2 indexes;varying vec4 rgba;float pointSize(float size){float pSize;if(scaleNodesOnZoom){pSize=size*ratio*transform[0][0];}else{pSize=size*ratio*min(5.0,max(1.0,transform[0][0]*0.01));}return min(pSize,maxPointSize);}float euclideanDistance(float x1,float x2,float y1,float y2){return sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1));}void main(){vec4 pointPosition=texture2D(position,(indexes+0.5)/pointsTextureSize);vec2 p=2.0*pointPosition.rg/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);vec4 pSize=texture2D(particleSize,indexes/pointsTextureSize);float size=pSize.r*sizeScale;float pointRadius=0.5*pointSize(size);vec2 pointScreenPosition=(final.xy+1.0)*screenSize/2.0;rgba=vec4(0.0);gl_Position=vec4(0.5,0.5,0.0,1.0);if(euclideanDistance(pointScreenPosition.x,mousePosition.x,pointScreenPosition.y,mousePosition.y)<pointRadius){float index=indexes.g*pointsTextureSize+indexes.r;rgba=vec4(index,pSize.r,pointPosition.xy);gl_Position=vec4(-0.5,-0.5,0.0,1.0);}gl_PointSize=1.0;}`,
  dC = `#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec4 rgba;void main(){gl_FragColor=rgba;}`,
  cC = `#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float pointsTextureSize;uniform float spaceSize;uniform vec2 screenSize;uniform mat3 transform;attribute vec2 indexes;varying vec4 rgba;void main(){vec4 pointPosition=texture2D(position,(indexes+0.5)/pointsTextureSize);vec2 p=2.0*pointPosition.rg/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);vec2 pointScreenPosition=(final.xy+1.0)*screenSize/2.0;float index=indexes.g*pointsTextureSize+indexes.r;rgba=vec4(index,1.0,pointPosition.xy);float i=(pointScreenPosition.x+0.5)/screenSize.x;float j=(pointScreenPosition.y+0.5)/screenSize.y;gl_Position=vec4(2.0*vec2(i,j)-1.0,0.0,1.0);gl_PointSize=1.0;}`;
function uC(t, e, i) {
  let r = Lu(t, e, i);
  return r ?? pb;
}
function fC(t, e, i, r, n) {
  if (i === 0) return;
  let a = t.nodes.length, o = new Float32Array(i * i * 4);
  for (let l = 0; l < a; ++l) {
    let d = t.getSortedIndexByInputIndex(l), c = t.nodes[l];
    if (c && d !== void 0) {
      let u = uC(c, r, l);
      o[d * 4] = u, n[l] = u;
    }
  }
  let s = e.texture({ data: o, width: i, height: i, type: "float" });
  return e.framebuffer({ color: s, depth: !1, stencil: !1 });
}
var mC = `#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D velocity;uniform float friction;uniform float spaceSize;varying vec2 index;void main(){vec4 pointPosition=texture2D(position,index);vec4 pointVelocity=texture2D(velocity,index);pointVelocity.rg*=friction;pointPosition.rg+=pointVelocity.rg;pointPosition.r=clamp(pointPosition.r,0.0,spaceSize);pointPosition.g=clamp(pointPosition.g,0.0,spaceSize);gl_FragColor=pointPosition;}`;
function hC(t, e) {
  let i = Math.ceil(Math.sqrt(t.length));
  return e.framebuffer({
    shape: [i, i],
    depth: !1,
    stencil: !1,
    colorType: "float",
  });
}
function pC(t, e, i) {
  let r = Math.ceil(Math.sqrt(t.length));
  if (r === 0) return;
  let n = new Float32Array(r * r * 4).fill(-1);
  for (let [o, s] of t.entries()) {
    s !== void 0
      && (n[o * 4] = s % e,
        n[o * 4 + 1] = Math.floor(s / e),
        n[o * 4 + 2] = 0,
        n[o * 4 + 3] = 0);
  }
  let a = i.texture({ data: n, width: r, height: r, type: "float" });
  return i.framebuffer({ color: a, depth: !1, stencil: !1 });
}
var gC = `#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D trackedIndices;uniform float pointsTextureSize;varying vec2 index;void main(){vec4 trackedPointIndicies=texture2D(trackedIndices,index);if(trackedPointIndicies.r<0.0)discard;vec4 pointPosition=texture2D(position,(trackedPointIndicies.rg+0.5)/pointsTextureSize);gl_FragColor=vec4(pointPosition.rg,1.0,1.0);}`,
  Xh = class extends jn {
    constructor() {
      super(...arguments), this.trackedPositionsById = new Map();
    }
    create() {
      var e, i;
      let { reglInstance: r, store: n, data: a, config: o } = this,
        { pointsTextureSize: s, adjustedSpaceSize: l } = n;
      if (!s) return;
      let d = a.nodes.length, c = new Float32Array(s * s * 4);
      o.disableSimulation || this.rescaleInitialNodePositions();
      for (let u = 0; u < d; ++u) {
        let f = this.data.getSortedIndexByInputIndex(u), h = a.nodes[u];
        h && f !== void 0
          && (c[f * 4 + 0] = (e = h.x) !== null && e !== void 0
            ? e
            : l * n.getRandomFloat(.495, .505),
            c[f * 4 + 1] = (i = h.y) !== null && i !== void 0
              ? i
              : l * n.getRandomFloat(.495, .505));
      }
      this.currentPositionFbo = r.framebuffer({
        color: r.texture({ data: c, shape: [s, s, 4], type: "float" }),
        depth: !1,
        stencil: !1,
      }),
        this.config.disableSimulation
        || (this.previousPositionFbo = r.framebuffer({
          color: r.texture({ data: c, shape: [s, s, 4], type: "float" }),
          depth: !1,
          stencil: !1,
        }),
          this.velocityFbo = r.framebuffer({
            color: r.texture({
              data: new Float32Array(s * s * 4).fill(0),
              shape: [s, s, 4],
              type: "float",
            }),
            depth: !1,
            stencil: !1,
          })),
        this.selectedFbo = r.framebuffer({
          color: r.texture({ data: c, shape: [s, s, 4], type: "float" }),
          depth: !1,
          stencil: !1,
        }),
        this.hoveredFbo = r.framebuffer({
          shape: [2, 2],
          colorType: "float",
          depth: !1,
          stencil: !1,
        }),
        this.updateSize(),
        this.updateColor(),
        this.updateGreyoutStatus(),
        this.updateSampledNodesGrid();
    }
    initPrograms() {
      let { reglInstance: e, config: i, store: r, data: n } = this;
      i.disableSimulation
      || (this.updatePositionCommand = e({
        frag: mC,
        vert: Dr,
        framebuffer: () => this.currentPositionFbo,
        primitive: "triangle strip",
        count: 4,
        attributes: { quad: Lr(e) },
        uniforms: {
          position: () => this.previousPositionFbo,
          velocity: () => this.velocityFbo,
          friction: () => {
            var a;
            return (a = i.simulation) === null || a === void 0
              ? void 0
              : a.friction;
          },
          spaceSize: () => r.adjustedSpaceSize,
        },
      })),
        this.drawCommand = e({
          frag: iC,
          vert: rC,
          primitive: "points",
          count: () => n.nodes.length,
          attributes: { indexes: Cs(e, r.pointsTextureSize) },
          uniforms: {
            positions: () => this.currentPositionFbo,
            particleColor: () => this.colorFbo,
            particleGreyoutStatus: () => this.greyoutStatusFbo,
            particleSize: () => this.sizeFbo,
            ratio: () => i.pixelRatio,
            sizeScale: () => i.nodeSizeScale,
            pointsTextureSize: () => r.pointsTextureSize,
            transform: () => r.transform,
            spaceSize: () => r.adjustedSpaceSize,
            screenSize: () => r.screenSize,
            greyoutOpacity: () => i.nodeGreyoutOpacity,
            scaleNodesOnZoom: () => i.scaleNodesOnZoom,
          },
          blend: {
            enable: !0,
            func: {
              dstRGB: "one minus src alpha",
              srcRGB: "src alpha",
              dstAlpha: "one minus src alpha",
              srcAlpha: "one",
            },
            equation: { rgb: "add", alpha: "add" },
          },
          depth: { enable: !1, mask: !1 },
        }),
        this.findPointsOnAreaSelectionCommand = e({
          frag: nC,
          vert: Dr,
          framebuffer: () => this.selectedFbo,
          primitive: "triangle strip",
          count: 4,
          attributes: { quad: Lr(e) },
          uniforms: {
            position: () => this.currentPositionFbo,
            particleSize: () => this.sizeFbo,
            spaceSize: () => r.adjustedSpaceSize,
            screenSize: () => r.screenSize,
            sizeScale: () => i.nodeSizeScale,
            transform: () => r.transform,
            ratio: () => i.pixelRatio,
            "selection[0]": () => r.selectedArea[0],
            "selection[1]": () => r.selectedArea[1],
            scaleNodesOnZoom: () => i.scaleNodesOnZoom,
            maxPointSize: () => r.maxPointSize,
          },
        }),
        this.clearHoveredFboCommand = e({
          frag: Ls,
          vert: Dr,
          framebuffer: this.hoveredFbo,
          primitive: "triangle strip",
          count: 4,
          attributes: { quad: Lr(e) },
        }),
        this.findHoveredPointCommand = e({
          frag: sC,
          vert: lC,
          primitive: "points",
          count: () => n.nodes.length,
          framebuffer: () => this.hoveredFbo,
          attributes: { indexes: Cs(e, r.pointsTextureSize) },
          uniforms: {
            position: () => this.currentPositionFbo,
            particleSize: () => this.sizeFbo,
            ratio: () => i.pixelRatio,
            sizeScale: () => i.nodeSizeScale,
            pointsTextureSize: () => r.pointsTextureSize,
            transform: () => r.transform,
            spaceSize: () => r.adjustedSpaceSize,
            screenSize: () => r.screenSize,
            scaleNodesOnZoom: () => i.scaleNodesOnZoom,
            mousePosition: () => r.screenMousePosition,
            maxPointSize: () => r.maxPointSize,
          },
          depth: { enable: !1, mask: !1 },
        }),
        this.clearSampledNodesFboCommand = e({
          frag: Ls,
          vert: Dr,
          framebuffer: () => this.sampledNodesFbo,
          primitive: "triangle strip",
          count: 4,
          attributes: { quad: Lr(e) },
        }),
        this.fillSampledNodesFboCommand = e({
          frag: dC,
          vert: cC,
          primitive: "points",
          count: () => n.nodes.length,
          framebuffer: () => this.sampledNodesFbo,
          attributes: { indexes: Cs(e, r.pointsTextureSize) },
          uniforms: {
            position: () => this.currentPositionFbo,
            pointsTextureSize: () => r.pointsTextureSize,
            transform: () => r.transform,
            spaceSize: () => r.adjustedSpaceSize,
            screenSize: () => r.screenSize,
          },
          depth: { enable: !1, mask: !1 },
        }),
        this.drawHighlightedCommand = e({
          frag: aC,
          vert: oC,
          attributes: { quad: Lr(e) },
          primitive: "triangle strip",
          count: 4,
          uniforms: {
            color: e.prop("color"),
            width: e.prop("width"),
            pointIndex: e.prop("pointIndex"),
            positions: () => this.currentPositionFbo,
            particleColor: () => this.colorFbo,
            particleSize: () => this.sizeFbo,
            sizeScale: () => i.nodeSizeScale,
            pointsTextureSize: () => r.pointsTextureSize,
            transform: () => r.transform,
            spaceSize: () => r.adjustedSpaceSize,
            screenSize: () => r.screenSize,
            scaleNodesOnZoom: () => i.scaleNodesOnZoom,
            maxPointSize: () => r.maxPointSize,
            particleGreyoutStatus: () => this.greyoutStatusFbo,
            greyoutOpacity: () => i.nodeGreyoutOpacity,
          },
          blend: {
            enable: !0,
            func: {
              dstRGB: "one minus src alpha",
              srcRGB: "src alpha",
              dstAlpha: "one minus src alpha",
              srcAlpha: "one",
            },
            equation: { rgb: "add", alpha: "add" },
          },
          depth: { enable: !1, mask: !1 },
        }),
        this.trackPointsCommand = e({
          frag: gC,
          vert: Dr,
          framebuffer: () => this.trackedPositionsFbo,
          primitive: "triangle strip",
          count: 4,
          attributes: { quad: Lr(e) },
          uniforms: {
            position: () => this.currentPositionFbo,
            trackedIndices: () => this.trackedIndicesFbo,
            pointsTextureSize: () => r.pointsTextureSize,
          },
        });
    }
    updateColor() {
      let {
        reglInstance: e,
        config: i,
        store: { pointsTextureSize: r },
        data: n,
      } = this;
      r && (this.colorFbo = eC(n, e, r, i.nodeColor));
    }
    updateGreyoutStatus() {
      let { reglInstance: e, store: i } = this;
      this.greyoutStatusFbo = tC(i.selectedIndices, e, i.pointsTextureSize);
    }
    updateSize() {
      let {
        reglInstance: e,
        config: i,
        store: { pointsTextureSize: r },
        data: n,
      } = this;
      r
        && (this.sizeByIndex = new Float32Array(n.nodes.length),
          this.sizeFbo = fC(n, e, r, i.nodeSize, this.sizeByIndex));
    }
    updateSampledNodesGrid() {
      let {
          store: { screenSize: e },
          config: { nodeSamplingDistance: i },
          reglInstance: r,
        } = this,
        n = i ?? Math.min(...e) / 2,
        a = Math.ceil(e[0] / n),
        o = Math.ceil(e[1] / n);
      Zi(this.sampledNodesFbo),
        this.sampledNodesFbo = r.framebuffer({
          shape: [a, o],
          depth: !1,
          stencil: !1,
          colorType: "float",
        });
    }
    trackPoints() {
      var e;
      !this.trackedIndicesFbo || !this.trackedPositionsFbo
        || (e = this.trackPointsCommand) === null || e === void 0
        || e.call(this);
    }
    draw() {
      var e, i, r;
      let {
        config: { renderHoveredNodeRing: n, renderHighlightedNodeRing: a },
        store: o,
      } = this;
      (e = this.drawCommand) === null || e === void 0 || e.call(this),
        (n ?? a) && o.hoveredNode
        && ((i = this.drawHighlightedCommand) === null || i === void 0
          || i.call(this, {
            width: .85,
            color: o.hoveredNodeRingColor,
            pointIndex: o.hoveredNode.index,
          })),
        o.focusedNode
        && ((r = this.drawHighlightedCommand) === null || r === void 0
          || r.call(this, {
            width: .75,
            color: o.focusedNodeRingColor,
            pointIndex: o.focusedNode.index,
          }));
    }
    updatePosition() {
      var e;
      (e = this.updatePositionCommand) === null || e === void 0 || e.call(this),
        this.swapFbo();
    }
    findPointsOnAreaSelection() {
      var e;
      (e = this.findPointsOnAreaSelectionCommand) === null || e === void 0
        || e.call(this);
    }
    findHoveredPoint() {
      var e, i;
      (e = this.clearHoveredFboCommand) === null || e === void 0
      || e.call(this),
        (i = this.findHoveredPointCommand) === null || i === void 0
        || i.call(this);
    }
    getNodeRadiusByIndex(e) {
      var i;
      return (i = this.sizeByIndex) === null || i === void 0 ? void 0 : i[e];
    }
    trackNodesByIds(e) {
      this.trackedIds = e.length ? e : void 0,
        this.trackedPositionsById.clear();
      let i = e.map(r => this.data.getSortedIndexById(r)).filter(r =>
        r !== void 0
      );
      Zi(this.trackedIndicesFbo),
        this.trackedIndicesFbo = void 0,
        Zi(this.trackedPositionsFbo),
        this.trackedPositionsFbo = void 0,
        i.length
        && (this.trackedIndicesFbo = pC(
          i,
          this.store.pointsTextureSize,
          this.reglInstance,
        ),
          this.trackedPositionsFbo = hC(i, this.reglInstance)),
        this.trackPoints();
    }
    getTrackedPositions() {
      if (!this.trackedIds) return this.trackedPositionsById;
      let e = Ua(this.reglInstance, this.trackedPositionsFbo);
      return this.trackedIds.forEach((i, r) => {
        let n = e[r * 4], a = e[r * 4 + 1];
        n !== void 0 && a !== void 0
          && this.trackedPositionsById.set(i, [n, a]);
      }),
        this.trackedPositionsById;
    }
    getSampledNodePositionsMap() {
      var e, i, r;
      let n = new Map();
      if (!this.sampledNodesFbo) return n;
      (e = this.clearSampledNodesFboCommand) === null || e === void 0
      || e.call(this),
        (i = this.fillSampledNodesFboCommand) === null || i === void 0
        || i.call(this);
      let a = Ua(this.reglInstance, this.sampledNodesFbo);
      for (let o = 0; o < a.length / 4; o++) {
        let s = a[o * 4],
          l = !!a[o * 4 + 1],
          d = a[o * 4 + 2],
          c = a[o * 4 + 3];
        if (l && s !== void 0 && d !== void 0 && c !== void 0) {
          let u = this.data.getInputIndexBySortedIndex(s);
          if (u !== void 0) {
            let f = (r = this.data.getNodeByIndex(u)) === null || r === void 0
              ? void 0
              : r.id;
            f !== void 0 && n.set(f, [d, c]);
          }
        }
      }
      return n;
    }
    destroy() {
      Zi(this.currentPositionFbo),
        Zi(this.previousPositionFbo),
        Zi(this.velocityFbo),
        Zi(this.selectedFbo),
        Zi(this.colorFbo),
        Zi(this.sizeFbo),
        Zi(this.greyoutStatusFbo),
        Zi(this.hoveredFbo),
        Zi(this.trackedIndicesFbo),
        Zi(this.trackedPositionsFbo);
    }
    swapFbo() {
      let e = this.previousPositionFbo;
      this.previousPositionFbo = this.currentPositionFbo,
        this.currentPositionFbo = e;
    }
    rescaleInitialNodePositions() {
      let { nodes: e } = this.data, { spaceSize: i } = this.config;
      if (e.length === 0) return;
      let r = e.map(p => p.x).filter(p => p !== void 0);
      if (r.length === 0) return;
      let n = e.map(p => p.y).filter(p => p !== void 0);
      if (n.length === 0) return;
      let a = Math.min(...r),
        o = Math.max(...r),
        s = Math.min(...n),
        l = Math.max(...n),
        d = o - a,
        c = l - s,
        u = Math.max(d, c),
        f = (u - d) / 2,
        h = (u - c) / 2,
        x = un().range([0, i ?? Mt.spaceSize]).domain([a - f, o + f]),
        S = un().range([0, i ?? Mt.spaceSize]).domain([s - h, l + h]);
      e.forEach(p => {
        p.x = x(p.x), p.y = S(p.y);
      });
    }
  },
  Kh = .001,
  Zh = 64,
  Jh = class {
    constructor() {
      this.pointsTextureSize = 0,
        this.linksTextureSize = 0,
        this.alpha = 1,
        this.transform = Hn.create(),
        this.backgroundColor = [0, 0, 0, 0],
        this.screenSize = [0, 0],
        this.mousePosition = [0, 0],
        this.screenMousePosition = [0, 0],
        this.selectedArea = [[0, 0], [0, 0]],
        this.isSimulationRunning = !1,
        this.simulationProgress = 0,
        this.selectedIndices = null,
        this.maxPointSize = Zh,
        this.hoveredNode = void 0,
        this.focusedNode = void 0,
        this.adjustedSpaceSize = Mt.spaceSize,
        this.hoveredNodeRingColor = [1, 1, 1, D4],
        this.focusedNodeRingColor = [1, 1, 1, $4],
        this.alphaTarget = 0,
        this.scaleNodeX = un(),
        this.scaleNodeY = un(),
        this.random = new Mh(),
        this.alphaDecay = e => 1 - Math.pow(Kh, 1 / e);
    }
    addRandomSeed(e) {
      this.random = this.random.clone(e);
    }
    getRandomFloat(e, i) {
      return this.random.float(e, i);
    }
    adjustSpaceSize(e, i) {
      e >= i
        ? (this.adjustedSpaceSize = i / 2,
          console.warn(
            `The \`spaceSize\` has been reduced to ${this.adjustedSpaceSize} due to WebGL limits`,
          ))
        : this.adjustedSpaceSize = e;
    }
    updateScreenSize(e, i) {
      let { adjustedSpaceSize: r } = this;
      this.screenSize = [e, i],
        this.scaleNodeX.domain([0, r]).range([(e - r) / 2, (e + r) / 2]),
        this.scaleNodeY.domain([r, 0]).range([(i - r) / 2, (i + r) / 2]);
    }
    scaleX(e) {
      return this.scaleNodeX(e);
    }
    scaleY(e) {
      return this.scaleNodeY(e);
    }
    setHoveredNodeRingColor(e) {
      let i = ks(e);
      this.hoveredNodeRingColor[0] = i[0],
        this.hoveredNodeRingColor[1] = i[1],
        this.hoveredNodeRingColor[2] = i[2];
    }
    setFocusedNodeRingColor(e) {
      let i = ks(e);
      this.focusedNodeRingColor[0] = i[0],
        this.focusedNodeRingColor[1] = i[1],
        this.focusedNodeRingColor[2] = i[2];
    }
    setFocusedNode(e, i) {
      e && i !== void 0 ? this.focusedNode = { node: e, index: i }
      : this.focusedNode = void 0;
    }
    addAlpha(e) {
      return (this.alphaTarget - this.alpha) * this.alphaDecay(e);
    }
  },
  Qh = class {
    constructor(e, i) {
      this.eventTransform = ua,
        this.behavior = zh().scaleExtent([.001, 1 / 0]).on("start", r => {
          var n, a, o;
          this.isRunning = !0;
          let s = !!r.sourceEvent;
          (o = (a = (n = this.config) === null || n === void 0
                      ? void 0
                      : n.events) === null || a === void 0
                ? void 0
                : a.onZoomStart) === null || o === void 0 || o.call(a, r, s);
        }).on("zoom", r => {
          var n, a, o;
          this.eventTransform = r.transform;
          let {
              eventTransform: { x: s, y: l, k: d },
              store: { transform: c, screenSize: u },
            } = this,
            f = u[0],
            h = u[1];
          Hn.projection(c, f, h),
            Hn.translate(c, c, [s, l]),
            Hn.scale(c, c, [d, d]),
            Hn.translate(c, c, [f / 2, h / 2]),
            Hn.scale(c, c, [f / 2, h / 2]),
            Hn.scale(c, c, [1, -1]);
          let x = !!r.sourceEvent;
          (o = (a = (n = this.config) === null || n === void 0
                      ? void 0
                      : n.events) === null || a === void 0
                ? void 0
                : a.onZoom)
              === null || o === void 0 || o.call(a, r, x);
        }).on("end", r => {
          var n, a, o;
          this.isRunning = !1;
          let s = !!r.sourceEvent;
          (o = (a = (n = this.config) === null || n === void 0
                      ? void 0
                      : n.events) === null || a === void 0
                ? void 0
                : a.onZoomEnd) === null || o === void 0 || o.call(a, r, s);
        }),
        this.isRunning = !1,
        this.store = e,
        this.config = i;
    }
    getTransform(e, i, r = this.store.maxPointSize / 2) {
      if (e.length === 0) return this.eventTransform;
      let { store: { screenSize: n } } = this,
        a = n[0],
        o = n[1],
        s = ca(e.map(y => y[0])),
        l = ca(e.map(y => y[1]));
      s[0] = this.store.scaleX(s[0] - r),
        s[1] = this.store.scaleX(s[1] + r),
        l[0] = this.store.scaleY(l[0] - r),
        l[1] = this.store.scaleY(l[1] + r);
      let d = a / (s[1] - s[0]),
        c = o / (l[0] - l[1]),
        u = P4(i ?? Math.min(d, c), ...this.behavior.scaleExtent()),
        f = (s[1] + s[0]) / 2,
        h = (l[1] + l[0]) / 2,
        x = a / 2 - f * u,
        S = o / 2 - h * u;
      return ua.translate(x, S).scale(u);
    }
    getDistanceToPoint(e) {
      let { x: i, y: r, k: n } = this.eventTransform,
        a = this.getTransform([e], n),
        o = i - a.x,
        s = r - a.y;
      return Math.sqrt(o * o + s * s);
    }
    getMiddlePointTransform(e) {
      let { store: { screenSize: i }, eventTransform: { x: r, y: n, k: a } } =
          this,
        o = i[0],
        s = i[1],
        l = (o / 2 - r) / a,
        d = (s / 2 - n) / a,
        c = this.store.scaleX(e[0]),
        u = this.store.scaleY(e[1]),
        f = (l + c) / 2,
        h = (d + u) / 2,
        x = 1,
        S = o / 2 - f * x,
        p = s / 2 - h * x;
      return ua.translate(S, p).scale(x);
    }
    convertSpaceToScreenPosition(e) {
      let i = this.eventTransform.applyX(this.store.scaleX(e[0])),
        r = this.eventTransform.applyY(this.store.scaleY(e[1]));
      return [i, r];
    }
    convertSpaceToScreenRadius(e) {
      let {
          config: { scaleNodesOnZoom: i },
          store: { maxPointSize: r },
          eventTransform: { k: n },
        } = this,
        a = e * 2;
      return i ? a *= n : a *= Math.min(5, Math.max(1, n * .01)),
        Math.min(a, r) / 2;
    }
  },
  Fu = class {
    constructor(e, i) {
      var r;
      this.config = new Uh(),
        this.graph = new Wh(),
        this.requestAnimationFrameId = 0,
        this.isRightClickMouse = !1,
        this.store = new Jh(),
        this.zoomInstance = new Qh(this.store, this.config),
        this.hasParticleSystemDestroyed = !1,
        this._findHoveredPointExecutionCount = 0,
        this._isMouseOnCanvas = !1,
        this._isFirstDataAfterInit = !0,
        i && this.config.init(i);
      let n = e.clientWidth, a = e.clientHeight;
      e.width = n * this.config.pixelRatio,
        e.height = a * this.config.pixelRatio,
        e.style.width === "" && e.style.height === ""
        && ai(e).style("width", "100%").style("height", "100%"),
        this.canvas = e,
        this.canvasD3Selection = ai(e),
        this.canvasD3Selection.on("mouseenter.cosmos", () => {
          this._isMouseOnCanvas = !0;
        }).on("mouseleave.cosmos", () => {
          this._isMouseOnCanvas = !1;
        }),
        this.zoomInstance.behavior.on("start.detect", o => {
          this.currentEvent = o;
        }).on("zoom.detect", o => {
          !!o.sourceEvent && this.updateMousePosition(o.sourceEvent),
            this.currentEvent = o;
        }).on("end.detect", o => {
          this.currentEvent = o;
        }),
        this.canvasD3Selection.call(this.zoomInstance.behavior).on(
          "click",
          this.onClick.bind(this),
        ).on("mousemove", this.onMouseMove.bind(this)).on(
          "contextmenu",
          this.onRightClickMouse.bind(this),
        ),
        this.config.disableZoom && this.disableZoom(),
        this.setZoomLevel(this.config.initialZoomLevel),
        this.reglInstance = (0, mb.default)({
          canvas: this.canvas,
          attributes: {
            antialias: !1,
            preserveDrawingBuffer: !0,
            premultipliedAlpha: !1,
            alpha: !1,
          },
          extensions: ["OES_texture_float", "ANGLE_instanced_arrays"],
        }),
        this.store.maxPointSize =
          ((r = this.reglInstance.limits.pointSizeDims[1]) !== null
              && r !== void 0
            ? r
            : Zh) / this.config.pixelRatio,
        this.store.adjustSpaceSize(
          this.config.spaceSize,
          this.reglInstance.limits.maxTextureSize,
        ),
        this.store.updateScreenSize(n, a),
        this.points = new Xh(
          this.reglInstance,
          this.config,
          this.store,
          this.graph,
        ),
        this.lines = new Yh(
          this.reglInstance,
          this.config,
          this.store,
          this.graph,
          this.points,
        ),
        this.config.disableSimulation
        || (this.forceGravity = new Hh(
          this.reglInstance,
          this.config,
          this.store,
          this.graph,
          this.points,
        ),
          this.forceCenter = new Gh(
            this.reglInstance,
            this.config,
            this.store,
            this.graph,
            this.points,
          ),
          this.forceManyBody = this.config.useQuadtree
            ? new Vh(
              this.reglInstance,
              this.config,
              this.store,
              this.graph,
              this.points,
            )
            : new jh(
              this.reglInstance,
              this.config,
              this.store,
              this.graph,
              this.points,
            ),
          this.forceLinkIncoming = new Ou(
            this.reglInstance,
            this.config,
            this.store,
            this.graph,
            this.points,
          ),
          this.forceLinkOutgoing = new Ou(
            this.reglInstance,
            this.config,
            this.store,
            this.graph,
            this.points,
          ),
          this.forceMouse = new qh(
            this.reglInstance,
            this.config,
            this.store,
            this.graph,
            this.points,
          )),
        this.store.backgroundColor = ks(this.config.backgroundColor),
        this.config.highlightedNodeRingColor
          ? (this.store.setHoveredNodeRingColor(
            this.config.highlightedNodeRingColor,
          ),
            this.store.setFocusedNodeRingColor(
              this.config.highlightedNodeRingColor,
            ))
          : (this.config.hoveredNodeRingColor
            && this.store.setHoveredNodeRingColor(
              this.config.hoveredNodeRingColor,
            ),
            this.config.focusedNodeRingColor
            && this.store.setFocusedNodeRingColor(
              this.config.focusedNodeRingColor,
            )),
        this.config.showFPSMonitor && (this.fpsMonitor = new Ru(this.canvas)),
        this.config.randomSeed !== void 0
        && this.store.addRandomSeed(this.config.randomSeed);
    }
    get progress() {
      return this.store.simulationProgress;
    }
    get isSimulationRunning() {
      return this.store.isSimulationRunning;
    }
    get maxPointSize() {
      return this.store.maxPointSize;
    }
    setConfig(e) {
      var i, r;
      let n = { ...this.config };
      this.config.init(e),
        n.linkColor !== this.config.linkColor && this.lines.updateColor(),
        n.nodeColor !== this.config.nodeColor && this.points.updateColor(),
        n.nodeSize !== this.config.nodeSize && this.points.updateSize(),
        n.linkWidth !== this.config.linkWidth && this.lines.updateWidth(),
        (n.curvedLinkSegments !== this.config.curvedLinkSegments
          || n.curvedLinks !== this.config.curvedLinks)
        && this.lines.updateCurveLineGeometry(),
        n.backgroundColor !== this.config.backgroundColor
        && (this.store.backgroundColor = ks(this.config.backgroundColor)),
        n.highlightedNodeRingColor !== this.config.highlightedNodeRingColor
        && (this.store.setHoveredNodeRingColor(
          this.config.highlightedNodeRingColor,
        ),
          this.store.setFocusedNodeRingColor(
            this.config.highlightedNodeRingColor,
          )),
        n.hoveredNodeRingColor !== this.config.hoveredNodeRingColor
        && this.store.setHoveredNodeRingColor(this.config.hoveredNodeRingColor),
        n.focusedNodeRingColor !== this.config.focusedNodeRingColor
        && this.store.setFocusedNodeRingColor(this.config.focusedNodeRingColor),
        (n.spaceSize !== this.config.spaceSize
          || n.simulation.repulsionQuadtreeLevels
            !== this.config.simulation.repulsionQuadtreeLevels)
        && (this.store.adjustSpaceSize(
          this.config.spaceSize,
          this.reglInstance.limits.maxTextureSize,
        ),
          this.resizeCanvas(!0),
          this.update(this.store.isSimulationRunning)),
        n.showFPSMonitor !== this.config.showFPSMonitor
        && (this.config.showFPSMonitor
          ? this.fpsMonitor = new Ru(this.canvas)
          : ((i = this.fpsMonitor) === null || i === void 0 || i.destroy(),
            this.fpsMonitor = void 0)),
        n.pixelRatio !== this.config.pixelRatio
        && (this.store.maxPointSize =
          ((r = this.reglInstance.limits.pointSizeDims[1]) !== null
              && r !== void 0
            ? r
            : Zh) / this.config.pixelRatio),
        n.disableZoom !== this.config.disableZoom
        && (this.config.disableZoom ? this.disableZoom() : this.enableZoom());
    }
    setData(e, i, r = !0) {
      let { fitViewOnInit: n, fitViewDelay: a, fitViewByNodesInRect: o } =
        this.config;
      if (!e.length && !i.length) {
        this.destroyParticleSystem(),
          this.reglInstance.clear({
            color: this.store.backgroundColor,
            depth: 1,
            stencil: 0,
          });
        return;
      }
      this.graph.setData(e, i),
        this._isFirstDataAfterInit && n
        && (this._fitViewOnInitTimeoutID = window.setTimeout(() => {
          o
            ? this.setZoomTransformByNodePositions(o, void 0, void 0, 0)
            : this.fitView();
        }, a)),
        this._isFirstDataAfterInit = !1,
        this.update(r);
    }
    zoomToNodeById(e, i = 700, r = ub, n = !0) {
      let a = this.graph.getNodeById(e);
      a && this.zoomToNode(a, i, r, n);
    }
    zoomToNodeByIndex(e, i = 700, r = ub, n = !0) {
      let a = this.graph.getNodeByIndex(e);
      a && this.zoomToNode(a, i, r, n);
    }
    zoom(e, i = 0) {
      this.setZoomLevel(e, i);
    }
    setZoomLevel(e, i = 0) {
      this.canvasD3Selection.transition().duration(i).call(
        this.zoomInstance.behavior.scaleTo,
        e,
      );
    }
    getZoomLevel() {
      return this.zoomInstance.eventTransform.k;
    }
    getNodePositions() {
      if (this.hasParticleSystemDestroyed) return {};
      let e = Ua(this.reglInstance, this.points.currentPositionFbo);
      return this.graph.nodes.reduce((i, r) => {
        let n = this.graph.getSortedIndexById(r.id),
          a = e[n * 4 + 0],
          o = e[n * 4 + 1];
        return a !== void 0 && o !== void 0 && (i[r.id] = { x: a, y: o }), i;
      }, {});
    }
    getNodePositionsMap() {
      let e = new Map();
      if (this.hasParticleSystemDestroyed) return e;
      let i = Ua(this.reglInstance, this.points.currentPositionFbo);
      return this.graph.nodes.reduce((r, n) => {
        let a = this.graph.getSortedIndexById(n.id),
          o = i[a * 4 + 0],
          s = i[a * 4 + 1];
        return o !== void 0 && s !== void 0 && r.set(n.id, [o, s]), r;
      }, e);
    }
    getNodePositionsArray() {
      let e = [];
      if (this.hasParticleSystemDestroyed) return [];
      let i = Ua(this.reglInstance, this.points.currentPositionFbo);
      e.length = this.graph.nodes.length;
      for (let r = 0; r < this.graph.nodes.length; r += 1) {
        let n = this.graph.getSortedIndexByInputIndex(r),
          a = i[n * 4 + 0],
          o = i[n * 4 + 1];
        a !== void 0 && o !== void 0 && (e[r] = [a, o]);
      }
      return e;
    }
    fitView(e = 250) {
      this.setZoomTransformByNodePositions(this.getNodePositionsArray(), e);
    }
    fitViewByNodeIds(e, i = 250) {
      let r = this.getNodePositionsMap(),
        n = e.map(a => r.get(a)).filter(a => a !== void 0);
      this.setZoomTransformByNodePositions(n, i);
    }
    selectNodesInRange(e) {
      if (e) {
        let i = this.store.screenSize[1];
        this.store.selectedArea = [[e[0][0], i - e[1][1]], [
          e[1][0],
          i - e[0][1],
        ]], this.points.findPointsOnAreaSelection();
        let r = Ua(this.reglInstance, this.points.selectedFbo);
        this.store.selectedIndices = r.map((n, a) =>
          a % 4 === 0 && n !== 0 ? a / 4 : -1
        ).filter(n => n !== -1);
      }
      else this.store.selectedIndices = null;
      this.points.updateGreyoutStatus();
    }
    selectNodeById(e, i = !1) {
      var r;
      if (i) {
        let n = (r = this.graph.getAdjacentNodes(e)) !== null && r !== void 0
          ? r
          : [];
        this.selectNodesByIds([e, ...n.map(a => a.id)]);
      }
      else this.selectNodesByIds([e]);
    }
    selectNodeByIndex(e, i = !1) {
      let r = this.graph.getNodeByIndex(e);
      r && this.selectNodeById(r.id, i);
    }
    selectNodesByIds(e) {
      this.selectNodesByIndices(e?.map(i => this.graph.getSortedIndexById(i)));
    }
    selectNodesByIndices(e) {
      e
        ? e.length === 0
          ? this.store.selectedIndices = new Float32Array()
          : this.store.selectedIndices = new Float32Array(
            e.filter(i => i !== void 0),
          )
        : this.store.selectedIndices = null, this.points.updateGreyoutStatus();
    }
    unselectNodes() {
      this.store.selectedIndices = null, this.points.updateGreyoutStatus();
    }
    getSelectedNodes() {
      let { selectedIndices: e } = this.store;
      if (!e) return null;
      let i = new Array(e.length);
      for (let [r, n] of e.entries()) {
        if (n !== void 0) {
          let a = this.graph.getInputIndexBySortedIndex(n);
          a !== void 0 && (i[r] = this.graph.nodes[a]);
        }
      }
      return i;
    }
    getAdjacentNodes(e) {
      return this.graph.getAdjacentNodes(e);
    }
    setFocusedNodeById(e) {
      e === void 0 ? this.store.setFocusedNode()
      : this.store.setFocusedNode(
        this.graph.getNodeById(e),
        this.graph.getSortedIndexById(e),
      );
    }
    setFocusedNodeByIndex(e) {
      e === void 0 ? this.store.setFocusedNode()
      : this.store.setFocusedNode(this.graph.getNodeByIndex(e), e);
    }
    spaceToScreenPosition(e) {
      return this.zoomInstance.convertSpaceToScreenPosition(e);
    }
    spaceToScreenRadius(e) {
      return this.zoomInstance.convertSpaceToScreenRadius(e);
    }
    getNodeRadiusByIndex(e) {
      return this.points.getNodeRadiusByIndex(e);
    }
    getNodeRadiusById(e) {
      let i = this.graph.getInputIndexById(e);
      if (i !== void 0) return this.points.getNodeRadiusByIndex(i);
    }
    trackNodePositionsByIds(e) {
      this.points.trackNodesByIds(e);
    }
    trackNodePositionsByIndices(e) {
      this.points.trackNodesByIds(
        e.map(i => this.graph.getNodeByIndex(i)).filter(i => i !== void 0).map(
          i => i.id
        ),
      );
    }
    getTrackedNodePositionsMap() {
      return this.points.getTrackedPositions();
    }
    getSampledNodePositionsMap() {
      return this.points.getSampledNodePositionsMap();
    }
    start(e = 1) {
      var i, r;
      this.graph.nodes.length
        && (this.store.isSimulationRunning = !0,
          this.store.alpha = e,
          this.store.simulationProgress = 0,
          (r = (i = this.config.simulation).onStart) === null || r === void 0
          || r.call(i),
          this.stopFrames(),
          this.frame());
    }
    pause() {
      var e, i;
      this.store.isSimulationRunning = !1,
        (i = (e = this.config.simulation).onPause) === null || i === void 0
        || i.call(e);
    }
    restart() {
      var e, i;
      this.store.isSimulationRunning = !0,
        (i = (e = this.config.simulation).onRestart) === null || i === void 0
        || i.call(e);
    }
    step() {
      this.store.isSimulationRunning = !1, this.stopFrames(), this.frame();
    }
    destroy() {
      var e, i;
      window.clearTimeout(this._fitViewOnInitTimeoutID),
        this.stopFrames(),
        this.destroyParticleSystem(),
        (e = this.fpsMonitor) === null || e === void 0 || e.destroy(),
        (i = document.getElementById("gl-bench-style")) === null || i === void 0
        || i.remove();
    }
    create() {
      var e, i, r, n;
      this.points.create(),
        this.lines.create(),
        (e = this.forceManyBody) === null || e === void 0 || e.create(),
        (i = this.forceLinkIncoming) === null || i === void 0
        || i.create(od.INCOMING),
        (r = this.forceLinkOutgoing) === null || r === void 0
        || r.create(od.OUTGOING),
        (n = this.forceCenter) === null || n === void 0 || n.create(),
        this.hasParticleSystemDestroyed = !1;
    }
    destroyParticleSystem() {
      var e, i, r, n;
      this.hasParticleSystemDestroyed
        || (this.points.destroy(),
          this.lines.destroy(),
          (e = this.forceCenter) === null || e === void 0 || e.destroy(),
          (i = this.forceLinkIncoming) === null || i === void 0 || i.destroy(),
          (r = this.forceLinkOutgoing) === null || r === void 0 || r.destroy(),
          (n = this.forceManyBody) === null || n === void 0 || n.destroy(),
          this.reglInstance.destroy(),
          this.hasParticleSystemDestroyed = !0);
    }
    update(e) {
      let { graph: i } = this;
      this.store.pointsTextureSize = Math.ceil(Math.sqrt(i.nodes.length)),
        this.store.linksTextureSize = Math.ceil(Math.sqrt(i.linksNumber * 2)),
        this.destroyParticleSystem(),
        this.create(),
        this.initPrograms(),
        this.setFocusedNodeById(),
        this.store.hoveredNode = void 0,
        e ? this.start() : this.step();
    }
    initPrograms() {
      var e, i, r, n, a, o;
      this.points.initPrograms(),
        this.lines.initPrograms(),
        (e = this.forceGravity) === null || e === void 0 || e.initPrograms(),
        (i = this.forceLinkIncoming) === null || i === void 0
        || i.initPrograms(),
        (r = this.forceLinkOutgoing) === null || r === void 0
        || r.initPrograms(),
        (n = this.forceMouse) === null || n === void 0 || n.initPrograms(),
        (a = this.forceManyBody) === null || a === void 0 || a.initPrograms(),
        (o = this.forceCenter) === null || o === void 0 || o.initPrograms();
    }
    frame() {
      let {
        config: { simulation: e, renderLinks: i, disableSimulation: r },
        store: { alpha: n, isSimulationRunning: a },
      } = this;
      n < Kh && a && this.end(),
        this.store.pointsTextureSize
        && (this.requestAnimationFrameId = window.requestAnimationFrame(o => {
          var s, l, d, c, u, f, h, x, S, p, y, E, g;
          (s = this.fpsMonitor) === null || s === void 0 || s.begin(),
            this.resizeCanvas(),
            this.findHoveredPoint(),
            r
            || (this.isRightClickMouse
              && (a || this.start(.1),
                (l = this.forceMouse) === null || l === void 0 || l.run(),
                this.points.updatePosition()),
              a && !this.zoomInstance.isRunning
              && (e.gravity
                && ((d = this.forceGravity) === null || d === void 0 || d.run(),
                  this.points.updatePosition()),
                e.center
                && ((c = this.forceCenter) === null || c === void 0 || c.run(),
                  this.points.updatePosition()),
                (u = this.forceManyBody) === null || u === void 0 || u.run(),
                this.points.updatePosition(),
                this.store.linksTextureSize
                && ((f = this.forceLinkIncoming) === null || f === void 0
                  || f.run(),
                  this.points.updatePosition(),
                  (h = this.forceLinkOutgoing) === null || h === void 0
                  || h.run(),
                  this.points.updatePosition()),
                this.store.alpha += this.store.addAlpha(
                  (x = this.config.simulation.decay) !== null && x !== void 0
                    ? x
                    : Mt.simulation.decay,
                ),
                this.isRightClickMouse
                && (this.store.alpha = Math.max(this.store.alpha, .1)),
                this.store.simulationProgress = Math.sqrt(
                  Math.min(1, Kh / this.store.alpha),
                ),
                (p = (S = this.config.simulation).onTick) === null
                || p === void 0
                || p.call(
                  S,
                  this.store.alpha,
                  (y = this.store.hoveredNode) === null || y === void 0 ? void 0
                  : y.node,
                  this.store.hoveredNode
                    ? this.graph.getInputIndexBySortedIndex(
                      this.store.hoveredNode.index,
                    )
                    : void 0,
                  (E = this.store.hoveredNode) === null || E === void 0 ? void 0
                  : E.position,
                )),
              this.points.trackPoints()),
            this.reglInstance.clear({
              color: this.store.backgroundColor,
              depth: 1,
              stencil: 0,
            }),
            i && this.store.linksTextureSize && this.lines.draw(),
            this.points.draw(),
            (g = this.fpsMonitor) === null || g === void 0 || g.end(o),
            this.currentEvent = void 0,
            this.frame();
        }));
    }
    stopFrames() {
      this.requestAnimationFrameId
        && window.cancelAnimationFrame(this.requestAnimationFrameId);
    }
    end() {
      var e, i;
      this.store.isSimulationRunning = !1,
        this.store.simulationProgress = 1,
        (i = (e = this.config.simulation).onEnd) === null || i === void 0
        || i.call(e);
    }
    onClick(e) {
      var i, r, n, a;
      (r = (i = this.config.events).onClick) === null || r === void 0
        || r.call(
          i,
          (n = this.store.hoveredNode) === null || n === void 0
            ? void 0
            : n.node,
          this.store.hoveredNode
            ? this.graph.getInputIndexBySortedIndex(
              this.store.hoveredNode.index,
            )
            : void 0,
          (a = this.store.hoveredNode) === null || a === void 0 ? void 0
          : a.position,
          e,
        );
    }
    updateMousePosition(e) {
      if (!e || e.offsetX === void 0 || e.offsetY === void 0) return;
      let { x: i, y: r, k: n } = this.zoomInstance.eventTransform,
        a = this.canvas.clientHeight,
        o = e.offsetX,
        s = e.offsetY,
        l = (o - i) / n,
        d = (s - r) / n;
      this.store.mousePosition = [l, a - d],
        this.store.mousePosition[0] -=
          (this.store.screenSize[0] - this.store.adjustedSpaceSize) / 2,
        this.store.mousePosition[1] -=
          (this.store.screenSize[1] - this.store.adjustedSpaceSize) / 2,
        this.store.screenMousePosition = [o, this.store.screenSize[1] - s];
    }
    onMouseMove(e) {
      var i, r, n, a;
      this.currentEvent = e,
        this.updateMousePosition(e),
        this.isRightClickMouse = e.which === 3,
        (r = (i = this.config.events).onMouseMove) === null || r === void 0
        || r.call(
          i,
          (n = this.store.hoveredNode) === null || n === void 0 ? void 0
          : n.node,
          this.store.hoveredNode
            ? this.graph.getInputIndexBySortedIndex(
              this.store.hoveredNode.index,
            ) : void 0,
          (a = this.store.hoveredNode) === null || a === void 0 ? void 0
          : a.position,
          this.currentEvent,
        );
    }
    onRightClickMouse(e) {
      e.preventDefault();
    }
    resizeCanvas(e = !1) {
      let i = this.canvas.width,
        r = this.canvas.height,
        n = this.canvas.clientWidth,
        a = this.canvas.clientHeight;
      (e || i !== n * this.config.pixelRatio
        || r !== a * this.config.pixelRatio)
        && (this.store.updateScreenSize(n, a),
          this.canvas.width = n * this.config.pixelRatio,
          this.canvas.height = a * this.config.pixelRatio,
          this.reglInstance.poll(),
          this.canvasD3Selection.call(
            this.zoomInstance.behavior.transform,
            this.zoomInstance.eventTransform,
          ),
          this.points.updateSampledNodesGrid());
    }
    setZoomTransformByNodePositions(e, i = 250, r, n) {
      this.resizeCanvas();
      let a = this.zoomInstance.getTransform(e, r, n);
      this.canvasD3Selection.transition().ease(lu).duration(i).call(
        this.zoomInstance.behavior.transform,
        a,
      );
    }
    zoomToNode(e, i, r, n) {
      let { graph: a, store: { screenSize: o } } = this,
        s = Ua(this.reglInstance, this.points.currentPositionFbo),
        l = a.getSortedIndexById(e.id);
      if (l === void 0) return;
      let d = s[l * 4 + 0], c = s[l * 4 + 1];
      if (d === void 0 || c === void 0) return;
      let u = this.zoomInstance.getDistanceToPoint([d, c]),
        f = n ? r : Math.max(this.getZoomLevel(), r);
      if (u < Math.min(o[0], o[1])) {
        this.setZoomTransformByNodePositions([[d, c]], i, f);
      }
      else {
        let h = this.zoomInstance.getTransform([[d, c]], f),
          x = this.zoomInstance.getMiddlePointTransform([d, c]);
        this.canvasD3Selection.transition().ease(Jm).duration(i / 2).call(
          this.zoomInstance.behavior.transform,
          x,
        ).transition().ease(Qm).duration(i / 2).call(
          this.zoomInstance.behavior.transform,
          h,
        );
      }
    }
    disableZoom() {
      this.canvasD3Selection.call(this.zoomInstance.behavior).on(
        "wheel.zoom",
        null,
      );
    }
    enableZoom() {
      this.canvasD3Selection.call(this.zoomInstance.behavior);
    }
    findHoveredPoint() {
      var e, i, r, n, a;
      if (!this._isMouseOnCanvas) return;
      if (this._findHoveredPointExecutionCount < 2) {
        this._findHoveredPointExecutionCount += 1;
        return;
      }
      this._findHoveredPointExecutionCount = 0, this.points.findHoveredPoint();
      let o = !1, s = !1, l = Ua(this.reglInstance, this.points.hoveredFbo);
      if (l[1]) {
        let c = l[0],
          u = this.graph.getInputIndexBySortedIndex(c),
          f = u !== void 0 ? this.graph.getNodeByIndex(u) : void 0;
        ((e = this.store.hoveredNode) === null || e === void 0
              ? void 0
              : e.node) !== f && (o = !0);
        let h = l[2], x = l[3];
        this.store.hoveredNode = f && { node: f, index: c, position: [h, x] };
      }
      else this.store.hoveredNode && (s = !0), this.store.hoveredNode = void 0;
      o && this.store.hoveredNode
      && ((r = (i = this.config.events).onNodeMouseOver) === null
        || r === void 0
        || r.call(
          i,
          this.store.hoveredNode.node,
          this.graph.getInputIndexBySortedIndex(
            this.graph.getSortedIndexById(this.store.hoveredNode.node.id),
          ),
          this.store.hoveredNode.position,
          this.currentEvent,
        )),
        s
        && ((a = (n = this.config.events).onNodeMouseOut) === null
          || a === void 0 || a.call(n, this.currentEvent));
    }
  };
function Sb(t, e) {
  let [i, r, n, a] = [t.x, t.y + t.height, t.x + t.width, t.y],
    [o, s, l, d] = [e.x, e.y + e.height, e.x + e.width, e.y];
  return !(r < d || s < a || n < o || l < i);
}
var Du = "css-label--label",
  ep = "css-label--hidden",
  sd,
  Eb = () => {
    if (sd) return;
    sd = document.createElement("style"),
      sd.innerHTML = `
  :root {
    --css-label-background-color: #1e2428;
    --css-label-brightness: brightness(150%);
  }

  .${Du} {
    position: absolute;
    top: 0;
    left: 0;

    font-weight: 500;
    cursor: pointer;
    
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;

    filter: var(--css-label-brightness);
    pointer-events: none;
    background-color: var(--css-label-background-color);
    font-weight: 700;
    border-radius: 6px;
    
    transition: opacity 600ms;
    opacity: 1;
  }

  .${ep} {
    opacity: 0 !important;
  }
`;
    let t = document.head.getElementsByTagName("style")[0];
    t ? document.head.insertBefore(sd, t) : document.head.appendChild(sd);
  };
var Os = class {
  constructor(e, i) {
    this.element = document.createElement("div"),
      this.fontWidthHeightRatio = .6,
      this._x = 0,
      this._y = 0,
      this._estimatedWidth = 0,
      this._estimatedHeight = 0,
      this._visible = !1,
      this._prevVisible = !1,
      this._weight = 0,
      this._customFontSize = 14,
      this._customColor = void 0,
      this._customOpacity = void 0,
      this._shouldBeShown = !1,
      this._text = "",
      this._customPadding = { left: 9, top: 6, right: 9, bottom: 6 },
      Eb(),
      this._container = e,
      this._updateClasses(),
      i && this.setText(i),
      this.resetFontSize(),
      this.resetPadding();
  }
  setText(e) {
    this._text !== e
      && (this._text = e, this.element.innerHTML = e, this._measureText());
  }
  setPosition(e, i) {
    this._x = e, this._y = i;
  }
  setStyle(e) {
    if (
      this._customStyle !== e
      && (this._customStyle = e,
        this.element.style.cssText = this._customStyle,
        this._customColor && (this.element.style.color = this._customColor),
        this._customOpacity
        && (this.element.style.opacity = String(this._customOpacity)),
        this._customPointerEvents
        && (this.element.style.pointerEvents = this._customPointerEvents),
        this._customFontSize
        && (this.element.style.fontSize = `${this._customFontSize}px`),
        this._customPadding)
    ) {
      let { top: i, right: r, bottom: n, left: a } = this._customPadding;
      this.element.style.padding = `${i}px ${r}px ${n}px ${a}px`;
    }
  }
  setClassName(e) {
    this._customClassName !== e
      && (this._customClassName = e, this._updateClasses());
  }
  setFontSize(e = 14) {
    this._customFontSize !== e
      && (this.element.style.fontSize = `${e}px`,
        this._customFontSize = e,
        this._measureText());
  }
  resetFontSize() {
    this.element.style.fontSize = `${14}px`,
      this._customFontSize = 14,
      this._measureText();
  }
  setColor(e) {
    this._customColor !== e
      && (this.element.style.color = e, this._customColor = e);
  }
  resetColor() {
    this.element.style.removeProperty("color"), this._customColor = void 0;
  }
  setOpacity(e) {
    this._customOpacity !== e
      && (this.element.style.opacity = String(e), this._customOpacity = e);
  }
  resetOpacity() {
    this.element.style.removeProperty("opacity"), this._customOpacity = void 0;
  }
  setPointerEvents(e) {
    this._customPointerEvents !== e
      && (this.element.style.pointerEvents = `${e}`,
        this._customPointerEvents = e);
  }
  resetPointerEvents() {
    this.element.style.removeProperty("pointer-events"),
      this._customPointerEvents = void 0;
  }
  setPadding(e = { left: 9, top: 6, right: 9, bottom: 6 }) {
    (this._customPadding.left !== e.left || this._customPadding.top !== e.top
      || this._customPadding.right !== e.right
      || this._customPadding.bottom !== e.bottom)
      && (this._customPadding = e,
        this.element.style.padding =
          `${e.top}px ${e.right}px ${e.bottom}px ${e.left}px`,
        this._measureText());
  }
  resetPadding() {
    let e = { left: 9, top: 6, right: 9, bottom: 6 };
    this.element.style.padding =
      `${e.top}px ${e.right}px ${e.bottom}px ${e.left}px`,
      this._customPadding = e,
      this._measureText();
  }
  setForceShow(e) {
    this._shouldBeShown = e;
  }
  getForceShow() {
    return this._shouldBeShown;
  }
  draw() {
    let e = this.getVisibility();
    e !== this._prevVisible
    && (this._prevVisible === !1
      ? this._container.appendChild(this.element)
      : this._container.removeChild(this.element),
      this._updateClasses(),
      this._prevVisible = e),
      e && (this.element.style.transform = `
        translate(-50%, -100%)
        translate3d(${this._x}px, ${this._y}px, 0)
      `);
  }
  overlaps(e) {
    return Sb({
      height: this._estimatedHeight,
      width: this._estimatedWidth,
      x: this._x,
      y: this._y,
    }, {
      height: e._estimatedHeight,
      width: e._estimatedWidth,
      x: e._x,
      y: e._y,
    });
  }
  setVisibility(e = !0) {
    this._visible = e;
  }
  getVisibility() {
    return this._visible;
  }
  isOnScreen() {
    return this._x > 0 && this._y > 0 && this._x < this._container.offsetWidth
      && this._y < this._container.offsetHeight;
  }
  setWeight(e) {
    this._weight = e;
  }
  getWeight() {
    return this._weight;
  }
  raise() {
    this._container.appendChild(this.element);
  }
  destroy() {
    this.element.remove();
  }
  _updateClasses() {
    this.getVisibility()
      ? window.requestAnimationFrame(() => {
        this.element.className = `${Du} ${this._customClassName || ""}`;
      })
      : this.element.className = `${Du} ${this._customClassName || ""} ${ep}`;
  }
  _measureText() {
    let { left: e, top: i, right: r, bottom: n } = this._customPadding;
    this._estimatedWidth =
      this._customFontSize * this.fontWidthHeightRatio
        * this.element.innerHTML.length + e + r,
      this._estimatedHeight = this._customFontSize + i + n;
  }
};
var ud = "css-label--labels-container",
  ip = "css-label--labels-container-hidden",
  cd,
  Tb = () => {
    if (cd) return;
    cd = document.createElement("style"),
      cd.innerHTML = `
  .${ud} {
    transition: opacity 100ms;
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
    top: 0%;
    pointer-events: none;
    opacity: 1;
  }
  .${ip} {
    opacity: 0;

    div {
      pointer-events: none;
    }
  }
`;
    let t = document.head.getElementsByTagName("style")[0];
    t ? document.head.insertBefore(cd, t) : document.head.appendChild(cd);
  };
var $u = class {
  constructor(e, i) {
    this._cssLabels = new Map(),
      this._elementToData = new Map(),
      Tb(),
      this._container = e,
      e.addEventListener("click", this._onClick.bind(this)),
      this._container.className = ud,
      i?.onLabelClick && (this._onClickCallback = i.onLabelClick),
      i?.padding && (this._padding = i.padding),
      i?.pointerEvents && (this._pointerEvents = i.pointerEvents),
      i?.dispatchWheelEventElement
      && (this._dispatchWheelEventElement = i.dispatchWheelEventElement,
        this._container.addEventListener("wheel", this._onWheel.bind(this)));
  }
  setLabels(e) {
    let i = new Map(this._cssLabels);
    e.forEach(r => {
      let {
        x: n,
        y: a,
        fontSize: o,
        color: s,
        text: l,
        weight: d,
        opacity: c,
        shouldBeShown: u,
        style: f,
        className: h,
      } = r;
      if (i.get(r.id)) i.delete(r.id);
      else {
        let p = new Os(this._container, r.text);
        this._cssLabels.set(r.id, p), this._elementToData.set(p.element, r);
      }
      let S = this._cssLabels.get(r.id);
      S
        && (S.setText(l),
          S.setPosition(n, a),
          f !== void 0 && S.setStyle(f),
          d !== void 0 && S.setWeight(d),
          o !== void 0 && S.setFontSize(o),
          s !== void 0 && S.setColor(s),
          this._padding !== void 0 && S.setPadding(this._padding),
          this._pointerEvents !== void 0
          && S.setPointerEvents(this._pointerEvents),
          c !== void 0 && S.setOpacity(c),
          u !== void 0 && S.setForceShow(u),
          h !== void 0 && S.setClassName(h));
    });
    for (let [r] of i) {
      let n = this._cssLabels.get(r);
      n && (this._elementToData.delete(n.element), n.destroy()),
        this._cssLabels.delete(r);
    }
  }
  draw(e = !0) {
    e && this._intersectLabels(), this._cssLabels.forEach(i => i.draw());
  }
  show() {
    this._container.className = ud;
  }
  hide() {
    this._container.className = `${ud} ${ip}`;
  }
  destroy() {
    this._container.removeEventListener("click", this._onClick.bind(this)),
      this._container.removeEventListener("wheel", this._onWheel.bind(this)),
      this._cssLabels.forEach(e => e.destroy());
  }
  _onClick(e) {
    var i;
    let r = this._elementToData.get(e.target);
    r
      && ((i = this._onClickCallback) === null || i === void 0
        || i.call(this, e, r));
  }
  _onWheel(e) {
    var i;
    e.preventDefault();
    let r = new WheelEvent("wheel", e);
    (i = this._dispatchWheelEventElement) === null || i === void 0
      || i.dispatchEvent(r);
  }
  _intersectLabels() {
    let e = Array.from(this._cssLabels.values());
    e.forEach(i => i.setVisibility(i.isOnScreen()));
    for (let i = 0; i < e.length; i += 1) {
      let r = e[i];
      if (r.getVisibility()) {
        for (let n = i + 1; n < e.length; n += 1) {
          let a = e[n];
          if (!a.getVisibility()) continue;
          if (r.overlaps(a)) {
            a.getWeight() > r.getWeight()
              ? r.setVisibility(a.getForceShow() ? !1 : r.getForceShow())
              : a.setVisibility(r.getForceShow() ? !1 : a.getForceShow());
            continue;
          }
        }
      }
    }
  }
};
var mn = [];
var Ab = function() {
  return mn.some(function(t) {
    return t.activeTargets.length > 0;
  });
};
var Ib = function() {
  return mn.some(function(t) {
    return t.skippedTargets.length > 0;
  });
};
var Cb = "ResizeObserver loop completed with undelivered notifications.",
  kb = function() {
    var t;
    typeof ErrorEvent == "function"
      ? t = new ErrorEvent("error", { message: Cb })
      : (t = document.createEvent("Event"),
        t.initEvent("error", !1, !1),
        t.message = Cb), window.dispatchEvent(t);
  };
var Ro;
(function(t) {
  t.BORDER_BOX = "border-box",
    t.CONTENT_BOX = "content-box",
    t.DEVICE_PIXEL_CONTENT_BOX = "device-pixel-content-box";
})(Ro || (Ro = {}));
var kn = function(t) {
  return Object.freeze(t);
};
var rp = function() {
  function t(e, i) {
    this.inlineSize = e, this.blockSize = i, kn(this);
  }
  return t;
}();
var np = function() {
  function t(e, i, r, n) {
    return this.x = e,
      this.y = i,
      this.width = r,
      this.height = n,
      this.top = this.y,
      this.left = this.x,
      this.bottom = this.top + this.height,
      this.right = this.left + this.width,
      kn(this);
  }
  return t.prototype.toJSON = function() {
    var e = this,
      i = e.x,
      r = e.y,
      n = e.top,
      a = e.right,
      o = e.bottom,
      s = e.left,
      l = e.width,
      d = e.height;
    return {
      x: i,
      y: r,
      top: n,
      right: a,
      bottom: o,
      left: s,
      width: l,
      height: d,
    };
  },
    t.fromRect = function(e) {
      return new t(e.x, e.y, e.width, e.height);
    },
    t;
}();
var fd = function(t) {
    return t instanceof SVGElement && "getBBox" in t;
  },
  Mu = function(t) {
    if (fd(t)) {
      var e = t.getBBox(), i = e.width, r = e.height;
      return !i && !r;
    }
    var n = t, a = n.offsetWidth, o = n.offsetHeight;
    return !(a || o || t.getClientRects().length);
  },
  ap = function(t) {
    var e;
    if (t instanceof Element) return !0;
    var i = (e = t?.ownerDocument) === null || e === void 0 ? void 0
    : e.defaultView;
    return !!(i && t instanceof i.Element);
  },
  Lb = function(t) {
    switch (t.tagName) {
      case "INPUT":
        if (t.type !== "image") break;
      case "VIDEO":
      case "AUDIO":
      case "EMBED":
      case "OBJECT":
      case "CANVAS":
      case "IFRAME":
      case "IMG":
        return !0;
    }
    return !1;
  };
var Fo = typeof window < "u" ? window : {};
var Nu = new WeakMap(),
  Ob = /auto|scroll/,
  xC = /^tb|vertical/,
  bC = /msie|trident/i.test(Fo.navigator && Fo.navigator.userAgent),
  Vn = function(t) {
    return parseFloat(t || "0");
  },
  Rs = function(t, e, i) {
    return t === void 0 && (t = 0),
      e === void 0 && (e = 0),
      i === void 0 && (i = !1),
      new rp((i ? e : t) || 0, (i ? t : e) || 0);
  },
  Rb = kn({
    devicePixelContentBoxSize: Rs(),
    borderBoxSize: Rs(),
    contentBoxSize: Rs(),
    contentRect: new np(0, 0, 0, 0),
  }),
  op = function(t, e) {
    if (e === void 0 && (e = !1), Nu.has(t) && !e) return Nu.get(t);
    if (Mu(t)) return Nu.set(t, Rb), Rb;
    var i = getComputedStyle(t),
      r = fd(t) && t.ownerSVGElement && t.getBBox(),
      n = !bC && i.boxSizing === "border-box",
      a = xC.test(i.writingMode || ""),
      o = !r && Ob.test(i.overflowY || ""),
      s = !r && Ob.test(i.overflowX || ""),
      l = r ? 0 : Vn(i.paddingTop),
      d = r ? 0 : Vn(i.paddingRight),
      c = r ? 0 : Vn(i.paddingBottom),
      u = r ? 0 : Vn(i.paddingLeft),
      f = r ? 0 : Vn(i.borderTopWidth),
      h = r ? 0 : Vn(i.borderRightWidth),
      x = r ? 0 : Vn(i.borderBottomWidth),
      S = r ? 0 : Vn(i.borderLeftWidth),
      p = u + d,
      y = l + c,
      E = S + h,
      g = f + x,
      _ = s ? t.offsetHeight - g - t.clientHeight : 0,
      $ = o ? t.offsetWidth - E - t.clientWidth : 0,
      z = n ? p + E : 0,
      I = n ? y + g : 0,
      D = r ? r.width : Vn(i.width) - z - $,
      V = r ? r.height : Vn(i.height) - I - _,
      ue = D + p + $ + E,
      ne = V + y + _ + g,
      ee = kn({
        devicePixelContentBoxSize: Rs(
          Math.round(D * devicePixelRatio),
          Math.round(V * devicePixelRatio),
          a,
        ),
        borderBoxSize: Rs(ue, ne, a),
        contentBoxSize: Rs(D, V, a),
        contentRect: new np(u, l, D, V),
      });
    return Nu.set(t, ee), ee;
  },
  Pu = function(t, e, i) {
    var r = op(t, i),
      n = r.borderBoxSize,
      a = r.contentBoxSize,
      o = r.devicePixelContentBoxSize;
    switch (e) {
      case Ro.DEVICE_PIXEL_CONTENT_BOX:
        return o;
      case Ro.BORDER_BOX:
        return n;
      default:
        return a;
    }
  };
var sp = function() {
  function t(e) {
    var i = op(e);
    this.target = e,
      this.contentRect = i.contentRect,
      this.borderBoxSize = kn([i.borderBoxSize]),
      this.contentBoxSize = kn([i.contentBoxSize]),
      this.devicePixelContentBoxSize = kn([i.devicePixelContentBoxSize]);
  }
  return t;
}();
var zu = function(t) {
  if (Mu(t)) return 1 / 0;
  for (var e = 0, i = t.parentNode; i;) e += 1, i = i.parentNode;
  return e;
};
var Fb = function() {
  var t = 1 / 0, e = [];
  mn.forEach(function(o) {
    if (o.activeTargets.length !== 0) {
      var s = [];
      o.activeTargets.forEach(function(d) {
        var c = new sp(d.target), u = zu(d.target);
        s.push(c),
          d.lastReportedSize = Pu(d.target, d.observedBox),
          u < t && (t = u);
      }),
        e.push(function() {
          o.callback.call(o.observer, s, o.observer);
        }),
        o.activeTargets.splice(0, o.activeTargets.length);
    }
  });
  for (var i = 0, r = e; i < r.length; i++) {
    var n = r[i];
    n();
  }
  return t;
};
var lp = function(t) {
  mn.forEach(function(i) {
    i.activeTargets.splice(0, i.activeTargets.length),
      i.skippedTargets.splice(0, i.skippedTargets.length),
      i.observationTargets.forEach(function(n) {
        n.isActive()
          && (zu(n.target) > t
            ? i.activeTargets.push(n)
            : i.skippedTargets.push(n));
      });
  });
};
var Db = function() {
  var t = 0;
  for (lp(t); Ab();) t = Fb(), lp(t);
  return Ib() && kb(), t > 0;
};
var dp,
  $b = [],
  yC = function() {
    return $b.splice(0).forEach(function(t) {
      return t();
    });
  },
  Mb = function(t) {
    if (!dp) {
      var e = 0, i = document.createTextNode(""), r = { characterData: !0 };
      new MutationObserver(function() {
        return yC();
      }).observe(i, r),
        dp = function() {
          i.textContent = "".concat(e ? e-- : e++);
        };
    }
    $b.push(t), dp();
  };
var Nb = function(t) {
  Mb(function() {
    requestAnimationFrame(t);
  });
};
var Bu = 0,
  wC = function() {
    return !!Bu;
  },
  SC = 250,
  EC = { attributes: !0, characterData: !0, childList: !0, subtree: !0 },
  Pb = [
    "resize",
    "load",
    "transitionend",
    "animationend",
    "animationstart",
    "animationiteration",
    "keyup",
    "keydown",
    "mouseup",
    "mousedown",
    "mouseover",
    "mouseout",
    "blur",
    "focus",
  ],
  zb = function(t) {
    return t === void 0 && (t = 0), Date.now() + t;
  },
  cp = !1,
  TC = function() {
    function t() {
      var e = this;
      this.stopped = !0,
        this.listener = function() {
          return e.schedule();
        };
    }
    return t.prototype.run = function(e) {
      var i = this;
      if (e === void 0 && (e = SC), !cp) {
        cp = !0;
        var r = zb(e);
        Nb(function() {
          var n = !1;
          try {
            n = Db();
          }
          finally {
            if (cp = !1, e = r - zb(), !wC()) return;
            n ? i.run(1e3) : e > 0 ? i.run(e) : i.start();
          }
        });
      }
    },
      t.prototype.schedule = function() {
        this.stop(), this.run();
      },
      t.prototype.observe = function() {
        var e = this,
          i = function() {
            return e.observer && e.observer.observe(document.body, EC);
          };
        document.body ? i() : Fo.addEventListener("DOMContentLoaded", i);
      },
      t.prototype.start = function() {
        var e = this;
        this.stopped
          && (this.stopped = !1,
            this.observer = new MutationObserver(this.listener),
            this.observe(),
            Pb.forEach(function(i) {
              return Fo.addEventListener(i, e.listener, !0);
            }));
      },
      t.prototype.stop = function() {
        var e = this;
        this.stopped
          || (this.observer && this.observer.disconnect(),
            Pb.forEach(function(i) {
              return Fo.removeEventListener(i, e.listener, !0);
            }),
            this.stopped = !0);
      },
      t;
  }(),
  Uu = new TC(),
  up = function(t) {
    !Bu && t > 0 && Uu.start(), Bu += t, !Bu && Uu.stop();
  };
var AC = function(t) {
    return !fd(t) && !Lb(t) && getComputedStyle(t).display === "inline";
  },
  Bb = function() {
    function t(e, i) {
      this.target = e,
        this.observedBox = i || Ro.CONTENT_BOX,
        this.lastReportedSize = { inlineSize: 0, blockSize: 0 };
    }
    return t.prototype.isActive = function() {
      var e = Pu(this.target, this.observedBox, !0);
      return AC(this.target) && (this.lastReportedSize = e),
        this.lastReportedSize.inlineSize !== e.inlineSize
        || this.lastReportedSize.blockSize !== e.blockSize;
    },
      t;
  }();
var Ub = function() {
  function t(e, i) {
    this.activeTargets = [],
      this.skippedTargets = [],
      this.observationTargets = [],
      this.observer = e,
      this.callback = i;
  }
  return t;
}();
var Gu = new WeakMap(),
  Gb = function(t, e) {
    for (var i = 0; i < t.length; i += 1) if (t[i].target === e) return i;
    return -1;
  },
  md = function() {
    function t() {}
    return t.connect = function(e, i) {
      var r = new Ub(e, i);
      Gu.set(e, r);
    },
      t.observe = function(e, i, r) {
        var n = Gu.get(e), a = n.observationTargets.length === 0;
        Gb(n.observationTargets, i) < 0
          && (a && mn.push(n),
            n.observationTargets.push(new Bb(i, r && r.box)),
            up(1),
            Uu.schedule());
      },
      t.unobserve = function(e, i) {
        var r = Gu.get(e),
          n = Gb(r.observationTargets, i),
          a = r.observationTargets.length === 1;
        n >= 0
          && (a && mn.splice(mn.indexOf(r), 1),
            r.observationTargets.splice(n, 1),
            up(-1));
      },
      t.disconnect = function(e) {
        var i = this, r = Gu.get(e);
        r.observationTargets.slice().forEach(function(n) {
          return i.unobserve(e, n.target);
        }), r.activeTargets.splice(0, r.activeTargets.length);
      },
      t;
  }();
var Ga = function() {
  function t(e) {
    if (arguments.length === 0) {
      throw new TypeError(
        "Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.",
      );
    }
    if (typeof e != "function") {
      throw new TypeError(
        "Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.",
      );
    }
    md.connect(this, e);
  }
  return t.prototype.observe = function(e, i) {
    if (arguments.length === 0) {
      throw new TypeError(
        "Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.",
      );
    }
    if (!ap(e)) {
      throw new TypeError(
        "Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element",
      );
    }
    md.observe(this, e, i);
  },
    t.prototype.unobserve = function(e) {
      if (arguments.length === 0) {
        throw new TypeError(
          "Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.",
        );
      }
      if (!ap(e)) {
        throw new TypeError(
          "Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element",
        );
      }
      md.unobserve(this, e);
    },
    t.prototype.disconnect = function() {
      md.disconnect(this);
    },
    t.toString = function() {
      return "function ResizeObserver () { [polyfill code] }";
    },
    t;
}();
function Hb(t) {
  return t;
}
var fp = 1, mp = 2, hp = 3, Hu = 4, jb = 1e-6;
function IC(t) {
  return "translate(" + t + ",0)";
}
function CC(t) {
  return "translate(0," + t + ")";
}
function kC(t) {
  return e => +t(e);
}
function LC(t, e) {
  return e = Math.max(0, t.bandwidth() - e * 2) / 2,
    t.round() && (e = Math.round(e)),
    i => +t(i) + e;
}
function OC() {
  return !this.__axis;
}
function RC(t, e) {
  var i = [],
    r = null,
    n = null,
    a = 6,
    o = 6,
    s = 3,
    l = typeof window < "u" && window.devicePixelRatio > 1 ? 0 : .5,
    d = t === fp || t === Hu ? -1 : 1,
    c = t === Hu || t === mp ? "x" : "y",
    u = t === fp || t === hp ? IC : CC;
  function f(h) {
    var x = r ?? (e.ticks ? e.ticks.apply(e, i) : e.domain()),
      S = n ?? (e.tickFormat ? e.tickFormat.apply(e, i) : Hb),
      p = Math.max(a, 0) + s,
      y = e.range(),
      E = +y[0] + l,
      g = +y[y.length - 1] + l,
      _ = (e.bandwidth ? LC : kC)(e.copy(), l),
      $ = h.selection ? h.selection() : h,
      z = $.selectAll(".domain").data([null]),
      I = $.selectAll(".tick").data(x, e).order(),
      D = I.exit(),
      V = I.enter().append("g").attr("class", "tick"),
      ue = I.select("line"),
      ne = I.select("text");
    z = z.merge(
      z.enter().insert("path", ".tick").attr("class", "domain").attr(
        "stroke",
        "currentColor",
      ),
    ),
      I = I.merge(V),
      ue = ue.merge(
        V.append("line").attr("stroke", "currentColor").attr(c + "2", d * a),
      ),
      ne = ne.merge(
        V.append("text").attr("fill", "currentColor").attr(c, d * p).attr(
          "dy",
          t === fp
            ? "0em"
            : t === hp
            ? "0.71em"
            : "0.32em",
        ),
      ),
      h !== $
      && (z = z.transition(h),
        I = I.transition(h),
        ue = ue.transition(h),
        ne = ne.transition(h),
        D = D.transition(h).attr("opacity", jb).attr("transform", function(ee) {
          return isFinite(ee = _(ee))
            ? u(ee + l)
            : this.getAttribute("transform");
        }),
        V.attr("opacity", jb).attr("transform", function(ee) {
          var R = this.parentNode.__axis;
          return u((R && isFinite(R = R(ee)) ? R : _(ee)) + l);
        })),
      D.remove(),
      z.attr(
        "d",
        t === Hu || t === mp
          ? o
            ? "M" + d * o + "," + E + "H" + l + "V" + g + "H" + d * o
            : "M" + l + "," + E + "V" + g
          : o
          ? "M" + E + "," + d * o + "V" + l + "H" + g + "V" + d * o
          : "M" + E + "," + l + "H" + g,
      ),
      I.attr("opacity", 1).attr("transform", function(ee) {
        return u(_(ee) + l);
      }),
      ue.attr(c + "2", d * a),
      ne.attr(c, d * p).text(S),
      $.filter(OC).attr("fill", "none").attr("font-size", 10).attr(
        "font-family",
        "sans-serif",
      ).attr("text-anchor", t === mp ? "start" : t === Hu ? "end" : "middle"),
      $.each(function() {
        this.__axis = _;
      });
  }
  return f.scale = function(h) {
    return arguments.length ? (e = h, f) : e;
  },
    f.ticks = function() {
      return i = Array.from(arguments), f;
    },
    f.tickArguments = function(h) {
      return arguments.length ? (i = h == null ? [] : Array.from(h), f)
      : i.slice();
    },
    f.tickValues = function(h) {
      return arguments.length ? (r = h == null ? null : Array.from(h), f)
      : r && r.slice();
    },
    f.tickFormat = function(h) {
      return arguments.length ? (n = h, f) : n;
    },
    f.tickSize = function(h) {
      return arguments.length ? (a = o = +h, f) : a;
    },
    f.tickSizeInner = function(h) {
      return arguments.length ? (a = +h, f) : a;
    },
    f.tickSizeOuter = function(h) {
      return arguments.length ? (o = +h, f) : o;
    },
    f.tickPadding = function(h) {
      return arguments.length ? (s = +h, f) : s;
    },
    f.offset = function(h) {
      return arguments.length ? (l = +h, f) : l;
    },
    f;
}
function Fs(t) {
  return RC(hp, t);
}
var ju = t => () => t;
function pp(
  t,
  { sourceEvent: e, target: i, selection: r, mode: n, dispatch: a },
) {
  Object.defineProperties(this, {
    type: { value: t, enumerable: !0, configurable: !0 },
    sourceEvent: { value: e, enumerable: !0, configurable: !0 },
    target: { value: i, enumerable: !0, configurable: !0 },
    selection: { value: r, enumerable: !0, configurable: !0 },
    mode: { value: n, enumerable: !0, configurable: !0 },
    _: { value: a },
  });
}
function Vb(t) {
  t.stopImmediatePropagation();
}
function Vu(t) {
  t.preventDefault(), t.stopImmediatePropagation();
}
var qb = { name: "drag" },
  gp = { name: "space" },
  Ds = { name: "handle" },
  $s = { name: "center" },
  { abs: Wb, max: $r, min: Mr } = Math;
function Yb(t) {
  return [+t[0], +t[1]];
}
function xp(t) {
  return [Yb(t[0]), Yb(t[1])];
}
var qu = {
    name: "x",
    handles: ["w", "e"].map(hd),
    input: function(t, e) {
      return t == null ? null : [[+t[0], e[0][1]], [+t[1], e[1][1]]];
    },
    output: function(t) {
      return t && [t[0][0], t[1][0]];
    },
  },
  vp = {
    name: "y",
    handles: ["n", "s"].map(hd),
    input: function(t, e) {
      return t == null ? null : [[e[0][0], +t[0]], [e[1][0], +t[1]]];
    },
    output: function(t) {
      return t && [t[0][1], t[1][1]];
    },
  },
  XP = {
    name: "xy",
    handles: ["n", "w", "e", "s", "nw", "ne", "sw", "se"].map(hd),
    input: function(t) {
      return t == null ? null : xp(t);
    },
    output: function(t) {
      return t;
    },
  },
  fa = {
    overlay: "crosshair",
    selection: "move",
    n: "ns-resize",
    e: "ew-resize",
    s: "ns-resize",
    w: "ew-resize",
    nw: "nwse-resize",
    ne: "nesw-resize",
    se: "nwse-resize",
    sw: "nesw-resize",
  },
  Xb = { e: "w", w: "e", nw: "ne", ne: "nw", se: "sw", sw: "se" },
  Kb = { n: "s", s: "n", nw: "sw", ne: "se", se: "ne", sw: "nw" },
  FC = {
    overlay: 1,
    selection: 1,
    n: null,
    e: 1,
    s: null,
    w: -1,
    nw: -1,
    ne: 1,
    se: 1,
    sw: -1,
  },
  DC = {
    overlay: 1,
    selection: 1,
    n: -1,
    e: null,
    s: 1,
    w: null,
    nw: -1,
    ne: -1,
    se: 1,
    sw: 1,
  };
function hd(t) {
  return { type: t };
}
function $C(t) {
  return !t.ctrlKey && !t.button;
}
function MC() {
  var t = this.ownerSVGElement || this;
  return t.hasAttribute("viewBox")
    ? (t = t.viewBox.baseVal, [[t.x, t.y], [t.x + t.width, t.y + t.height]])
    : [[0, 0], [t.width.baseVal.value, t.height.baseVal.value]];
}
function NC() {
  return navigator.maxTouchPoints || "ontouchstart" in this;
}
function _p(t) {
  for (; !t.__brush;) if (!(t = t.parentNode)) return;
  return t.__brush;
}
function PC(t) {
  return t[0][0] === t[1][0] || t[0][1] === t[1][1];
}
function pd() {
  return zC(qu);
}
function zC(t) {
  var e = MC, i = $C, r = NC, n = !0, a = po("start", "brush", "end"), o = 6, s;
  function l(p) {
    var y = p.property("__brush", S).selectAll(".overlay").data([
      hd("overlay"),
    ]);
    y.enter().append("rect").attr("class", "overlay").attr(
      "pointer-events",
      "all",
    ).attr("cursor", fa.overlay).merge(y).each(function() {
      var g = _p(this).extent;
      ai(this).attr("x", g[0][0]).attr("y", g[0][1]).attr(
        "width",
        g[1][0] - g[0][0],
      ).attr("height", g[1][1] - g[0][1]);
    }),
      p.selectAll(".selection").data([hd("selection")]).enter().append("rect")
        .attr("class", "selection").attr("cursor", fa.selection).attr(
          "fill",
          "#777",
        ).attr("fill-opacity", .3).attr("stroke", "#fff").attr(
          "shape-rendering",
          "crispEdges",
        );
    var E = p.selectAll(".handle").data(t.handles, function(g) {
      return g.type;
    });
    E.exit().remove(),
      E.enter().append("rect").attr("class", function(g) {
        return "handle handle--" + g.type;
      }).attr("cursor", function(g) {
        return fa[g.type];
      }),
      p.each(d).attr("fill", "none").attr("pointer-events", "all").on(
        "mousedown.brush",
        f,
      ).filter(r).on("touchstart.brush", f).on("touchmove.brush", h).on(
        "touchend.brush touchcancel.brush",
        x,
      ).style("touch-action", "none").style(
        "-webkit-tap-highlight-color",
        "rgba(0,0,0,0)",
      );
  }
  l.move = function(p, y, E) {
    p.tween
      ? p.on("start.brush", function(g) {
        c(this, arguments).beforestart().start(g);
      }).on("interrupt.brush end.brush", function(g) {
        c(this, arguments).end(g);
      }).tween("brush", function() {
        var g = this,
          _ = g.__brush,
          $ = c(g, arguments),
          z = _.selection,
          I = t.input(
            typeof y == "function" ? y.apply(this, arguments) : y,
            _.extent,
          ),
          D = la(z, I);
        function V(ue) {
          _.selection = ue === 1 && I === null ? null : D(ue),
            d.call(g),
            $.brush();
        }
        return z !== null && I !== null ? V : V(1);
      })
      : p.each(function() {
        var g = this,
          _ = arguments,
          $ = g.__brush,
          z = t.input(typeof y == "function" ? y.apply(g, _) : y, $.extent),
          I = c(g, _).beforestart();
        Pn(g),
          $.selection = z === null ? null : z,
          d.call(g),
          I.start(E).brush(E).end(E);
      });
  },
    l.clear = function(p, y) {
      l.move(p, null, y);
    };
  function d() {
    var p = ai(this), y = _p(this).selection;
    y
      ? (p.selectAll(".selection").style("display", null).attr("x", y[0][0])
        .attr("y", y[0][1]).attr("width", y[1][0] - y[0][0]).attr(
          "height",
          y[1][1] - y[0][1],
        ),
        p.selectAll(".handle").style("display", null).attr("x", function(E) {
          return E.type[E.type.length - 1] === "e"
            ? y[1][0] - o / 2
            : y[0][0] - o / 2;
        }).attr("y", function(E) {
          return E.type[0] === "s" ? y[1][1] - o / 2 : y[0][1] - o / 2;
        }).attr("width", function(E) {
          return E.type === "n" || E.type === "s" ? y[1][0] - y[0][0] + o : o;
        }).attr("height", function(E) {
          return E.type === "e" || E.type === "w" ? y[1][1] - y[0][1] + o : o;
        }))
      : p.selectAll(".selection,.handle").style("display", "none").attr(
        "x",
        null,
      ).attr("y", null).attr("width", null).attr("height", null);
  }
  function c(p, y, E) {
    var g = p.__brush.emitter;
    return g && (!E || !g.clean) ? g : new u(p, y, E);
  }
  function u(p, y, E) {
    this.that = p,
      this.args = y,
      this.state = p.__brush,
      this.active = 0,
      this.clean = E;
  }
  u.prototype = {
    beforestart: function() {
      return ++this.active === 1
        && (this.state.emitter = this, this.starting = !0),
        this;
    },
    start: function(p, y) {
      return this.starting
        ? (this.starting = !1, this.emit("start", p, y))
        : this.emit("brush", p),
        this;
    },
    brush: function(p, y) {
      return this.emit("brush", p, y), this;
    },
    end: function(p, y) {
      return --this.active === 0
        && (delete this.state.emitter, this.emit("end", p, y)),
        this;
    },
    emit: function(p, y, E) {
      var g = ai(this.that).datum();
      a.call(
        p,
        this.that,
        new pp(p, {
          sourceEvent: y,
          target: l,
          selection: t.output(this.state.selection),
          mode: E,
          dispatch: a,
        }),
        g,
      );
    },
  };
  function f(p) {
    if (s && !p.touches || !i.apply(this, arguments)) return;
    var y = this,
      E = p.target.__data__.type,
      g = (n && p.metaKey ? E = "overlay" : E) === "selection"
        ? qb
        : n && p.altKey
        ? $s
        : Ds,
      _ = t === vp ? null : FC[E],
      $ = t === qu ? null : DC[E],
      z = _p(y),
      I = z.extent,
      D = z.selection,
      V = I[0][0],
      ue,
      ne,
      ee = I[0][1],
      R,
      A,
      X = I[1][0],
      G,
      te,
      De = I[1][1],
      Se,
      Fe,
      Be = 0,
      We = 0,
      me,
      gt = _ && $ && n && p.shiftKey,
      St,
      ft,
      xt = Array.from(p.touches || [p], mt => {
        let Rt = mt.identifier;
        return mt = cn(mt, y), mt.point0 = mt.slice(), mt.identifier = Rt, mt;
      });
    Pn(y);
    var _e = c(y, arguments, !0).beforestart();
    if (E === "overlay") {
      D && (me = !0);
      let mt = [xt[0], xt[1] || xt[0]];
      z.selection = D = [[
        ue = t === vp ? V : Mr(mt[0][0], mt[1][0]),
        R = t === qu ? ee : Mr(mt[0][1], mt[1][1]),
      ], [
        G = t === vp ? X : $r(mt[0][0], mt[1][0]),
        Se = t === qu ? De : $r(mt[0][1], mt[1][1]),
      ]], xt.length > 1 && Tt(p);
    }
    else ue = D[0][0], R = D[0][1], G = D[1][0], Se = D[1][1];
    ne = ue, A = R, te = G, Fe = Se;
    var le = ai(y).attr("pointer-events", "none"),
      Ke = le.selectAll(".overlay").attr("cursor", fa[E]);
    if (p.touches) _e.moved = Ee, _e.ended = At;
    else {
      var dt = ai(p.view).on("mousemove.brush", Ee, !0).on(
        "mouseup.brush",
        At,
        !0,
      );
      n && dt.on("keydown.brush", yi, !0).on("keyup.brush", Wt, !0), rd(p.view);
    }
    d.call(y), _e.start(p, g.name);
    function Ee(mt) {
      for (let Rt of mt.changedTouches || [mt]) {
        for (let xe of xt) {
          xe.identifier === Rt.identifier && (xe.cur = cn(Rt, y));
        }
      }
      if (gt && !St && !ft && xt.length === 1) {
        let Rt = xt[0];
        Wb(Rt.cur[0] - Rt[0]) > Wb(Rt.cur[1] - Rt[1]) ? ft = !0 : St = !0;
      }
      for (let Rt of xt) Rt.cur && (Rt[0] = Rt.cur[0], Rt[1] = Rt.cur[1]);
      me = !0, Vu(mt), Tt(mt);
    }
    function Tt(mt) {
      let Rt = xt[0], xe = Rt.point0;
      var at;
      switch (Be = Rt[0] - xe[0], We = Rt[1] - xe[1], g) {
        case gp:
        case qb: {
          _ && (Be = $r(V - ue, Mr(X - G, Be)), ne = ue + Be, te = G + Be),
            $ && (We = $r(ee - R, Mr(De - Se, We)), A = R + We, Fe = Se + We);
          break;
        }
        case Ds: {
          xt[1]
            ? (_
              && (ne = $r(V, Mr(X, xt[0][0])),
                te = $r(V, Mr(X, xt[1][0])),
                _ = 1),
              $
              && (A = $r(ee, Mr(De, xt[0][1])),
                Fe = $r(ee, Mr(De, xt[1][1])),
                $ = 1))
            : (_ < 0
              ? (Be = $r(V - ue, Mr(X - ue, Be)), ne = ue + Be, te = G)
              : _ > 0 && (Be = $r(V - G, Mr(X - G, Be)), ne = ue, te = G + Be),
              $ < 0
                ? (We = $r(ee - R, Mr(De - R, We)), A = R + We, Fe = Se)
                : $ > 0
                  && (We = $r(ee - Se, Mr(De - Se, We)), A = R, Fe = Se + We));
          break;
        }
        case $s: {
          _ && (ne = $r(V, Mr(X, ue - Be * _)), te = $r(V, Mr(X, G + Be * _))),
            $
            && (A = $r(ee, Mr(De, R - We * $)),
              Fe = $r(ee, Mr(De, Se + We * $)));
          break;
        }
      }
      te < ne
      && (_ *= -1,
        at = ue,
        ue = G,
        G = at,
        at = ne,
        ne = te,
        te = at,
        E in Xb && Ke.attr("cursor", fa[E = Xb[E]])),
        Fe < A
        && ($ *= -1,
          at = R,
          R = Se,
          Se = at,
          at = A,
          A = Fe,
          Fe = at,
          E in Kb && Ke.attr("cursor", fa[E = Kb[E]])),
        z.selection && (D = z.selection),
        St && (ne = D[0][0], te = D[1][0]),
        ft && (A = D[0][1], Fe = D[1][1]),
        (D[0][0] !== ne || D[0][1] !== A || D[1][0] !== te || D[1][1] !== Fe)
        && (z.selection = [[ne, A], [te, Fe]], d.call(y), _e.brush(mt, g.name));
    }
    function At(mt) {
      if (Vb(mt), mt.touches) {
        if (mt.touches.length) return;
        s && clearTimeout(s),
          s = setTimeout(function() {
            s = null;
          }, 500);
      }
      else {
        nd(mt.view, me),
          dt.on(
            "keydown.brush keyup.brush mousemove.brush mouseup.brush",
            null,
          );
      }
      le.attr("pointer-events", "all"),
        Ke.attr("cursor", fa.overlay),
        z.selection && (D = z.selection),
        PC(D) && (z.selection = null, d.call(y)),
        _e.end(mt, g.name);
    }
    function yi(mt) {
      switch (mt.keyCode) {
        case 16: {
          gt = _ && $;
          break;
        }
        case 18: {
          g === Ds
            && (_ && (G = te - Be * _, ue = ne + Be * _),
              $ && (Se = Fe - We * $, R = A + We * $),
              g = $s,
              Tt(mt));
          break;
        }
        case 32: {
          (g === Ds || g === $s)
            && (_ < 0 ? G = te - Be : _ > 0 && (ue = ne - Be),
              $ < 0 ? Se = Fe - We : $ > 0 && (R = A - We),
              g = gp,
              Ke.attr("cursor", fa.selection),
              Tt(mt));
          break;
        }
        default:
          return;
      }
      Vu(mt);
    }
    function Wt(mt) {
      switch (mt.keyCode) {
        case 16: {
          gt && (St = ft = gt = !1, Tt(mt));
          break;
        }
        case 18: {
          g === $s
            && (_ < 0 ? G = te : _ > 0 && (ue = ne),
              $ < 0 ? Se = Fe : $ > 0 && (R = A),
              g = Ds,
              Tt(mt));
          break;
        }
        case 32: {
          g === gp
            && (mt.altKey
              ? (_ && (G = te - Be * _, ue = ne + Be * _),
                $ && (Se = Fe - We * $, R = A + We * $),
                g = $s)
              : (_ < 0 ? G = te : _ > 0 && (ue = ne),
                $ < 0 ? Se = Fe : $ > 0 && (R = A),
                g = Ds),
              Ke.attr("cursor", fa[E]),
              Tt(mt));
          break;
        }
        default:
          return;
      }
      Vu(mt);
    }
  }
  function h(p) {
    c(this, arguments).moved(p);
  }
  function x(p) {
    c(this, arguments).ended(p);
  }
  function S() {
    var p = this.__brush || { selection: null };
    return p.extent = xp(e.apply(this, arguments)), p.dim = t, p;
  }
  return l.extent = function(p) {
    return arguments.length
      ? (e = typeof p == "function" ? p : ju(xp(p)), l)
      : e;
  },
    l.filter = function(p) {
      return arguments.length ? (i = typeof p == "function" ? p : ju(!!p), l)
      : i;
    },
    l.touchable = function(p) {
      return arguments.length ? (r = typeof p == "function" ? p : ju(!!p), l)
      : r;
    },
    l.handleSize = function(p) {
      return arguments.length ? (o = +p, l) : o;
    },
    l.keyModifiers = function(p) {
      return arguments.length ? (n = !!p, l) : n;
    },
    l.on = function() {
      var p = a.on.apply(a, arguments);
      return p === a ? l : p;
    },
    l;
}
var Zb =
    "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\"><path fill=\"currentColor\" d=\"M48 64C21.5 64 0 85.5 0 112V400c0 26.5 21.5 48 48 48H80c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48 21.5-48 48V400c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H240z\"/></svg>",
  Jb =
    "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\"><path fill=\"currentColor\" d=\"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z\"/></svg>";
var BC = rn(".%L"),
  UC = rn(":%S"),
  GC = rn("%I:%M"),
  HC = rn("%I %p"),
  jC = rn("%a %d"),
  VC = rn("%b %d"),
  qC = rn("%b"),
  WC = rn("%Y"),
  Qb = t => {
    let e = new Date(t);
    return (fn(e) < e ? BC : Ma(e) < e ? UC : Na(e) < e ? GC : En(e) < e
      ? HC
      : Ba(e) < e
      ? Tn(e) < e ? jC : VC
      : zr(e) < e
      ? qC
      : WC)(e);
  };
var YC = t => typeof t == "function",
  XC = t => Array.isArray(t),
  KC = t => t instanceof Object,
  Wu = t =>
    t.constructor.name !== "Function" && t.constructor.name !== "Object",
  bp = t => KC(t) && !XC(t) && !YC(t) && !Wu(t),
  Yu = (t, e = new Map()) => {
    if (typeof t != "object" || t === null) return t;
    if (t instanceof Date) return new Date(t.getTime());
    if (t instanceof Array) {
      let i = [];
      e.set(t, i);
      for (let r of t) i.push(e.has(r) ? e.get(r) : Yu(r, e));
      return t;
    }
    if (Wu(t)) return t;
    if (t instanceof Object) {
      let i = {};
      e.set(t, i);
      let r = t;
      return Object.keys(t).reduce(
        (n, a) => (n[a] = e.has(r[a]) ? e.get(r[a]) : Yu(r[a], e), n),
        i,
      ),
        i;
    }
    return t;
  },
  wr = (t, e, i = new Map()) => {
    let r = Wu(t) ? t : Yu(t);
    return t === e ? t : i.has(e)
      ? i.get(e)
      : (i.set(e, r),
        Object.keys(e).forEach(n => {
          bp(t[n]) && bp(e[n]) ? r[n] = wr(t[n], e[n], i) : Wu(e)
            ? r[n] = e
            : r[n] = Yu(e[n]);
        }),
        r);
  },
  ZC = (t, e, i) => t >= +e && +t <= +i,
  gd = (t, e) => {
    let [i, r] = e, n = Array.from(t.keys()), a = 0;
    return n.forEach(o => {
      var s;
      ZC(+o, +i, +r) && (a += (s = t.get(o)) !== null && s !== void 0 ? s : 0);
    }),
      a;
  },
  e1 = t => {
    let e = getComputedStyle(t), i = t.clientWidth, r = t.clientHeight;
    return r -= parseFloat(e.paddingTop) + parseFloat(e.paddingBottom),
      i -= parseFloat(e.paddingLeft) + parseFloat(e.paddingRight),
      { height: r, width: i };
  },
  Do = class {
    init(e) {
      let i = this;
      return Object.keys(e).forEach(r => {
        bp(i[r]) ? i[r] = wr(i[r], e[r]) : i[r] = e[r];
      }),
        this;
    }
  };
var JC = { top: 1, left: 0, bottom: 1, right: 0 },
  $o = class extends Do {
    constructor() {
      super(...arguments),
        this.allowSelection = !0,
        this.showAnimationControls = !1,
        this.animationSpeed = 50,
        this.padding = JC,
        this.axisTickHeight = 25,
        this.selectionRadius = 3,
        this.selectionPadding = 8,
        this.barCount = 100,
        this.barRadius = 1,
        this.barPadding = .1,
        this.barTopMargin = 3,
        this.minBarHeight = 1,
        this.dataStep = void 0,
        this.tickStep = void 0,
        this.formatter = Qb,
        this.events = {
          onBrush: void 0,
          onBarHover: void 0,
          onAnimationPlay: void 0,
          onAnimationPause: void 0,
        };
    }
  };
var t1 = [], vd = [];
function qn(t, e) {
  if (t && typeof document < "u") {
    var i,
      r = e.prepend === !0 ? "prepend" : "append",
      n = e.singleTag === !0,
      a = typeof e.container == "string"
        ? document.querySelector(e.container)
        : document.getElementsByTagName("head")[0];
    if (n) {
      var o = t1.indexOf(a);
      o === -1 && (o = t1.push(a) - 1, vd[o] = {}),
        i = vd[o] && vd[o][r] ? vd[o][r] : vd[o][r] = s();
    }
    else i = s();
    t.charCodeAt(0) === 65279 && (t = t.substring(1)),
      i.styleSheet
        ? i.styleSheet.cssText += t
        : i.appendChild(document.createTextNode(t));
  }
  function s() {
    var l = document.createElement("style");
    if (l.setAttribute("type", "text/css"), e.attributes) {
      for (var d = Object.keys(e.attributes), c = 0; c < d.length; c++) {
        l.setAttribute(d[c], e.attributes[d[c]]);
      }
    }
    var u = r === "prepend" ? "afterbegin" : "beforeend";
    return a.insertAdjacentElement(u, l), l;
  }
}
var QC =
    ":root{--cosmograph-timeline-text-color:#fff;--cosmograph-timeline-axis-color:#fff;--cosmograph-timeline-selection-color:#777;--cosmograph-timeline-selection-opacity:0.5;--cosmograph-timeline-bar-color:#7a7a7a;--cosmograph-timeline-font-family:inherit;--cosmograph-timeline-font-size:11px;--cosmograph-timeline-background:#222}.style_module_timeline__f90332e1{background:var(--cosmograph-timeline-background);display:flex;overflow:hidden;position:relative;width:100%}.style_module_timelineSvg__f90332e1{height:100%;position:relative;width:100%}.style_module_selection__f90332e1{fill:var(--cosmograph-timeline-selection-color);fill-opacity:var(--cosmograph-timeline-selection-opacity);stroke:none}.style_module_axisTick__f90332e1{text-anchor:initial;alignment-baseline:text-before-edge;color:var(--cosmograph-timeline-axis-color);font:var(--cosmograph-timeline-font-family);font-size:var(--cosmograph-timeline-font-size);font-weight:400;opacity:.7;user-select:none}.style_module_axisLine__f90332e1{color:var(--cosmograph-timeline-axis-color);opacity:.2}.style_module_bar__f90332e1{fill:var(--cosmograph-timeline-bar-color);opacity:0;transform:scaleY(-1)}.style_module_noData__f90332e1{height:100%;position:absolute;top:0;width:100%}.style_module_noData__f90332e1 div{align-items:center;display:flex;font-size:calc(var(--cosmograph-timeline-font-size) + 5px);font-weight:300;height:100%;justify-content:center;letter-spacing:1;opacity:.25;user-select:none}.style_module_animationControl__f90332e1{align-items:center;color:var(--cosmograph-timeline-axis-color);cursor:pointer;display:flex;height:100%;justify-content:center;max-width:30px;min-width:20px;opacity:.5;position:relative;user-select:none;width:6%}.style_module_animationControl__f90332e1>svg{max-height:20px;padding-right:2px;width:50%}.style_module_hidden__f90332e1{display:none}.style_module_disabled__f90332e1{opacity:.2;pointer-events:none}",
  gi = {
    timeline: "style_module_timeline__f90332e1",
    timelineSvg: "style_module_timelineSvg__f90332e1",
    selection: "style_module_selection__f90332e1",
    axisTick: "style_module_axisTick__f90332e1",
    axisLine: "style_module_axisLine__f90332e1",
    bar: "style_module_bar__f90332e1",
    noData: "style_module_noData__f90332e1",
    axis: "style_module_axis__f90332e1",
    bars: "style_module_bars__f90332e1",
    brush: "style_module_brush__f90332e1",
    animationControl: "style_module_animationControl__f90332e1",
    hidden: "style_module_hidden__f90332e1",
    disabled: "style_module_disabled__f90332e1",
    playAnimation: "style_module_playAnimation__f90332e1",
    pauseAnimation: "style_module_pauseAnimation__f90332e1",
  };
qn(QC, {});
var _d = class {
  constructor(e, i) {
    var r;
    if (
      this._isAnimationRunning = !1,
        this._svgParser = new DOMParser(),
        this._height = 0,
        this._width = 0,
        this._timelineWidth = 0,
        this._timelineHeight = 0,
        this._config = new $o(),
        this._barWidth = 0,
        this._maxCount = 0,
        this._barsData = [],
        this._timeData = void 0,
        this._bandIntervals = [],
        this._isNumericTimeline = !1,
        this._firstRender = !0,
        this._yScale = To(),
        this._timeScale = Eu(),
        this._numScale = un(),
        this._activeAxisScale = this._timeScale,
        this._timeAxis = Fs(this._timeScale),
        this._numAxis = Fs(this._numScale),
        this._toggleAnimation = n => {
          n.preventDefault(),
            this._isAnimationRunning
              ? this.pauseAnimation()
              : this.playAnimation();
        },
        this._disableAnimation = () => {
          var n, a;
          this.pauseAnimation(),
            (n = this._animationControlDiv) === null || n === void 0
            || n.removeEventListener("click", this._toggleAnimation),
            (a = this._animationControlDiv) === null || a === void 0
            || a.remove();
        },
        this.playAnimation = () => {
          var n, a, o, s;
          clearInterval(this._animationInterval),
            this._currentSelectionInPixels
            && (this._animationInterval = setInterval(
              this._animateSelection,
              this._config.animationSpeed,
            ),
              this._isAnimationRunning = !0,
              (a = (n = this._config.events).onAnimationPlay) === null
              || a === void 0
              || a.call(n, this._isAnimationRunning, this._currentSelection)),
            (o = this._pauseButtonSvg) === null || o === void 0
            || o.classList.remove(gi.hidden),
            (s = this._playButtonSvg) === null || s === void 0
            || s.classList.add(gi.hidden);
        },
        this.pauseAnimation = () => {
          var n, a, o, s;
          clearInterval(this._animationInterval),
            this._isAnimationRunning = !1,
            (a = (n = this._config.events).onAnimationPause) === null
            || a === void 0
            || a.call(n, this._isAnimationRunning, this._currentSelection),
            (o = this._pauseButtonSvg) === null || o === void 0
            || o.classList.add(gi.hidden),
            (s = this._playButtonSvg) === null || s === void 0
            || s.classList.remove(gi.hidden);
        },
        this.stopAnimation = () => {
          var n, a;
          this.pauseAnimation(),
            this.setSelection(void 0),
            (a = (n = this._config.events).onBrush) === null || a === void 0
            || a.call(n, void 0);
        },
        this._animateSelection = () => {
          var n, a;
          let o = this._currentSelectionInPixels;
          o && o[0] !== void 0 && o[1] !== void 0
            && (this.setSelectionInPixels([
              o[0] + this._barWidth,
              o[1] + this._barWidth,
            ]),
              o[1]
                    !== ((n = this._currentSelectionInPixels) === null
                        || n === void 0
                      ? void 0
                      : n[1])
                && ((a = this._currentSelectionInPixels) === null
                      || a === void 0
                    ? void 0
                    : a[1]) !== void 0 || this.stopAnimation());
        },
        this._checkLastTickPosition = () => {
          var n;
          let a = this._axisGroup.selectAll(".tick:last-of-type").nodes();
          if (a?.length) {
            let o = a[0],
              s = o?.getBoundingClientRect().right,
              l = (n = this._svg) === null || n === void 0
                ? void 0
                : n.getBoundingClientRect().right;
            o.style.display = s >= l ? "none" : "inherit";
          }
        },
        this.destroy = () => {
          this._containerNode.innerHTML = "",
            clearInterval(this._animationInterval);
        },
        i && this._config.init(i),
        this._containerNode = e,
        this._svg = document.createElementNS(
          "http://www.w3.org/2000/svg",
          "svg",
        ),
        this._svg.classList.add(gi.timelineSvg),
        this._animationControlDiv = document.createElement("div"),
        this._animationControlDiv.classList.add(gi.animationControl),
        this._containerNode.classList.add(gi.timeline),
        this._containerNode.appendChild(this._svg),
        this._noDataDiv = document.createElement("div"),
        ai(this._noDataDiv).style("display", "none").attr("class", gi.noData)
          .append("div").text("No timeline data"),
        this._containerNode.appendChild(this._noDataDiv),
        (r = this._config) === null || r === void 0
          ? void 0
          : r.showAnimationControls
    ) {
      let n = setInterval(() => {
        this._containerNode !== null
          && (this._initAnimationControls(), clearInterval(n));
      }, 100);
    }
    this._barsGroup = ai(this._svg).append("g").attr("class", gi.bars),
      this._axisGroup = ai(this._svg).append("g").attr("class", gi.axis),
      this._brushGroup = ai(this._svg).append("g").attr("class", gi.brush),
      this._timeAxis.tickFormat(this._config.formatter),
      this._numAxis.tickFormat(this._config.formatter),
      this._resizeObserver = new Ga(n => {
        window.requestAnimationFrame(() => {
          Array.isArray(n) && n.length && this.resize();
        });
      }),
      this._resizeObserver = new Ga(() => {
        this.resize();
      }),
      this._resizeObserver.observe(this._containerNode);
  }
  get _barPadding() {
    return this._barWidth * this._config.barPadding;
  }
  getCurrentSelection() {
    return this._currentSelection;
  }
  getCurrentSelectionInPixels() {
    return this._currentSelectionInPixels;
  }
  getBarWidth() {
    return this._barWidth - this._barPadding;
  }
  getConfig() {
    return this._config;
  }
  getIsAnimationRunning() {
    return this._isAnimationRunning;
  }
  setConfig(e) {
    var i, r, n, a, o, s;
    let l = JSON.parse(JSON.stringify(this._config));
    e ? this._config.init(e) : this._config = new $o(),
      !((i = this._config) === null || i === void 0) && i.showAnimationControls
        ? !((r = this._animationControlDiv) === null || r === void 0)
            && r.isConnected || this._initAnimationControls()
        : this._animationControlDiv && this._disableAnimation(),
      this._config.allowSelection || this._disableBrush(),
      this._config.formatter
      && (this._timeAxis.tickFormat(this._config.formatter),
        this._numAxis.tickFormat(this._config.formatter)),
      ((n = this._config) === null || n === void 0 ? void 0 : n.dataStep)
            === ((a = l.config) === null || a === void 0
              ? void 0
              : a.dataStep)
        && ((o = this._config) === null || o === void 0 ? void 0 : o.barCount)
          === ((s = l.config) === null || s === void 0
            ? void 0
            : s.barCount) || this._updateTimelineData(),
      this.resize();
  }
  setTimeData(e) {
    var i, r, n;
    this._timeData = e?.filter(a => !isNaN(+a) && a !== void 0),
      this._currentSelection = void 0,
      (r = (i = this._config.events).onBrush) === null || r === void 0
      || r.call(i, this._currentSelection),
      this._updateScales(),
      ai(this._noDataDiv).style("display", "none"),
      !((n = this._timeData) === null || n === void 0) && n.length
        ? (this._dateExtent = ca(this._timeData), this._updateTimelineData())
        : (this._barsData = [],
          this._axisGroup.selectAll("*").remove(),
          this._barsGroup.selectAll("*").remove(),
          this._brushGroup.selectAll("*").remove(),
          ai(this._noDataDiv).style("display", "block"),
          this._firstRender = !0);
  }
  _getBarsData(e, i) {
    var r, n;
    if (
      !(e[1] <= e[0])
      && (!((r = this._timeData) === null || r === void 0) && r.length)
      && this._dateExtent
    ) {
      let a = ws(this._timeData, c => c.length, c => c),
        o = (n = this._config.dataStep) !== null && n !== void 0
          ? n
          : (e[1] - e[0]) / (this._config.barCount - 1);
      if (o === 0) return;
      this._bandIntervals = So(+e[0], +e[1], o);
      let s = this._bandIntervals[this._bandIntervals.length - 1],
        l = this._config.dataStep ? +s + o : e[1];
      i
      && (this._bandIntervals = this._bandIntervals.map(c => new Date(c)),
        l = new Date(l)), s < e[1] && this._bandIntervals.push(l);
      let d = wo(this._bandIntervals);
      this._barsData = d.map(c => ({
        rangeStart: c[0],
        rangeEnd: c[1],
        count: gd(a, c),
      }));
    }
  }
  _updateTimelineData() {
    var e;
    if (
      !((e = this._timeData) === null || e === void 0) && e.length
      && this._dateExtent
    ) {
      if (
        this._isNumericTimeline = !(this._timeData[0] instanceof Date),
          this._isNumericTimeline
      ) {
        this._getBarsData(this._dateExtent);
      }
      else {
        this._timeData = this._timeData.map(r => new Date(r));
        let i = this._dateExtent.map(r => {
          var n;
          return (n = r.getTime()) !== null && n !== void 0 ? n : 0;
        });
        this._getBarsData(i);
      }
      this._maxCount = Math.max(...this._barsData.map(i => i.count));
    }
  }
  setSelection(e, i = !1) {
    var r, n, a, o;
    let s = this._currentSelection;
    e && this._dateExtent && e[0] >= this._dateExtent[0]
      && e[1] <= this._dateExtent[1] && e[0] < e[1]
      ? (this._currentSelection = e,
        this._currentSelectionInPixels = this._currentSelection.map(
          this._activeAxisScale,
        ),
        (r = this._animationControlDiv) === null || r === void 0
        || r.classList.remove(gi.disabled))
      : (this._currentSelection = void 0,
        this._currentSelectionInPixels = void 0,
        (n = this._animationControlDiv) === null || n === void 0
        || n.classList.add(gi.disabled));
    let { _currentSelection: l } = this;
    i || s?.[0] === l?.[0] && s?.[1] === l?.[1]
    || (o = (a = this._config.events).onBrush) === null || o === void 0
    || o.call(a, this._currentSelection, !0),
      this._brushInstance && !this._firstRender
      && this._brushGroup.call(
        this._brushInstance.move,
        this._currentSelectionInPixels,
      );
  }
  setSelectionInPixels(e) {
    var i, r, n, a, o;
    e && e[0] > 0 && e[1] < this._timelineWidth && e[0] < e[1]
      ? (this._currentSelection = e.map(s => this._activeAxisScale.invert(s)),
        this._currentSelectionInPixels =
          (i = this._currentSelection) === null || i === void 0
            ? void 0
            : i.map(this._activeAxisScale),
        (r = this._animationControlDiv) === null || r === void 0
        || r.classList.remove(gi.disabled))
      : (this._currentSelection = void 0,
        this._currentSelectionInPixels = void 0,
        (n = this._animationControlDiv) === null || n === void 0
        || n.classList.add(gi.disabled)),
      this._brushInstance && !this._firstRender
      && this._brushGroup.call(
        this._brushInstance.move,
        this._currentSelectionInPixels,
      ),
      (o = (a = this._config.events).onBrush) === null || o === void 0
      || o.call(a, this._currentSelection);
  }
  resize() {
    let { height: e, width: i } = e1(this._containerNode),
      { offsetWidth: r } = this._animationControlDiv;
    this._width = i,
      this._height = e,
      this._timelineWidth = this._width - this._config.padding.left
        - this._config.padding.right - r,
      this._timelineHeight = this._height - this._config.padding.top
        - this._config.padding.bottom,
      this._timelineHeight
        > this._config.padding.top + this._config.padding.bottom
      && (this._updateScales(),
        this._checkLastTickPosition(),
        this._currentSelection && this.setSelection(this._currentSelection, !0),
        this.render());
  }
  render() {
    this._updateBrush(),
      this._updateBars(),
      this._updateAxis(),
      this._firstRender && (this._firstRender = !1);
  }
  _updateAxis() {
    this._timeData
      && (this._axisGroup.style(
        "transform",
        `translate(${this._config.padding.left}px, ${
          5 + this._config.padding.top + this._config.axisTickHeight + 1
          + this._config.selectionPadding / 2
        }px)`,
      ).call(this._isNumericTimeline ? this._numAxis : this._timeAxis).call(e =>
        e.select(".domain").remove()
      ),
        this._axisGroup.selectAll(".tick").select("text").attr(
          "class",
          gi.axisTick,
        ).attr("y", 0).attr("dy", -this._config.axisTickHeight).attr(
          "dx",
          "5px",
        ),
        this._axisGroup.selectAll("line").attr("class", gi.axisLine).attr(
          "y2",
          -this._config.axisTickHeight,
        ));
  }
  _updateBrush() {
    var e;
    this._config.allowSelection
      && (this._brushGroup.style(
        "transform",
        `translate(${this._config.padding.left}px, ${this._config.padding.top}px)`,
      ),
        this._brushInstance = pd().extent([[0, 0], [
          this._timelineWidth,
          this._timelineHeight,
        ]]),
        this._brushInstance.on("end", ({ selection: i, sourceEvent: r }) => {
          var n, a, o, s, l, d, c;
          r
            && (i
              ? (this._currentSelection = i.map(u =>
                this._activeAxisScale.invert(u)
              ),
                this._currentSelectionInPixels =
                  (n = this._currentSelection) === null || n === void 0
                    ? void 0
                    : n.map(this._activeAxisScale),
                (a = this._animationControlDiv) === null || a === void 0
                || a.classList.remove(gi.disabled),
                (s = (o = this._config.events).onBrush) === null || s === void 0
                || s.call(o, this._currentSelection))
              : (this._currentSelection = void 0,
                this._currentSelectionInPixels = void 0,
                (d = (l = this._config.events).onBrush) === null || d === void 0
                || d.call(l, void 0),
                (c = this._animationControlDiv) === null || c === void 0
                || c.classList.add(gi.disabled)));
        }),
        this._brushGroup.call(this._brushInstance),
        this._currentSelection
          ? (this._currentSelectionInPixels = this._currentSelection.map(
            this._activeAxisScale,
          ),
            this._brushGroup.call(
              this._brushInstance.move,
              this._currentSelectionInPixels,
            ))
          : (e = this._brushInstance) === null || e === void 0
            || e.clear(this._brushGroup),
        this._brushGroup.select("rect.selection").classed(gi.selection, !0)
          .attr("rx", this._config.selectionRadius).attr(
            "ry",
            this._config.selectionRadius,
          ));
  }
  _updateBars() {
    this._barsGroup.style(
      "transform",
      `translate(${this._config.padding.left}px, ${
        this._config.padding.top - this._config.selectionPadding / 2
      }px)`,
    );
    let e = this._barsGroup.selectAll(`.${gi.bar}`).data(this._barsData).join(
      "rect",
    ).attr("class", gi.bar).attr(
      "x",
      i => this._activeAxisScale(+i.rangeStart) + this._barPadding / 2,
    ).attr("width", this.getBarWidth()).attr("rx", this._config.barRadius).attr(
      "ry",
      this._config.barRadius,
    ).attr("y", -this._timelineHeight);
    this._config.events.onBarHover
    && e.on("mouseover", this._config.events.onBarHover),
      e.transition().duration(300).attr("height", i => this._yScale(i.count))
        .style(
          "opacity",
          i => this._yScale(i.count) === this._config.minBarHeight ? .25 : 1,
        );
  }
  _updateScales() {
    if (!this._dateExtent || !this._barsData.length) return;
    let e = this._barsData[this._barsData.length - 1];
    if (this._config.tickStep) {
      let n = So(
        +this._dateExtent[0],
        +this._dateExtent[1],
        this._config.tickStep,
      );
      this._isNumericTimeline
        ? this._numAxis.tickValues(n)
        : this._timeAxis.tickValues(n.map(a => new Date(a)));
    }
    this._yScale.range([
      this._config.minBarHeight,
      this._timelineHeight - this._config.barTopMargin
      - this._config.selectionPadding,
    ]).domain([0, this._maxCount]).clamp(!0),
      this._isNumericTimeline
        ? (this._numScale.domain([this._dateExtent[0], e.rangeEnd]).range([
          0,
          this._timelineWidth,
        ]).clamp(!0),
          this._activeAxisScale = this._numScale)
        : (this._timeScale.domain([this._dateExtent[0], e.rangeEnd]).range([
          0,
          this._timelineWidth,
        ]).clamp(!0),
          this._activeAxisScale = this._timeScale);
    let i = this._barsData[0],
      r = this._activeAxisScale(i.rangeEnd)
        - this._activeAxisScale(i.rangeStart);
    this._barWidth = r;
  }
  _disableBrush() {
    var e, i;
    (e = this._brushInstance) === null || e === void 0
    || e.clear(this._brushGroup),
      this._currentSelectionInPixels = void 0,
      this._currentSelection = void 0,
      this.pauseAnimation(),
      this._brushGroup.selectAll("*").remove(),
      this._config.showAnimationControls
      && ((i = this._animationControlDiv) === null || i === void 0
        || i.classList.add(gi.disabled));
  }
  async _initAnimationControls() {
    this._containerNode.insertBefore(this._animationControlDiv, this._svg),
      await (async () => {
        var e, i;
        if (!this._animationControlDiv.firstChild) {
          let r =
              this._svgParser.parseFromString(Jb, "image/svg+xml").firstChild,
            n = this._svgParser.parseFromString(Zb, "image/svg+xml").firstChild;
          this._pauseButtonSvg =
            (e = this._animationControlDiv) === null || e === void 0
              ? void 0
              : e.appendChild(n),
            this._playButtonSvg =
              (i = this._animationControlDiv) === null || i === void 0
                ? void 0
                : i.appendChild(r);
        }
      })().then(() => {
        var e, i, r, n, a;
        this._isAnimationRunning
          ? ((r = this._playButtonSvg) === null || r === void 0
            || r.classList.add(gi.playAnimation, gi.hidden),
            (n = this._pauseButtonSvg) === null || n === void 0
            || n.classList.add(gi.pauseAnimation))
          : ((e = this._playButtonSvg) === null || e === void 0
            || e.classList.add(gi.playAnimation),
            (i = this._pauseButtonSvg) === null || i === void 0
            || i.classList.add(gi.pauseAnimation, gi.hidden)),
          this._currentSelection || (a = this._animationControlDiv) === null
          || a === void 0 || a.classList.add(gi.disabled),
          this._animationControlDiv.addEventListener(
            "click",
            this._toggleAnimation,
          );
      });
  }
};
var e5 = { top: 5, left: 5, bottom: 1, right: 5 },
  Mo = class extends Do {
    constructor() {
      super(...arguments),
        this.padding = e5,
        this.barsCount = 50,
        this.barPadding = .1,
        this.minBarHeight = 2,
        this.selectionRadius = 3,
        this.selectionPadding = 8,
        this.barCount = 30,
        this.dataStep = void 0,
        this.barRadius = 1,
        this.barTopMargin = 7,
        this.labelSideMargin = 3,
        this.formatter = void 0,
        this.allowSelection = !0,
        this.stickySelection = !0,
        this.events = { onBrush: void 0, onBarHover: void 0 };
    }
  };
var t5 =
    ":root{--cosmograph-histogram-text-color:#fff;--cosmograph-histogram-axis-color:#d7d7d7;--cosmograph-histogram-selection-color:#777;--cosmograph-histogram-selection-opacity:0.5;--cosmograph-histogram-bar-color:#7a7a7a;--cosmograph-histogram-highlighted-bar-color:#fff;--cosmograph-histogram-font-family:inherit;--cosmograph-histogram-font-size:11px;--cosmograph-histogram-background:#222}.style_module_histogram__ee5eb209{background:var(--cosmograph-histogram-background);display:flex;position:relative;width:100%}.style_module_histogramSvg__ee5eb209{height:100%;position:relative;width:100%}.style_module_selection__ee5eb209{fill:var(--cosmograph-histogram-selection-color);fill-opacity:var(--cosmograph-histogram-selection-opacity);stroke:none}.style_module_axisTick__ee5eb209{alignment-baseline:text-before-edge;text-anchor:initial;font-size:var(--cosmograph-histogram-font-size);font-weight:400;opacity:1;user-select:none}.style_module_bar__ee5eb209{fill:var(--cosmograph-histogram-bar-color);transform:scaleY(-1)}.style_module_highlightedBar__ee5eb209{fill:var(--cosmograph-histogram-highlighted-bar-color);pointer-events:none;transform:scaleY(-1)}.style_module_axis__ee5eb209{color:var(--cosmograph-histogram-axis-color)}.style_module_noData__ee5eb209{height:100%;position:absolute;top:0;width:100%}.style_module_noData__ee5eb209 div{align-items:center;display:flex;font-size:calc(var(--cosmograph-histogram-font-size));font-weight:300;height:100%;justify-content:center;letter-spacing:1;opacity:.25;user-select:none}",
  Yr = {
    histogram: "style_module_histogram__ee5eb209",
    histogramSvg: "style_module_histogramSvg__ee5eb209",
    selection: "style_module_selection__ee5eb209",
    axisTick: "style_module_axisTick__ee5eb209",
    bar: "style_module_bar__ee5eb209",
    highlightedBar: "style_module_highlightedBar__ee5eb209",
    axis: "style_module_axis__ee5eb209",
    bars: "style_module_bars__ee5eb209",
    brush: "style_module_brush__ee5eb209",
    noData: "style_module_noData__ee5eb209",
  };
qn(t5, {});
var xd = class {
  constructor(e, i) {
    var r;
    this._config = new Mo(),
      this._firstRender = !0,
      this._barWidth = 0,
      this._maxCount = 0,
      this._barsData = [],
      this._highlightedBarsData = [],
      this._histogramData = void 0,
      this._highlightedData = void 0,
      this._bandIntervals = [],
      this._calculatedStep = 0,
      this._yScale = To(),
      this._xScale = un(),
      this._axis = Fs(this._xScale),
      this._getClosestRange = (o, s) => {
        var l;
        return (l = this._barsData) === null || l === void 0 ? void 0
        : l.reduce((d, c) =>
          Math.abs(c[s ? "rangeEnd" : "rangeStart"] - o)
              < Math.abs(d[s ? "rangeEnd" : "rangeStart"] - o) ? c : d
        );
      };
    let { offsetWidth: n, offsetHeight: a } = e;
    i && this._config.init(i),
      this._containerNode = e,
      this._containerNode.classList.add(Yr.histogram),
      this._width = n,
      this._height = a,
      this._formatter = (r = i?.formatter) !== null && r !== void 0
        ? r
        : void 0,
      this._histogramWidth = this._width - this._config.padding.left
        - this._config.padding.right,
      this._histogramHeight = this._height - this._config.padding.top
        - this._config.padding.bottom,
      this._svg = document.createElementNS("http://www.w3.org/2000/svg", "svg"),
      this._svg.classList.add(Yr.histogramSvg),
      this._containerNode.appendChild(this._svg),
      this._noDataDiv = document.createElement("div"),
      ai(this._noDataDiv).style("display", "none").attr("class", Yr.noData)
        .append("div").text("No histogram data"),
      this._containerNode.appendChild(this._noDataDiv),
      this._axisGroup = ai(this._svg).append("g").attr("class", Yr.axis),
      this._barsGroup = ai(this._svg).append("g").attr("class", Yr.bars),
      this._highlightedBarsGroup = ai(this._svg).append("g").attr(
        "class",
        Yr.bars,
      ),
      this._brushGroup = ai(this._svg).append("g").attr("class", Yr.brush),
      this._axis.tickFormat(o =>
        this._formatter ? this._formatter(o) : o.toFixed(0)
      ),
      this._resizeObserver = new Ga(() => {
        this.resize();
      }),
      this._resizeObserver.observe(this._containerNode);
  }
  get _barPadding() {
    return this._barWidth * this._config.barPadding;
  }
  get getCurrentSelection() {
    return this._currentSelection;
  }
  get getCurrentSelectionInPixels() {
    var e;
    return (e = this._currentSelectionInPixels) !== null && e !== void 0
      ? e
      : [];
  }
  getBarWidth() {
    return this._barWidth - this._barPadding;
  }
  getConfig() {
    return this._config;
  }
  setConfig(e) {
    var i, r, n, a;
    let o = JSON.parse(JSON.stringify(this._config));
    e ? this._config.init(e) : this._config = new Mo(),
      this._config.allowSelection || this._disableBrush(),
      ((i = this._config) === null || i === void 0 ? void 0 : i.dataStep)
            === ((r = o.config) === null || r === void 0
              ? void 0
              : r.dataStep)
        && ((n = this._config) === null || n === void 0 ? void 0 : n.barCount)
          === ((a = o.config) === null || a === void 0
            ? void 0
            : a.barCount)
      || (this._updateHistogramData(), this._updateHistogramHighlightedData()),
      this.resize();
  }
  setHistogramData(e, i) {
    var r, n, a;
    i && i[1] <= i[0]
      || (this._histogramData = e?.filter(o => !isNaN(o) && o !== void 0),
        this._highlightedBarsData = [],
        this._currentSelection = void 0,
        this._brushCurrentSelection(),
        (n = (r = this._config.events).onBrush) === null || n === void 0
        || n.call(r, this._currentSelection),
        ai(this._noDataDiv).style("display", "none"),
        !((a = this._histogramData) === null || a === void 0) && a.length
          ? (this._extent = i || ca(this._histogramData),
            this._firstRender = !0,
            this._updateHistogramData(),
            this._updateScales(),
            this.render())
          : ai(this._noDataDiv).style("display", "block"));
  }
  setHighlightedData(e) {
    if (this._histogramData) {
      if (e && e.length !== 0) {
        this._highlightedData = e?.filter(i => !isNaN(i) && i !== void 0),
          this._updateHistogramHighlightedData(),
          this._updateBars(!0);
      }
      else {
        let i = JSON.stringify(this._highlightedBarsData);
        this._highlightedData = [],
          this._highlightedBarsData = [],
          i !== JSON.stringify(this._highlightedBarsData)
          && this._updateBars(!0);
      }
    }
  }
  setSelection(e, i = !1) {
    var r, n;
    let a = this._currentSelection;
    if (
      e && this._extent && e[0] >= this._extent[0] && e[1] <= this._extent[1]
      && e[0] < e[1]
    ) {
      let s = e.map(this._xScale);
      this._mapSelection(s);
    }
    else this._currentSelection = void 0;
    let { _currentSelection: o } = this;
    i || a?.[0] === o?.[0] && a?.[1] === o?.[1]
    || (n = (r = this._config.events).onBrush) === null || n === void 0
    || n.call(r, this._currentSelection, !0), this._brushCurrentSelection();
  }
  resize() {
    let { offsetWidth: e, offsetHeight: i } = this._containerNode;
    this._width = e,
      this._height = i,
      this._histogramWidth = this._width - this._config.padding.left
        - this._config.padding.right,
      this._histogramHeight = this._height - this._config.padding.top
        - this._config.padding.bottom,
      this._histogramHeight
        > this._config.padding.top + this._config.padding.bottom
      && (this._updateScales(),
        this._currentSelection && this.setSelection(this._currentSelection, !0),
        this._firstRender || this.render());
  }
  render() {
    this._updateBrush(),
      this._updateBars(),
      this._updateBars(!0),
      this._updateAxis(),
      this._firstRender && (this._firstRender = !1);
  }
  destroy() {
    this._containerNode.innerHTML = "";
  }
  _updateAxis() {
    this._histogramData
      && (this._axisGroup.style(
        "transform",
        `translate(${this._config.padding.left}px, ${
          this._config.padding.top - this._config.selectionPadding / 2 + 1
        }px)`,
      ).call(this._axis).call(e => e.select(".domain").remove()),
        this._axisGroup.selectAll(".tick").select("text").attr(
          "class",
          Yr.axisTick,
        ).attr("y", 0).attr("dy", 0).attr("dx", this._config.labelSideMargin),
        this._axisGroup.selectAll(".tick:last-of-type text").attr(
          "dx",
          -this._config.labelSideMargin,
        ).style("text-anchor", "end"),
        this._axisGroup.selectAll("line").attr("y2", this._histogramHeight)
          .attr("y1", 0).attr("opacity", .1));
  }
  _updateBrush() {
    this._config.allowSelection
      && (this._brushGroup.style(
        "transform",
        `translate(${this._config.padding.left}px, ${this._config.padding.top}px)`,
      ),
        this._brushInstance = pd().extent([[0, 0], [
          this._histogramWidth,
          this._histogramHeight,
        ]]),
        this._brushInstance.on("end", ({ selection: e, sourceEvent: i }) => {
          var r, n, a, o;
          i
            && (e
              ? (this._mapSelection(e),
                (n = (r = this._config.events).onBrush) === null || n === void 0
                || n.call(r, this._currentSelection))
              : (this._currentSelection = void 0,
                (o = (a = this._config.events).onBrush) === null || o === void 0
                || o.call(a, void 0)),
              this._brushCurrentSelection());
        }),
        this._brushGroup.call(this._brushInstance),
        this._brushGroup.select("rect.selection").classed(Yr.selection, !0)
          .attr("rx", this._config.selectionRadius).attr(
            "ry",
            this._config.selectionRadius,
          ));
  }
  _updateBars(e) {
    let i = e ? this._highlightedBarsGroup : this._barsGroup;
    i.style(
      "transform",
      `translate(${this._config.padding.left}px, ${
        this._config.padding.top - this._config.selectionPadding / 2
      }px)`,
    );
    let r = e ? .5 : 1,
      n = i.selectAll(`.${e ? Yr.highlightedBar : Yr.bar}`).data(
        e ? this._highlightedBarsData : this._barsData,
      ).join("rect").attr("class", e ? Yr.highlightedBar : Yr.bar).attr(
        "x",
        a => this._xScale(a.rangeStart) + this._barPadding / 2,
      ).attr("width", this.getBarWidth()).attr("rx", this._config.barRadius)
        .attr("ry", this._config.barRadius).attr("y", -this._histogramHeight);
    e
    || this._config.events.onBarHover
      && n.on("mouseover", this._config.events.onBarHover),
      n.transition().duration(300).attr(
        "height",
        a => e && a.count === 0 ? 0 : this._yScale(a.count),
      ).style(
        "opacity",
        a => this._yScale(a.count) === this._config.minBarHeight ? .4 : r,
      );
  }
  _updateScales() {
    if (!this._extent || !this._barsData.length) return;
    let e = this._barsData[this._barsData.length - 1],
      i = this._config.dataStep ? [this._extent[0], e.rangeEnd] : this._extent;
    this._xScale.domain(i).range([0, this._histogramWidth]).clamp(!0),
      this._yScale.range([
        this._config.minBarHeight,
        this._histogramHeight - this._config.barTopMargin
        - this._config.selectionPadding,
      ]).domain([0, this._maxCount]).clamp(!0),
      this._axis.tickValues(i),
      this._barWidth = this._xScale(e.rangeEnd) - this._xScale(e.rangeStart);
  }
  _disableBrush() {
    this._currentSelection = void 0,
      this._brushCurrentSelection(),
      this._brushGroup.selectAll("*").remove();
  }
  _updateHistogramData() {
    var e, i;
    if (
      !((e = this._histogramData) === null || e === void 0) && e.length
      && this._extent
    ) {
      let r = ws(this._histogramData, o => o.length, o => o),
        n = (i = this._config.dataStep) !== null && i !== void 0
          ? i
          : Math.abs(this._extent[1] - this._extent[0])
            / (this._config.barCount - 1);
      if (n === 0) return;
      if (
        this._calculatedStep = n,
          this._bandIntervals = this._generateSequence(
            this._extent[0],
            this._extent[1],
            this._calculatedStep,
          ),
          this._config.dataStep
      ) {
        let o = this._bandIntervals[this._bandIntervals.length - 1];
        o < this._extent[1]
          && this._bandIntervals.push(+o + this._calculatedStep);
      }
      let a = wo(this._bandIntervals);
      this._barsData = a.map(o => ({
        rangeStart: o[0],
        rangeEnd: o[1],
        count: gd(r, o),
      })), this._maxCount = Math.max(...this._barsData.map(o => o.count));
    }
  }
  _updateHistogramHighlightedData() {
    var e;
    if (
      !((e = this._highlightedData) === null || e === void 0) && e.length
      && this._extent
    ) {
      let i = ws(this._highlightedData, n => n.length, n => n);
      this._bandIntervals = this._generateSequence(
        this._extent[0],
        this._extent[1],
        this._calculatedStep,
      );
      let r = wo(this._bandIntervals);
      this._highlightedBarsData = r.map((n, a) => {
        let o = gd(i, n), s = this._barsData[a];
        return s && o > this._barsData[a].count
          && (o = this._barsData[a].count),
          { rangeStart: s.rangeStart, rangeEnd: s.rangeEnd, count: o };
      });
    }
  }
  _mapSelection(e) {
    this._barsData.length
      && (this._config.stickySelection
        ? (this._currentSelection = [
          this._getClosestRange(this._xScale.invert(e[0])).rangeStart,
          this._getClosestRange(this._xScale.invert(e[1]), !0).rangeEnd,
        ],
          this._currentSelection[0] === this._currentSelection[1]
          && (this._currentSelection = void 0))
        : this._currentSelection = e.map(this._xScale.invert));
  }
  _brushCurrentSelection() {
    var e;
    this._currentSelection
      ? (this._currentSelectionInPixels = this._currentSelection.map(
        this._xScale,
      ),
        this._brushInstance && !this._firstRender
        && this._brushGroup.call(
          this._brushInstance.move,
          this._currentSelectionInPixels,
        ))
      : (this._currentSelectionInPixels = void 0,
        (e = this._brushInstance) === null || e === void 0
        || e.clear(this._brushGroup));
  }
  _generateSequence(e, i, r) {
    let n = Math.round((i - e) / r) + 1, a = new Array(n);
    for (let o = 0; o < n; o++) a[o] = e + o * r;
    return a;
  }
};
var No = {
  isDisabled: !1,
  minMatch: 1,
  limitSuggestions: 50,
  truncateValues: 100,
  maxVisibleItems: 10,
  openListUpwards: !1,
  placeholder: "Search...",
  activeAccessorIndex: void 0,
  accessors: [{ label: "id", accessor: t => t.id }],
  matchPalette: [
    "#fbb4ae80",
    "#b3cde380",
    "#ccebc580",
    "#decbe480",
    "#fed9a680",
    "#ffffcc80",
    "#e5d8bd80",
    "#fddaec80",
  ],
  ordering: void 0,
  events: {
    onSelect: void 0,
    onSearch: void 0,
    onEnter: void 0,
    onAccessorSelect: void 0,
  },
};
var hn;
(function(t) {
  t.Input = "input",
    t.Select = "select",
    t.Enter = "enter",
    t.AccessorSelect = "accessorSelect";
})(hn || (hn = {}));
function di() {}
function st(t, e) {
  for (let i in e) t[i] = e[i];
  return t;
}
function r1(t) {
  return t();
}
function i1() {
  return Object.create(null);
}
function hi(t) {
  t.forEach(r1);
}
function oi(t) {
  return typeof t == "function";
}
function Xt(t, e) {
  return t != t
    ? e == e
    : t !== e || t && typeof t == "object" || typeof t == "function";
}
function i5(t) {
  return Object.keys(t).length === 0;
}
function r5(t, ...e) {
  if (t == null) return di;
  let i = t.subscribe(...e);
  return i.unsubscribe ? () => i.unsubscribe() : i;
}
function Ku(t, e, i) {
  t.$$.on_destroy.push(r5(e, i));
}
function Ut(t, e, i, r) {
  if (t) {
    let n = n1(t, e, i, r);
    return t[0](n);
  }
}
function n1(t, e, i, r) {
  return t[1] && r ? st(i.ctx.slice(), t[1](r(e))) : i.ctx;
}
function Gt(t, e, i, r) {
  if (t[2] && r) {
    let n = t[2](r(i));
    if (e.dirty === void 0) return n;
    if (typeof n == "object") {
      let a = [], o = Math.max(e.dirty.length, n.length);
      for (let s = 0; s < o; s += 1) a[s] = e.dirty[s] | n[s];
      return a;
    }
    return e.dirty | n;
  }
  return e.dirty;
}
function Ht(t, e, i, r, n, a) {
  if (n) {
    let o = n1(e, i, r, a);
    t.p(o, n);
  }
}
function jt(t) {
  if (t.ctx.length > 32) {
    let e = [], i = t.ctx.length / 32;
    for (let r = 0; r < i; r++) e[r] = -1;
    return e;
  }
  return -1;
}
function Ai(t) {
  let e = {};
  for (let i in t) i[0] !== "$" && (e[i] = t[i]);
  return e;
}
function $t(t, e) {
  let i = {};
  e = new Set(e);
  for (let r in t) e.has(r) || r[0] === "$" || (i[r] = t[r]);
  return i;
}
function a1(t) {
  let e = {};
  for (let i in t) e[i] = !0;
  return e;
}
function o1(t, e, i) {
  return t.set(i), e;
}
function zt(t) {
  return t && oi(t.destroy) ? t.destroy : di;
}
var s1 = typeof window < "u"
  ? window
  : typeof globalThis < "u"
  ? globalThis
  : global;
function Ni(t, e) {
  t.appendChild(e);
}
function rt(t, e, i) {
  t.insertBefore(e, i || null);
}
function it(t) {
  t.parentNode && t.parentNode.removeChild(t);
}
function Nt(t) {
  return document.createElement(t);
}
function wd(t) {
  return document.createElementNS("http://www.w3.org/2000/svg", t);
}
function nn(t) {
  return document.createTextNode(t);
}
function Ii() {
  return nn(" ");
}
function Vi() {
  return nn("");
}
function _i(t, e, i, r) {
  return t.addEventListener(e, i, r), () => t.removeEventListener(e, i, r);
}
function ci(t, e, i) {
  i == null
    ? t.removeAttribute(e)
    : t.getAttribute(e) !== i && t.setAttribute(e, i);
}
var n5 = ["width", "height"];
function pi(t, e) {
  let i = Object.getOwnPropertyDescriptors(t.__proto__);
  for (let r in e) {
    e[r] == null ? t.removeAttribute(r) : r === "style"
      ? t.style.cssText = e[r]
      : r === "__value"
      ? t.value = t[r] = e[r]
      : i[r] && i[r].set && n5.indexOf(r) === -1
      ? t[r] = e[r]
      : ci(t, r, e[r]);
  }
}
function Tp(t, e) {
  for (let i in e) ci(t, i, e[i]);
}
function a5(t, e) {
  Object.keys(e).forEach(i => {
    o5(t, i, e[i]);
  });
}
function o5(t, e, i) {
  e in t ? t[e] = typeof t[e] == "boolean" && i === "" || i : ci(t, e, i);
}
function Sd(t) {
  return /-/.test(t) ? a5 : pi;
}
function s5(t) {
  return Array.from(t.childNodes);
}
function Wn(t, e) {
  e = "" + e, t.data !== e && (t.data = e);
}
function Ap(t, e) {
  t.value = e ?? "";
}
function Yn(t, e, i, r) {
  i == null
    ? t.style.removeProperty(e)
    : t.style.setProperty(e, i, r ? "important" : "");
}
function ma(t, e, i) {
  t.classList[i ? "add" : "remove"](e);
}
function l5(t, e, { bubbles: i = !1, cancelable: r = !1 } = {}) {
  let n = document.createEvent("CustomEvent");
  return n.initCustomEvent(t, i, r, e), n;
}
function ha(t, e) {
  return new t(e);
}
var yd;
function bd(t) {
  yd = t;
}
function ui() {
  if (!yd) throw new Error("Function called outside component initialization");
  return yd;
}
function Bi(t) {
  ui().$$.on_mount.push(t);
}
function Xr(t) {
  ui().$$.on_destroy.push(t);
}
function l1() {
  let t = ui();
  return (e, i, { cancelable: r = !1 } = {}) => {
    let n = t.$$.callbacks[e];
    if (n) {
      let a = l5(e, i, { cancelable: r });
      return n.slice().forEach(o => {
        o.call(t, a);
      }),
        !a.defaultPrevented;
    }
    return !0;
  };
}
function gr(t, e) {
  return ui().$$.context.set(t, e), e;
}
function Ji(t) {
  return ui().$$.context.get(t);
}
function zs(t, e) {
  let i = t.$$.callbacks[e.type];
  i && i.slice().forEach(r => r.call(this, e));
}
var Ns = [], bt = [], Ps = [], wp = [], d1 = Promise.resolve(), Sp = !1;
function c1() {
  Sp || (Sp = !0, d1.then(f1));
}
function u1() {
  return c1(), d1;
}
function Ep(t) {
  Ps.push(t);
}
function Kr(t) {
  wp.push(t);
}
var yp = new Set(), Ms = 0;
function f1() {
  if (Ms !== 0) return;
  let t = yd;
  do {
    try {
      for (; Ms < Ns.length;) {
        let e = Ns[Ms];
        Ms++, bd(e), d5(e.$$);
      }
    }
    catch (e) {
      throw Ns.length = 0, Ms = 0, e;
    }
    for (bd(null), Ns.length = 0, Ms = 0; bt.length;) bt.pop()();
    for (let e = 0; e < Ps.length; e += 1) {
      let i = Ps[e];
      yp.has(i) || (yp.add(i), i());
    }
    Ps.length = 0;
  } while (Ns.length);
  for (; wp.length;) wp.pop()();
  Sp = !1, yp.clear(), bd(t);
}
function d5(t) {
  if (t.fragment !== null) {
    t.update(), hi(t.before_update);
    let e = t.dirty;
    t.dirty = [-1],
      t.fragment && t.fragment.p(t.ctx, e),
      t.after_update.forEach(Ep);
  }
}
function c5(t) {
  let e = [], i = [];
  Ps.forEach(r => t.indexOf(r) === -1 ? e.push(r) : i.push(r)),
    i.forEach(r => r()),
    Ps = e;
}
var Xu = new Set(), Po;
function Ci() {
  Po = { r: 0, c: [], p: Po };
}
function ki() {
  Po.r || hi(Po.c), Po = Po.p;
}
function Te(t, e) {
  t && t.i && (Xu.delete(t), t.i(e));
}
function Re(t, e, i, r) {
  if (t && t.o) {
    if (Xu.has(t)) return;
    Xu.add(t),
      Po.c.push(() => {
        Xu.delete(t), r && (i && t.d(1), r());
      }),
      t.o(e);
  }
  else r && r();
}
function m1(t, e) {
  t.d(1), e.delete(t.key);
}
function h1(t, e) {
  Re(t, 1, 1, () => {
    e.delete(t.key);
  });
}
function Ip(t, e, i, r, n, a, o, s, l, d, c, u) {
  let f = t.length, h = a.length, x = f, S = {};
  for (; x--;) S[t[x].key] = x;
  let p = [], y = new Map(), E = new Map(), g = [];
  for (x = h; x--;) {
    let I = u(n, a, x), D = i(I), V = o.get(D);
    V ? r && g.push(() => V.p(I, e)) : (V = d(D, I), V.c()),
      y.set(D, p[x] = V),
      D in S && E.set(D, Math.abs(x - S[D]));
  }
  let _ = new Set(), $ = new Set();
  function z(I) {
    Te(I, 1), I.m(s, c), o.set(I.key, I), c = I.first, h--;
  }
  for (; f && h;) {
    let I = p[h - 1], D = t[f - 1], V = I.key, ue = D.key;
    I === D
      ? (c = I.first, f--, h--)
      : y.has(ue)
      ? !o.has(V) || _.has(V)
        ? z(I)
        : $.has(ue)
        ? f--
        : E.get(V) > E.get(ue)
        ? ($.add(V), z(I))
        : (_.add(ue), f--)
      : (l(D, o), f--);
  }
  for (; f--;) {
    let I = t[f];
    y.has(I.key) || l(I, o);
  }
  for (; h;) z(p[h - 1]);
  return hi(g), p;
}
function Vt(t, e) {
  let i = {}, r = {}, n = { $$scope: 1 }, a = t.length;
  for (; a--;) {
    let o = t[a], s = e[a];
    if (s) {
      for (let l in o) l in s || (r[l] = 1);
      for (let l in s) n[l] || (i[l] = s[l], n[l] = 1);
      t[a] = s;
    }
    else for (let l in o) n[l] = 1;
  }
  for (let o in r) o in i || (i[o] = void 0);
  return i;
}
function Ui(t) {
  return typeof t == "object" && t !== null ? t : {};
}
function Zr(t, e, i) {
  let r = t.$$.props[e];
  r !== void 0 && (t.$$.bound[r] = i, i(t.$$.ctx[r]));
}
function Qt(t) {
  t && t.c();
}
function Kt(t, e, i, r) {
  let { fragment: n, after_update: a } = t.$$;
  n && n.m(e, i),
    r || Ep(() => {
      let o = t.$$.on_mount.map(r1).filter(oi);
      t.$$.on_destroy ? t.$$.on_destroy.push(...o) : hi(o), t.$$.on_mount = [];
    }),
    a.forEach(Ep);
}
function Zt(t, e) {
  let i = t.$$;
  i.fragment !== null
    && (c5(i.after_update),
      hi(i.on_destroy),
      i.fragment && i.fragment.d(e),
      i.on_destroy = i.fragment = null,
      i.ctx = []);
}
function si(t, e, i, r, n, a, o, s = [-1]) {
  let l = yd;
  bd(t);
  let d = t.$$ = {
    fragment: null,
    ctx: [],
    props: a,
    update: di,
    not_equal: n,
    bound: i1(),
    on_mount: [],
    on_destroy: [],
    on_disconnect: [],
    before_update: [],
    after_update: [],
    context: new Map(e.context || (l ? l.$$.context : [])),
    callbacks: i1(),
    dirty: s,
    skip_bound: !1,
    root: e.target || l.$$.root,
  };
  o && o(d.root);
  let c = !1;
  if (
    d.ctx = i
      ? i(t, e.props || {}, (u, f, ...h) => {
        let x = h.length ? h[0] : f;
        return d.ctx && n(d.ctx[u], d.ctx[u] = x)
          && (!d.skip_bound && d.bound[u] && d.bound[u](x),
            c && function(S, p) {
              S.$$.dirty[0] === -1 && (Ns.push(S), c1(), S.$$.dirty.fill(0)),
                S.$$.dirty[p / 31 | 0] |= 1 << p % 31;
            }(t, u)),
          f;
      })
      : [],
      d.update(),
      c = !0,
      hi(d.before_update),
      d.fragment = !!r && r(d.ctx),
      e.target
  ) {
    if (e.hydrate) {
      let u = s5(e.target);
      d.fragment && d.fragment.l(u), u.forEach(it);
    }
    else d.fragment && d.fragment.c();
    e.intro && Te(t.$$.fragment),
      Kt(t, e.target, e.anchor, e.customElement),
      f1();
  }
  bd(l);
}
var ri = class {
  $destroy() {
    Zt(this, 1), this.$destroy = di;
  }
  $on(e, i) {
    if (!oi(i)) return di;
    let r = this.$$.callbacks[e] || (this.$$.callbacks[e] = []);
    return r.push(i), () => {
      let n = r.indexOf(i);
      n !== -1 && r.splice(n, 1);
    };
  }
  $set(e) {
    this.$$set && !i5(e)
      && (this.$$.skip_bound = !0, this.$$set(e), this.$$.skip_bound = !1);
  }
};
function Zu(t) {
  if (typeof t != "string") throw new TypeError("Expected a string");
  return t.replace(/[|\\{}()[\]^$+*?.]/g, "\\$&").replace(/-/g, "\\x2d");
}
var zo = {};
Nc(zo, { closest: () => u5, estimateScrollWidth: () => f5, matches: () => p1 });
function u5(t, e) {
  if (t.closest) return t.closest(e);
  for (var i = t; i;) {
    if (p1(i, e)) return i;
    i = i.parentElement;
  }
  return null;
}
function p1(t, e) {
  return (t.matches || t.webkitMatchesSelector || t.msMatchesSelector).call(
    t,
    e,
  );
}
function f5(t) {
  var e = t;
  if (e.offsetParent !== null) return e.scrollWidth;
  var i = e.cloneNode(!0);
  i.style.setProperty("position", "absolute"),
    i.style.setProperty("transform", "translate(-9999px, -9999px)"),
    document.documentElement.appendChild(i);
  var r = i.scrollWidth;
  return document.documentElement.removeChild(i), r;
}
function Ot(t) {
  return Object.entries(t).filter(([e, i]) => e !== "" && i).map(([e]) => e)
    .join(" ");
}
function xi(t, e, i, r = { bubbles: !0 }, n = !1) {
  if (typeof Event > "u") throw new Error("Event not defined.");
  if (!t) throw new Error("Tried to dipatch event without element.");
  let a = new CustomEvent(
    e,
    Object.assign(Object.assign({}, r), { detail: i }),
  );
  if (t?.dispatchEvent(a), n && e.startsWith("SMUI")) {
    let o = new CustomEvent(
      e.replace(/^SMUI/g, () => "MDC"),
      Object.assign(Object.assign({}, r), { detail: i }),
    );
    t?.dispatchEvent(o), o.defaultPrevented && a.preventDefault();
  }
  return a;
}
var g1 =
    /^[a-z]+(?::(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/,
  m5 =
    /^[^$]+(?:\$(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/;
function Li(t) {
  let e, i = [];
  function r(n) {
    let a = t.$$.callbacks[n.type];
    a && a.slice().forEach(o => o.call(this, n));
  }
  return t.$on = (n, a) => {
    let o = n, s = () => {};
    return e ? s = e(o, a) : i.push([o, a]),
      o.match(g1) && console
      && console.warn(
        "Event modifiers in SMUI now use \"$\" instead of \":\", so that all events can be bound with modifiers. Please update your event binding: ",
        o,
      ),
      () => {
        s();
      };
  },
    n => {
      let a = [], o = {};
      e = (s, l) => {
        let d = s, c = l, u = !1, f = d.match(g1), h = d.match(m5), x = f || h;
        if (d.match(/^SMUI:\w+:/)) {
          let E = d.split(":"), g = "";
          for (let _ = 0; _ < E.length; _++) {
            g += _ === E.length - 1
              ? ":" + E[_]
              : E[_].split("-").map($ =>
                $.slice(0, 1).toUpperCase() + $.slice(1)
              ).join("");
          }
          console.warn(
            `The event ${d.split("$")[0]} has been renamed to ${
              g.split("$")[0]
            }.`,
          ), d = g;
        }
        if (x) {
          let E = d.split(f ? ":" : "$");
          d = E[0];
          let g = E.slice(1).reduce((_, $) => (_[$] = !0, _), {});
          g.passive && (u = u || {}, u.passive = !0),
            g.nonpassive && (u = u || {}, u.passive = !1),
            g.capture && (u = u || {}, u.capture = !0),
            g.once && (u = u || {}, u.once = !0),
            g.preventDefault && (S = c,
              c = function(_) {
                return _.preventDefault(), S.call(this, _);
              }),
            g.stopPropagation && (c = function(_) {
              return function($) {
                return $.stopPropagation(), _.call(this, $);
              };
            }(c)),
            g.stopImmediatePropagation && (c = function(_) {
              return function($) {
                return $.stopImmediatePropagation(), _.call(this, $);
              };
            }(c)),
            g.self && (c = function(_, $) {
              return function(z) {
                if (z.target === _) return $.call(this, z);
              };
            }(n, c)),
            g.trusted && (c = function(_) {
              return function($) {
                if ($.isTrusted) return _.call(this, $);
              };
            }(c));
        }
        var S;
        let p = v1(n, d, c, u),
          y = () => {
            p();
            let E = a.indexOf(y);
            E > -1 && a.splice(E, 1);
          };
        return a.push(y), d in o || (o[d] = v1(n, d, r)), y;
      };
      for (let s = 0; s < i.length; s++) e(i[s][0], i[s][1]);
      return {
        destroy: () => {
          for (let s = 0; s < a.length; s++) a[s]();
          for (let s of Object.entries(o)) s[1]();
        },
      };
    };
}
function v1(t, e, i, r) {
  return t.addEventListener(e, i, r), () => t.removeEventListener(e, i, r);
}
function Gi(t, e) {
  let i = [];
  if (e) {
    for (let r = 0; r < e.length; r++) {
      let n = e[r], a = Array.isArray(n) ? n[0] : n;
      Array.isArray(n) && n.length > 1 ? i.push(a(t, n[1])) : i.push(a(t));
    }
  }
  return {
    update(r) {
      if ((r && r.length || 0) != i.length) {throw new Error(
          "You must not change the length of an actions array.",
        );}
      if (r) {
        for (let n = 0; n < r.length; n++) {
          let a = i[n];
          if (a && a.update) {
            let o = r[n];
            Array.isArray(o) && o.length > 1 ? a.update(o[1]) : a.update();
          }
        }
      }
    },
    destroy() {
      for (let r = 0; r < i.length; r++) {
        let n = i[r];
        n && n.destroy && n.destroy();
      }
    },
  };
}
function h5(t) {
  let e, i, r = t[1], n = t[1] && Cp(t);
  return {
    c() {
      n && n.c(), e = Vi();
    },
    m(a, o) {
      n && n.m(a, o), rt(a, e, o), i = !0;
    },
    p(a, o) {
      a[1]
        ? r
          ? Xt(r, a[1])
            ? (n.d(1), n = Cp(a), r = a[1], n.c(), n.m(e.parentNode, e))
            : n.p(a, o)
          : (n = Cp(a), r = a[1], n.c(), n.m(e.parentNode, e))
        : r && (n.d(1), n = null, r = a[1]);
    },
    i(a) {
      i || (Te(n), i = !0);
    },
    o(a) {
      Re(n), i = !1;
    },
    d(a) {
      a && it(e), n && n.d(a);
    },
  };
}
function p5(t) {
  let e, i = t[1], r = t[1] && kp(t);
  return {
    c() {
      r && r.c(), e = Vi();
    },
    m(n, a) {
      r && r.m(n, a), rt(n, e, a);
    },
    p(n, a) {
      n[1]
        ? i
          ? Xt(i, n[1])
            ? (r.d(1), r = kp(n), i = n[1], r.c(), r.m(e.parentNode, e))
            : r.p(n, a)
          : (r = kp(n), i = n[1], r.c(), r.m(e.parentNode, e))
        : i && (r.d(1), r = null, i = n[1]);
    },
    i: di,
    o: di,
    d(n) {
      n && it(e), r && r.d(n);
    },
  };
}
function g5(t) {
  let e,
    i,
    r,
    n,
    a,
    o = t[8].default,
    s = Ut(o, t, t[7], null),
    l = [t[5]],
    d = {};
  for (let c = 0; c < l.length; c += 1) d = st(d, l[c]);
  return {
    c() {
      e = wd("svg"), s && s.c(), Tp(e, d);
    },
    m(c, u) {
      rt(c, e, u),
        s && s.m(e, null),
        t[9](e),
        r = !0,
        n
        || (a = [zt(i = Gi.call(null, e, t[0])), zt(t[4].call(null, e))],
          n = !0);
    },
    p(c, u) {
      s && s.p && (!r || 128 & u)
      && Ht(s, o, c, c[7], r ? Gt(o, c[7], u, null) : jt(c[7]), null),
        Tp(e, d = Vt(l, [32 & u && c[5]])),
        i && oi(i.update) && 1 & u && i.update.call(null, c[0]);
    },
    i(c) {
      r || (Te(s, c), r = !0);
    },
    o(c) {
      Re(s, c), r = !1;
    },
    d(c) {
      c && it(e), s && s.d(c), t[9](null), n = !1, hi(a);
    },
  };
}
function Cp(t) {
  let e,
    i,
    r,
    n,
    a,
    o = t[8].default,
    s = Ut(o, t, t[7], null),
    l = [t[5]],
    d = {};
  for (let c = 0; c < l.length; c += 1) d = st(d, l[c]);
  return {
    c() {
      e = Nt(t[1]), s && s.c(), Sd(t[1])(e, d);
    },
    m(c, u) {
      rt(c, e, u),
        s && s.m(e, null),
        t[11](e),
        r = !0,
        n
        || (a = [zt(i = Gi.call(null, e, t[0])), zt(t[4].call(null, e))],
          n = !0);
    },
    p(c, u) {
      s && s.p && (!r || 128 & u)
      && Ht(s, o, c, c[7], r ? Gt(o, c[7], u, null) : jt(c[7]), null),
        Sd(c[1])(e, d = Vt(l, [32 & u && c[5]])),
        i && oi(i.update) && 1 & u && i.update.call(null, c[0]);
    },
    i(c) {
      r || (Te(s, c), r = !0);
    },
    o(c) {
      Re(s, c), r = !1;
    },
    d(c) {
      c && it(e), s && s.d(c), t[11](null), n = !1, hi(a);
    },
  };
}
function kp(t) {
  let e, i, r, n, a = [t[5]], o = {};
  for (let s = 0; s < a.length; s += 1) o = st(o, a[s]);
  return {
    c() {
      e = Nt(t[1]), Sd(t[1])(e, o);
    },
    m(s, l) {
      rt(s, e, l),
        t[10](e),
        r
        || (n = [zt(i = Gi.call(null, e, t[0])), zt(t[4].call(null, e))],
          r = !0);
    },
    p(s, l) {
      Sd(s[1])(e, o = Vt(a, [32 & l && s[5]])),
        i && oi(i.update) && 1 & l && i.update.call(null, s[0]);
    },
    d(s) {
      s && it(e), t[10](null), r = !1, hi(n);
    },
  };
}
function v5(t) {
  let e, i, r, n, a = [g5, p5, h5], o = [];
  function s(l, d) {
    return l[1] === "svg" ? 0 : l[3] ? 1 : 2;
  }
  return e = s(t), i = o[e] = a[e](t), {
    c() {
      i.c(), r = Vi();
    },
    m(l, d) {
      o[e].m(l, d), rt(l, r, d), n = !0;
    },
    p(l, [d]) {
      let c = e;
      e = s(l),
        e === c ? o[e].p(l, d) : (Ci(),
          Re(o[c], 1, 1, () => {
            o[c] = null;
          }),
          ki(),
          i = o[e],
          i ? i.p(l, d) : (i = o[e] = a[e](l), i.c()),
          Te(i, 1),
          i.m(r.parentNode, r));
    },
    i(l) {
      n || (Te(i), n = !0);
    },
    o(l) {
      Re(i), n = !1;
    },
    d(l) {
      o[e].d(l), l && it(r);
    },
  };
}
function _5(t, e, i) {
  let r,
    n = ["use", "tag", "getElement"],
    a = $t(e, n),
    { $$slots: o = {}, $$scope: s } = e,
    { use: l = [] } = e,
    { tag: d } = e,
    c = Li(ui()),
    u;
  return t.$$set = f => {
    e = st(st({}, e), Ai(f)),
      i(5, a = $t(e, n)),
      "use" in f && i(0, l = f.use),
      "tag" in f && i(1, d = f.tag),
      "$$scope" in f && i(7, s = f.$$scope);
  },
    t.$$.update = () => {
      2 & t.$$.dirty
        && i(
          3,
          r =
            [
              "area",
              "base",
              "br",
              "col",
              "embed",
              "hr",
              "img",
              "input",
              "link",
              "meta",
              "param",
              "source",
              "track",
              "wbr",
            ].indexOf(d) > -1,
        );
    },
    [
      l,
      d,
      u,
      r,
      c,
      a,
      function() {
        return u;
      },
      s,
      o,
      function(f) {
        bt[f ? "unshift" : "push"](() => {
          u = f, i(2, u);
        });
      },
      function(f) {
        bt[f ? "unshift" : "push"](() => {
          u = f, i(2, u);
        });
      },
      function(f) {
        bt[f ? "unshift" : "push"](() => {
          u = f, i(2, u);
        });
      },
    ];
}
var Ln = class extends ri {
  constructor(e) {
    super(), si(this, e, _5, v5, Xt, { use: 0, tag: 1, getElement: 6 });
  }
  get getElement() {
    return this.$$.ctx[6];
  }
};
var Lp = function(t, e) {
  return Lp = Object.setPrototypeOf
    || { __proto__: [] } instanceof Array && function(i, r) {
        i.__proto__ = r;
      }
    || function(i, r) {
      for (var n in r) {
        Object.prototype.hasOwnProperty.call(r, n) && (i[n] = r[n]);
      }
    },
    Lp(t, e);
};
function Sr(t, e) {
  if (typeof e != "function" && e !== null) {
    throw new TypeError(
      "Class extends value " + String(e) + " is not a constructor or null",
    );
  }
  function i() {
    this.constructor = t;
  }
  Lp(t, e),
    t.prototype = e === null
      ? Object.create(e)
      : (i.prototype = e.prototype, new i());
}
var bi = function() {
  return bi = Object.assign || function(t) {
    for (var e, i = 1, r = arguments.length; i < r; i++) {
      for (var n in e = arguments[i]) {
        Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
      }
    }
    return t;
  },
    bi.apply(this, arguments);
};
function Br(t) {
  var e = typeof Symbol == "function" && Symbol.iterator, i = e && t[e], r = 0;
  if (i) return i.call(t);
  if (t && typeof t.length == "number") {
    return {
      next: function() {
        return t && r >= t.length && (t = void 0),
          { value: t && t[r++], done: !t };
      },
    };
  }
  throw new TypeError(
    e ? "Object is not iterable." : "Symbol.iterator is not defined.",
  );
}
function Op(t, e) {
  var i = typeof Symbol == "function" && t[Symbol.iterator];
  if (!i) return t;
  var r, n, a = i.call(t), o = [];
  try {
    for (; (e === void 0 || e-- > 0) && !(r = a.next()).done;) o.push(r.value);
  }
  catch (s) {
    n = { error: s };
  }
  finally {
    try {
      r && !r.done && (i = a.return) && i.call(a);
    }
    finally {
      if (n) throw n.error;
    }
  }
  return o;
}
function _1(t, e, i) {
  if (i || arguments.length === 2) {
    for (var r, n = 0, a = e.length; n < a; n++) {
      !r && n in e
        || (r || (r = Array.prototype.slice.call(e, 0, n)), r[n] = e[n]);
    }
  }
  return t.concat(r || Array.prototype.slice.call(e));
}
var Er = function() {
  function t(e) {
    e === void 0 && (e = {}), this.adapter = e;
  }
  return Object.defineProperty(t, "cssClasses", {
    get: function() {
      return {};
    },
    enumerable: !1,
    configurable: !0,
  }),
    Object.defineProperty(t, "strings", {
      get: function() {
        return {};
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(t, "numbers", {
      get: function() {
        return {};
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(t, "defaultAdapter", {
      get: function() {
        return {};
      },
      enumerable: !1,
      configurable: !0,
    }),
    t.prototype.init = function() {},
    t.prototype.destroy = function() {},
    t;
}();
var ei = {
    UNKNOWN: "Unknown",
    BACKSPACE: "Backspace",
    ENTER: "Enter",
    SPACEBAR: "Spacebar",
    PAGE_UP: "PageUp",
    PAGE_DOWN: "PageDown",
    END: "End",
    HOME: "Home",
    ARROW_LEFT: "ArrowLeft",
    ARROW_UP: "ArrowUp",
    ARROW_RIGHT: "ArrowRight",
    ARROW_DOWN: "ArrowDown",
    DELETE: "Delete",
    ESCAPE: "Escape",
    TAB: "Tab",
  },
  Ur = new Set();
Ur.add(ei.BACKSPACE),
  Ur.add(ei.ENTER),
  Ur.add(ei.SPACEBAR),
  Ur.add(ei.PAGE_UP),
  Ur.add(ei.PAGE_DOWN),
  Ur.add(ei.END),
  Ur.add(ei.HOME),
  Ur.add(ei.ARROW_LEFT),
  Ur.add(ei.ARROW_UP),
  Ur.add(ei.ARROW_RIGHT),
  Ur.add(ei.ARROW_DOWN),
  Ur.add(ei.DELETE),
  Ur.add(ei.ESCAPE),
  Ur.add(ei.TAB);
var x5 = 8,
  b5 = 13,
  y5 = 32,
  w5 = 33,
  S5 = 34,
  E5 = 35,
  T5 = 36,
  A5 = 37,
  I5 = 38,
  C5 = 39,
  k5 = 40,
  L5 = 46,
  O5 = 27,
  R5 = 9,
  Gr = new Map();
Gr.set(x5, ei.BACKSPACE),
  Gr.set(b5, ei.ENTER),
  Gr.set(y5, ei.SPACEBAR),
  Gr.set(w5, ei.PAGE_UP),
  Gr.set(S5, ei.PAGE_DOWN),
  Gr.set(E5, ei.END),
  Gr.set(T5, ei.HOME),
  Gr.set(A5, ei.ARROW_LEFT),
  Gr.set(I5, ei.ARROW_UP),
  Gr.set(C5, ei.ARROW_RIGHT),
  Gr.set(k5, ei.ARROW_DOWN),
  Gr.set(L5, ei.DELETE),
  Gr.set(O5, ei.ESCAPE),
  Gr.set(R5, ei.TAB);
var Ha = new Set();
function Tr(t) {
  var e = t.key;
  if (Ur.has(e)) return e;
  var i = Gr.get(t.keyCode);
  return i || ei.UNKNOWN;
}
Ha.add(ei.PAGE_UP),
  Ha.add(ei.PAGE_DOWN),
  Ha.add(ei.END),
  Ha.add(ei.HOME),
  Ha.add(ei.ARROW_LEFT),
  Ha.add(ei.ARROW_UP),
  Ha.add(ei.ARROW_RIGHT),
  Ha.add(ei.ARROW_DOWN);
var Bs,
  ja,
  Jt = {
    LIST_ITEM_ACTIVATED_CLASS: "mdc-list-item--activated",
    LIST_ITEM_CLASS: "mdc-list-item",
    LIST_ITEM_DISABLED_CLASS: "mdc-list-item--disabled",
    LIST_ITEM_SELECTED_CLASS: "mdc-list-item--selected",
    LIST_ITEM_TEXT_CLASS: "mdc-list-item__text",
    LIST_ITEM_PRIMARY_TEXT_CLASS: "mdc-list-item__primary-text",
    ROOT: "mdc-list",
  };
(Bs = {})["" + Jt.LIST_ITEM_ACTIVATED_CLASS] = "mdc-list-item--activated",
  Bs["" + Jt.LIST_ITEM_CLASS] = "mdc-list-item",
  Bs["" + Jt.LIST_ITEM_DISABLED_CLASS] = "mdc-list-item--disabled",
  Bs["" + Jt.LIST_ITEM_SELECTED_CLASS] = "mdc-list-item--selected",
  Bs["" + Jt.LIST_ITEM_PRIMARY_TEXT_CLASS] = "mdc-list-item__primary-text",
  Bs["" + Jt.ROOT] = "mdc-list";
var Us =
    ((ja = {})["" + Jt.LIST_ITEM_ACTIVATED_CLASS] =
      "mdc-deprecated-list-item--activated",
      ja["" + Jt.LIST_ITEM_CLASS] = "mdc-deprecated-list-item",
      ja["" + Jt.LIST_ITEM_DISABLED_CLASS] =
        "mdc-deprecated-list-item--disabled",
      ja["" + Jt.LIST_ITEM_SELECTED_CLASS] =
        "mdc-deprecated-list-item--selected",
      ja["" + Jt.LIST_ITEM_TEXT_CLASS] = "mdc-deprecated-list-item__text",
      ja["" + Jt.LIST_ITEM_PRIMARY_TEXT_CLASS] =
        "mdc-deprecated-list-item__primary-text",
      ja["" + Jt.ROOT] = "mdc-deprecated-list",
      ja),
  pa = {
    ACTION_EVENT: "MDCList:action",
    SELECTION_CHANGE_EVENT: "MDCList:selectionChange",
    ARIA_CHECKED: "aria-checked",
    ARIA_CHECKED_CHECKBOX_SELECTOR:
      "[role=\"checkbox\"][aria-checked=\"true\"]",
    ARIA_CHECKED_RADIO_SELECTOR: "[role=\"radio\"][aria-checked=\"true\"]",
    ARIA_CURRENT: "aria-current",
    ARIA_DISABLED: "aria-disabled",
    ARIA_ORIENTATION: "aria-orientation",
    ARIA_ORIENTATION_HORIZONTAL: "horizontal",
    ARIA_ROLE_CHECKBOX_SELECTOR: "[role=\"checkbox\"]",
    ARIA_SELECTED: "aria-selected",
    ARIA_INTERACTIVE_ROLES_SELECTOR: "[role=\"listbox\"], [role=\"menu\"]",
    ARIA_MULTI_SELECTABLE_SELECTOR: "[aria-multiselectable=\"true\"]",
    CHECKBOX_RADIO_SELECTOR: "input[type=\"checkbox\"], input[type=\"radio\"]",
    CHECKBOX_SELECTOR: "input[type=\"checkbox\"]",
    CHILD_ELEMENTS_TO_TOGGLE_TABINDEX: `
    .` + Jt.LIST_ITEM_CLASS + ` button:not(:disabled),
    .` + Jt.LIST_ITEM_CLASS + ` a,
    .` + Us[Jt.LIST_ITEM_CLASS] + ` button:not(:disabled),
    .` + Us[Jt.LIST_ITEM_CLASS] + ` a
  `,
    DEPRECATED_SELECTOR: ".mdc-deprecated-list",
    FOCUSABLE_CHILD_ELEMENTS: `
    .` + Jt.LIST_ITEM_CLASS + ` button:not(:disabled),
    .` + Jt.LIST_ITEM_CLASS + ` a,
    .` + Jt.LIST_ITEM_CLASS + ` input[type="radio"]:not(:disabled),
    .` + Jt.LIST_ITEM_CLASS + ` input[type="checkbox"]:not(:disabled),
    .` + Us[Jt.LIST_ITEM_CLASS] + ` button:not(:disabled),
    .` + Us[Jt.LIST_ITEM_CLASS] + ` a,
    .` + Us[Jt.LIST_ITEM_CLASS] + ` input[type="radio"]:not(:disabled),
    .` + Us[Jt.LIST_ITEM_CLASS] + ` input[type="checkbox"]:not(:disabled)
  `,
    RADIO_SELECTOR: "input[type=\"radio\"]",
    SELECTED_ITEM_SELECTOR: "[aria-selected=\"true\"], [aria-current=\"true\"]",
  },
  qi = { UNSET_INDEX: -1, TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS: 300 };
var F5 = ["input", "button", "textarea", "select"],
  Jr = function(t) {
    var e = t.target;
    if (e) {
      var i = ("" + e.tagName).toLowerCase();
      F5.indexOf(i) === -1 && t.preventDefault();
    }
  };
function x1() {
  return {
    bufferClearTimeout: 0,
    currentFirstChar: "",
    sortedIndexCursor: 0,
    typeaheadBuffer: "",
  };
}
function b1(t, e) {
  for (var i = new Map(), r = 0; r < t; r++) {
    var n = e(r).trim();
    if (n) {
      var a = n[0].toLowerCase();
      i.has(a) || i.set(a, []),
        i.get(a).push({ text: n.toLowerCase(), index: r });
    }
  }
  return i.forEach(function(o) {
    o.sort(function(s, l) {
      return s.index - l.index;
    });
  }),
    i;
}
function Ju(t, e) {
  var i,
    r = t.nextChar,
    n = t.focusItemAtIndex,
    a = t.sortedIndexByFirstChar,
    o = t.focusedItemIndex,
    s = t.skipFocus,
    l = t.isItemAtIndexDisabled;
  return clearTimeout(e.bufferClearTimeout),
    e.bufferClearTimeout = setTimeout(function() {
      Fp(e);
    }, qi.TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS),
    e.typeaheadBuffer = e.typeaheadBuffer + r,
    i = e.typeaheadBuffer.length === 1
      ? function(d, c, u, f) {
        var h = f.typeaheadBuffer[0], x = d.get(h);
        if (!x) return -1;
        if (h === f.currentFirstChar && x[f.sortedIndexCursor].index === c) {
          f.sortedIndexCursor = (f.sortedIndexCursor + 1) % x.length;
          var S = x[f.sortedIndexCursor].index;
          if (!u(S)) return S;
        }
        f.currentFirstChar = h;
        var p, y = -1;
        for (p = 0; p < x.length; p++) {
          if (!u(x[p].index)) {
            y = p;
            break;
          }
        }
        for (; p < x.length; p++) {
          if (x[p].index > c && !u(x[p].index)) {
            y = p;
            break;
          }
        }
        return y !== -1
          ? (f.sortedIndexCursor = y, x[f.sortedIndexCursor].index)
          : -1;
      }(a, o, l, e)
      : function(d, c, u) {
        var f = u.typeaheadBuffer[0], h = d.get(f);
        if (!h) return -1;
        var x = h[u.sortedIndexCursor];
        if (x.text.lastIndexOf(u.typeaheadBuffer, 0) === 0 && !c(x.index)) {
          return x.index;
        }
        for (
          var S = (u.sortedIndexCursor + 1) % h.length, p = -1;
          S !== u.sortedIndexCursor;
        ) {
          var y = h[S],
            E = y.text.lastIndexOf(u.typeaheadBuffer, 0) === 0,
            g = !c(y.index);
          if (E && g) {
            p = S;
            break;
          }
          S = (S + 1) % h.length;
        }
        return p !== -1
          ? (u.sortedIndexCursor = p, h[u.sortedIndexCursor].index)
          : -1;
      }(a, l, e),
    i === -1 || s || n(i),
    i;
}
function Rp(t) {
  return t.typeaheadBuffer.length > 0;
}
function Fp(t) {
  t.typeaheadBuffer = "";
}
function Dp(t, e) {
  var i = t.event,
    r = t.isTargetListItem,
    n = t.focusedItemIndex,
    a = t.focusItemAtIndex,
    o = t.sortedIndexByFirstChar,
    s = t.isItemAtIndexDisabled,
    l = Tr(i) === "ArrowLeft",
    d = Tr(i) === "ArrowUp",
    c = Tr(i) === "ArrowRight",
    u = Tr(i) === "ArrowDown",
    f = Tr(i) === "Home",
    h = Tr(i) === "End",
    x = Tr(i) === "Enter",
    S = Tr(i) === "Spacebar";
  return i.altKey || i.ctrlKey || i.metaKey || l || d || c || u || f || h || x
    ? -1
    : S || i.key.length !== 1
    ? S
      ? (r && Jr(i),
        r && Rp(e)
          ? Ju({
            focusItemAtIndex: a,
            focusedItemIndex: n,
            nextChar: " ",
            sortedIndexByFirstChar: o,
            skipFocus: !1,
            isItemAtIndexDisabled: s,
          }, e)
          : -1)
      : -1
    : (Jr(i),
      Ju({
        focusItemAtIndex: a,
        focusedItemIndex: n,
        nextChar: i.key.toLowerCase(),
        sortedIndexByFirstChar: o,
        skipFocus: !1,
        isItemAtIndexDisabled: s,
      }, e));
}
var D5 = ["Alt", "Control", "Meta", "Shift"];
function y1(t) {
  var e = new Set(
    t
      ? D5.filter(function(i) {
        return t.getModifierState(i);
      })
      : [],
  );
  return function(i) {
    return i.every(function(r) {
      return e.has(r);
    }) && i.length === e.size;
  };
}
var w1 = function(t) {
  function e(i) {
    var r = t.call(this, bi(bi({}, e.defaultAdapter), i)) || this;
    return r.wrapFocus = !1,
      r.isVertical = !0,
      r.isSingleSelectionList = !1,
      r.areDisabledItemsFocusable = !0,
      r.selectedIndex = qi.UNSET_INDEX,
      r.focusedItemIndex = qi.UNSET_INDEX,
      r.useActivatedClass = !1,
      r.useSelectedAttr = !1,
      r.ariaCurrentAttrValue = null,
      r.isCheckboxList = !1,
      r.isRadioList = !1,
      r.lastSelectedIndex = null,
      r.hasTypeahead = !1,
      r.typeaheadState = x1(),
      r.sortedIndexByFirstChar = new Map(),
      r;
  }
  return Sr(e, t),
    Object.defineProperty(e, "strings", {
      get: function() {
        return pa;
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e, "cssClasses", {
      get: function() {
        return Jt;
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e, "numbers", {
      get: function() {
        return qi;
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e, "defaultAdapter", {
      get: function() {
        return {
          addClassForElementIndex: function() {},
          focusItemAtIndex: function() {},
          getAttributeForElementIndex: function() {
            return null;
          },
          getFocusedElementIndex: function() {
            return 0;
          },
          getListItemCount: function() {
            return 0;
          },
          hasCheckboxAtIndex: function() {
            return !1;
          },
          hasRadioAtIndex: function() {
            return !1;
          },
          isCheckboxCheckedAtIndex: function() {
            return !1;
          },
          isFocusInsideList: function() {
            return !1;
          },
          isRootFocused: function() {
            return !1;
          },
          listItemAtIndexHasClass: function() {
            return !1;
          },
          notifyAction: function() {},
          notifySelectionChange: function() {},
          removeClassForElementIndex: function() {},
          setAttributeForElementIndex: function() {},
          setCheckedCheckboxOrRadioAtIndex: function() {},
          setTabIndexForListItemChildren: function() {},
          getPrimaryTextAtIndex: function() {
            return "";
          },
        };
      },
      enumerable: !1,
      configurable: !0,
    }),
    e.prototype.layout = function() {
      this.adapter.getListItemCount() !== 0
        && (this.adapter.hasCheckboxAtIndex(0)
          ? this.isCheckboxList = !0
          : this.adapter.hasRadioAtIndex(0)
          ? this.isRadioList = !0
          : this.maybeInitializeSingleSelection(),
          this.hasTypeahead
          && (this.sortedIndexByFirstChar = this.typeaheadInitSortedIndex()));
    },
    e.prototype.getFocusedItemIndex = function() {
      return this.focusedItemIndex;
    },
    e.prototype.setWrapFocus = function(i) {
      this.wrapFocus = i;
    },
    e.prototype.setVerticalOrientation = function(i) {
      this.isVertical = i;
    },
    e.prototype.setSingleSelection = function(i) {
      this.isSingleSelectionList = i,
        i
        && (this.maybeInitializeSingleSelection(),
          this.selectedIndex = this.getSelectedIndexFromDOM());
    },
    e.prototype.setDisabledItemsFocusable = function(i) {
      this.areDisabledItemsFocusable = i;
    },
    e.prototype.maybeInitializeSingleSelection = function() {
      var i = this.getSelectedIndexFromDOM();
      i !== qi.UNSET_INDEX
        && (this.adapter.listItemAtIndexHasClass(
          i,
          Jt.LIST_ITEM_ACTIVATED_CLASS,
        ) && this.setUseActivatedClass(!0),
          this.isSingleSelectionList = !0,
          this.selectedIndex = i);
    },
    e.prototype.getSelectedIndexFromDOM = function() {
      for (
        var i = qi.UNSET_INDEX, r = this.adapter.getListItemCount(), n = 0;
        n < r;
        n++
      ) {
        var a = this.adapter.listItemAtIndexHasClass(
            n,
            Jt.LIST_ITEM_SELECTED_CLASS,
          ),
          o = this.adapter.listItemAtIndexHasClass(
            n,
            Jt.LIST_ITEM_ACTIVATED_CLASS,
          );
        if (a || o) {
          i = n;
          break;
        }
      }
      return i;
    },
    e.prototype.setHasTypeahead = function(i) {
      this.hasTypeahead = i,
        i && (this.sortedIndexByFirstChar = this.typeaheadInitSortedIndex());
    },
    e.prototype.isTypeaheadInProgress = function() {
      return this.hasTypeahead && Rp(this.typeaheadState);
    },
    e.prototype.setUseActivatedClass = function(i) {
      this.useActivatedClass = i;
    },
    e.prototype.setUseSelectedAttribute = function(i) {
      this.useSelectedAttr = i;
    },
    e.prototype.getSelectedIndex = function() {
      return this.selectedIndex;
    },
    e.prototype.setSelectedIndex = function(i, r) {
      r === void 0 && (r = {}),
        this.isIndexValid(i)
        && (this.isCheckboxList
          ? this.setCheckboxAtIndex(i, r)
          : this.isRadioList
          ? this.setRadioAtIndex(i, r)
          : this.setSingleSelectionAtIndex(i, r));
    },
    e.prototype.handleFocusIn = function(i) {
      i >= 0
        && (this.focusedItemIndex = i,
          this.adapter.setAttributeForElementIndex(i, "tabindex", "0"),
          this.adapter.setTabIndexForListItemChildren(i, "0"));
    },
    e.prototype.handleFocusOut = function(i) {
      var r = this;
      i >= 0
      && (this.adapter.setAttributeForElementIndex(i, "tabindex", "-1"),
        this.adapter.setTabIndexForListItemChildren(i, "-1")),
        setTimeout(function() {
          r.adapter.isFocusInsideList()
            || r.setTabindexToFirstSelectedOrFocusedItem();
        }, 0);
    },
    e.prototype.isIndexDisabled = function(i) {
      return this.adapter.listItemAtIndexHasClass(
        i,
        Jt.LIST_ITEM_DISABLED_CLASS,
      );
    },
    e.prototype.handleKeydown = function(i, r, n) {
      var a,
        o = this,
        s = Tr(i) === "ArrowLeft",
        l = Tr(i) === "ArrowUp",
        d = Tr(i) === "ArrowRight",
        c = Tr(i) === "ArrowDown",
        u = Tr(i) === "Home",
        f = Tr(i) === "End",
        h = Tr(i) === "Enter",
        x = Tr(i) === "Spacebar",
        S = this.isVertical && c || !this.isVertical && d,
        p = this.isVertical && l || !this.isVertical && s,
        y = i.key === "A" || i.key === "a",
        E = y1(i);
      if (this.adapter.isRootFocused()) {
        if (
          (p || f) && E([])
            ? (i.preventDefault(), this.focusLastElement())
            : (S || u) && E([])
            ? (i.preventDefault(), this.focusFirstElement())
            : p && E(["Shift"]) && this.isCheckboxList
            ? (i.preventDefault(),
              ($ = this.focusLastElement()) !== -1
              && this.setSelectedIndexOnAction($, !1))
            : S && E(["Shift"]) && this.isCheckboxList
              && (i.preventDefault(),
                ($ = this.focusFirstElement()) !== -1
                && this.setSelectedIndexOnAction($, !1)), this.hasTypeahead
        ) {
          var g = {
            event: i,
            focusItemAtIndex: function(I) {
              o.focusItemAtIndex(I);
            },
            focusedItemIndex: -1,
            isTargetListItem: r,
            sortedIndexByFirstChar: this.sortedIndexByFirstChar,
            isItemAtIndexDisabled: function(I) {
              return o.isIndexDisabled(I);
            },
          };
          Dp(g, this.typeaheadState);
        }
      }
      else {
        var _ = this.adapter.getFocusedElementIndex();
        if (!(_ === -1 && (_ = n) < 0)) {
          if (S && E([])) Jr(i), this.focusNextElement(_);
          else if (p && E([])) Jr(i), this.focusPrevElement(_);
          else if (S && E(["Shift"]) && this.isCheckboxList) {
            Jr(i),
              ($ = this.focusNextElement(_)) !== -1
              && this.setSelectedIndexOnAction($, !1);
          }
          else if (p && E(["Shift"]) && this.isCheckboxList) {
            var $;
            Jr(i),
              ($ = this.focusPrevElement(_)) !== -1
              && this.setSelectedIndexOnAction($, !1);
          }
          else if (u && E([])) Jr(i), this.focusFirstElement();
          else if (f && E([])) Jr(i), this.focusLastElement();
          else if (u && E(["Control", "Shift"]) && this.isCheckboxList) {
            if (Jr(i), this.isIndexDisabled(_)) return;
            this.focusFirstElement(), this.toggleCheckboxRange(0, _, _);
          }
          else if (f && E(["Control", "Shift"]) && this.isCheckboxList) {
            if (Jr(i), this.isIndexDisabled(_)) return;
            this.focusLastElement(),
              this.toggleCheckboxRange(
                _,
                this.adapter.getListItemCount() - 1,
                _,
              );
          }
          else if (y && E(["Control"]) && this.isCheckboxList) {
            i.preventDefault(),
              this.checkboxListToggleAll(
                this.selectedIndex === qi.UNSET_INDEX ? [] : this.selectedIndex,
                !0,
              );
          }
          else if ((h || x) && E([])) {
            if (r) {
              if (
                (z = i.target) && z.tagName === "A" && h
                || (Jr(i), this.isIndexDisabled(_))
              ) {
                return;
              }
              this.isTypeaheadInProgress()
                || (this.isSelectableList()
                  && this.setSelectedIndexOnAction(_, !1),
                  this.adapter.notifyAction(_));
            }
          }
          else if ((h || x) && E(["Shift"]) && this.isCheckboxList) {
            var z;
            if (
              (z = i.target) && z.tagName === "A" && h
              || (Jr(i), this.isIndexDisabled(_))
            ) {
              return;
            }
            this.isTypeaheadInProgress()
              || (this.toggleCheckboxRange(
                (a = this.lastSelectedIndex) !== null && a !== void 0 ? a : _,
                _,
                _,
              ),
                this.adapter.notifyAction(_));
          }
          this.hasTypeahead && (g = {
            event: i,
            focusItemAtIndex: function(I) {
              o.focusItemAtIndex(I);
            },
            focusedItemIndex: this.focusedItemIndex,
            isTargetListItem: r,
            sortedIndexByFirstChar: this.sortedIndexByFirstChar,
            isItemAtIndexDisabled: function(I) {
              return o.isIndexDisabled(I);
            },
          },
            Dp(g, this.typeaheadState));
        }
      }
    },
    e.prototype.handleClick = function(i, r, n) {
      var a, o = y1(n);
      i !== qi.UNSET_INDEX
        && (this.isIndexDisabled(i)
          || (o([])
            ? (this.isSelectableList() && this.setSelectedIndexOnAction(i, r),
              this.adapter.notifyAction(i))
            : this.isCheckboxList && o(["Shift"])
              && (this.toggleCheckboxRange(
                (a = this.lastSelectedIndex) !== null && a !== void 0 ? a : i,
                i,
                i,
              ),
                this.adapter.notifyAction(i))));
    },
    e.prototype.focusNextElement = function(i) {
      var r = this.adapter.getListItemCount(), n = i, a = null;
      do {
        if (++n >= r) {
          if (!this.wrapFocus) return i;
          n = 0;
        }
        if (n === a) return -1;
        a = a ?? n;
      } while (!this.areDisabledItemsFocusable && this.isIndexDisabled(n));
      return this.focusItemAtIndex(n), n;
    },
    e.prototype.focusPrevElement = function(i) {
      var r = this.adapter.getListItemCount(), n = i, a = null;
      do {
        if (--n < 0) {
          if (!this.wrapFocus) return i;
          n = r - 1;
        }
        if (n === a) return -1;
        a = a ?? n;
      } while (!this.areDisabledItemsFocusable && this.isIndexDisabled(n));
      return this.focusItemAtIndex(n), n;
    },
    e.prototype.focusFirstElement = function() {
      return this.focusNextElement(-1);
    },
    e.prototype.focusLastElement = function() {
      return this.focusPrevElement(this.adapter.getListItemCount());
    },
    e.prototype.focusInitialElement = function() {
      var i = this.getFirstSelectedOrFocusedItemIndex();
      return this.focusItemAtIndex(i), i;
    },
    e.prototype.setEnabled = function(i, r) {
      this.isIndexValid(i, !1)
        && (r
          ? (this.adapter.removeClassForElementIndex(
            i,
            Jt.LIST_ITEM_DISABLED_CLASS,
          ),
            this.adapter.setAttributeForElementIndex(
              i,
              pa.ARIA_DISABLED,
              "false",
            ))
          : (this.adapter.addClassForElementIndex(
            i,
            Jt.LIST_ITEM_DISABLED_CLASS,
          ),
            this.adapter.setAttributeForElementIndex(
              i,
              pa.ARIA_DISABLED,
              "true",
            )));
    },
    e.prototype.setSingleSelectionAtIndex = function(i, r) {
      if (r === void 0 && (r = {}), this.selectedIndex !== i || r.forceUpdate) {
        var n = Jt.LIST_ITEM_SELECTED_CLASS;
        this.useActivatedClass && (n = Jt.LIST_ITEM_ACTIVATED_CLASS),
          this.selectedIndex !== qi.UNSET_INDEX
          && this.adapter.removeClassForElementIndex(this.selectedIndex, n),
          this.setAriaForSingleSelectionAtIndex(i),
          this.setTabindexAtIndex(i),
          i !== qi.UNSET_INDEX && this.adapter.addClassForElementIndex(i, n),
          this.selectedIndex = i,
          r.isUserInteraction && !r.forceUpdate
          && this.adapter.notifySelectionChange([i]);
      }
    },
    e.prototype.setAriaForSingleSelectionAtIndex = function(i) {
      this.selectedIndex === qi.UNSET_INDEX
        && (this.ariaCurrentAttrValue = this.adapter
          .getAttributeForElementIndex(i, pa.ARIA_CURRENT));
      var r = this.ariaCurrentAttrValue !== null,
        n = r ? pa.ARIA_CURRENT : pa.ARIA_SELECTED;
      if (
        this.selectedIndex !== qi.UNSET_INDEX
        && this.adapter.setAttributeForElementIndex(
          this.selectedIndex,
          n,
          "false",
        ), i !== qi.UNSET_INDEX
      ) {
        var a = r ? this.ariaCurrentAttrValue : "true";
        this.adapter.setAttributeForElementIndex(i, n, a);
      }
    },
    e.prototype.getSelectionAttribute = function() {
      return this.useSelectedAttr ? pa.ARIA_SELECTED : pa.ARIA_CHECKED;
    },
    e.prototype.setRadioAtIndex = function(i, r) {
      r === void 0 && (r = {});
      var n = this.getSelectionAttribute();
      this.adapter.setCheckedCheckboxOrRadioAtIndex(i, !0),
        (this.selectedIndex !== i || r.forceUpdate)
        && (this.selectedIndex !== qi.UNSET_INDEX
          && this.adapter.setAttributeForElementIndex(
            this.selectedIndex,
            n,
            "false",
          ),
          this.adapter.setAttributeForElementIndex(i, n, "true"),
          this.selectedIndex = i,
          r.isUserInteraction && !r.forceUpdate
          && this.adapter.notifySelectionChange([i]));
    },
    e.prototype.setCheckboxAtIndex = function(i, r) {
      r === void 0 && (r = {});
      for (
        var n = this.selectedIndex,
          a = r.isUserInteraction
            ? new Set(n === qi.UNSET_INDEX ? [] : n)
            : null,
          o = this.getSelectionAttribute(),
          s = [],
          l = 0;
        l < this.adapter.getListItemCount();
        l++
      ) {
        var d = a?.has(l), c = i.indexOf(l) >= 0;
        c !== d && s.push(l),
          this.adapter.setCheckedCheckboxOrRadioAtIndex(l, c),
          this.adapter.setAttributeForElementIndex(l, o, c ? "true" : "false");
      }
      this.selectedIndex = i,
        r.isUserInteraction && s.length
        && this.adapter.notifySelectionChange(s);
    },
    e.prototype.toggleCheckboxRange = function(i, r, n) {
      this.lastSelectedIndex = n;
      for (
        var a = new Set(
            this.selectedIndex === qi.UNSET_INDEX
              ? []
              : this.selectedIndex,
          ),
          o = !a?.has(n),
          s = Op([i, r].sort(), 2),
          l = s[0],
          d = s[1],
          c = this.getSelectionAttribute(),
          u = [],
          f = l;
        f <= d;
        f++
      ) {
        this.isIndexDisabled(f)
          || o !== a.has(f)
            && (u.push(f),
              this.adapter.setCheckedCheckboxOrRadioAtIndex(f, o),
              this.adapter.setAttributeForElementIndex(f, c, "" + o),
              o ? a.add(f) : a.delete(f));
      }
      u.length
        && (this.selectedIndex = _1([], Op(a)),
          this.adapter.notifySelectionChange(u));
    },
    e.prototype.setTabindexAtIndex = function(i) {
      this.focusedItemIndex === qi.UNSET_INDEX && i !== 0
        ? this.adapter.setAttributeForElementIndex(0, "tabindex", "-1")
        : this.focusedItemIndex >= 0 && this.focusedItemIndex !== i
          && this.adapter.setAttributeForElementIndex(
            this.focusedItemIndex,
            "tabindex",
            "-1",
          ),
        this.selectedIndex instanceof Array || this.selectedIndex === i
        || this.adapter.setAttributeForElementIndex(
          this.selectedIndex,
          "tabindex",
          "-1",
        ),
        i !== qi.UNSET_INDEX
        && this.adapter.setAttributeForElementIndex(i, "tabindex", "0");
    },
    e.prototype.isSelectableList = function() {
      return this.isSingleSelectionList || this.isCheckboxList
        || this.isRadioList;
    },
    e.prototype.setTabindexToFirstSelectedOrFocusedItem = function() {
      var i = this.getFirstSelectedOrFocusedItemIndex();
      this.setTabindexAtIndex(i);
    },
    e.prototype.getFirstSelectedOrFocusedItemIndex = function() {
      return this.isSelectableList()
        ? typeof this.selectedIndex == "number"
            && this.selectedIndex !== qi.UNSET_INDEX ? this.selectedIndex
        : this.selectedIndex instanceof Array && this.selectedIndex.length > 0
          ? this.selectedIndex.reduce(function(i, r) {
            return Math.min(i, r);
          }) : 0 : Math.max(this.focusedItemIndex, 0);
    },
    e.prototype.isIndexValid = function(i, r) {
      var n = this;
      if (r === void 0 && (r = !0), i instanceof Array) {
        if (!this.isCheckboxList && r) {
          throw new Error(
            "MDCListFoundation: Array of index is only supported for checkbox based list",
          );
        }
        return i.length === 0 || i.some(function(a) {
          return n.isIndexInRange(a);
        });
      }
      if (typeof i == "number") {
        if (this.isCheckboxList && r) {
          throw new Error(
            "MDCListFoundation: Expected array of index for checkbox based list but got number: "
              + i,
          );
        }
        return this.isIndexInRange(i)
          || this.isSingleSelectionList && i === qi.UNSET_INDEX;
      }
      return !1;
    },
    e.prototype.isIndexInRange = function(i) {
      var r = this.adapter.getListItemCount();
      return i >= 0 && i < r;
    },
    e.prototype.setSelectedIndexOnAction = function(i, r) {
      this.lastSelectedIndex = i,
        this.isCheckboxList
          ? (this.toggleCheckboxAtIndex(i, r),
            this.adapter.notifySelectionChange([i]))
          : this.setSelectedIndex(i, { isUserInteraction: !0 });
    },
    e.prototype.toggleCheckboxAtIndex = function(i, r) {
      var n,
        a = this.getSelectionAttribute(),
        o = this.adapter.isCheckboxCheckedAtIndex(i);
      r ? n = o : (n = !o, this.adapter.setCheckedCheckboxOrRadioAtIndex(i, n)),
        this.adapter.setAttributeForElementIndex(i, a, n ? "true" : "false");
      var s = this.selectedIndex === qi.UNSET_INDEX ? []
      : this.selectedIndex.slice();
      n ? s.push(i) : s = s.filter(function(l) {
        return l !== i;
      }), this.selectedIndex = s;
    },
    e.prototype.focusItemAtIndex = function(i) {
      this.adapter.focusItemAtIndex(i), this.focusedItemIndex = i;
    },
    e.prototype.checkboxListToggleAll = function(i, r) {
      var n = this.adapter.getListItemCount();
      if (i.length === n) this.setCheckboxAtIndex([], { isUserInteraction: r });
      else {
        for (var a = [], o = 0; o < n; o++) {
          (!this.isIndexDisabled(o) || i.indexOf(o) > -1) && a.push(o);
        }
        this.setCheckboxAtIndex(a, { isUserInteraction: r });
      }
    },
    e.prototype.typeaheadMatchItem = function(i, r, n) {
      var a = this;
      n === void 0 && (n = !1);
      var o = {
        focusItemAtIndex: function(s) {
          a.focusItemAtIndex(s);
        },
        focusedItemIndex: r || this.focusedItemIndex,
        nextChar: i,
        sortedIndexByFirstChar: this.sortedIndexByFirstChar,
        skipFocus: n,
        isItemAtIndexDisabled: function(s) {
          return a.isIndexDisabled(s);
        },
      };
      return Ju(o, this.typeaheadState);
    },
    e.prototype.typeaheadInitSortedIndex = function() {
      return b1(
        this.adapter.getListItemCount(),
        this.adapter.getPrimaryTextAtIndex,
      );
    },
    e.prototype.clearTypeaheadBuffer = function() {
      Fp(this.typeaheadState);
    },
    e;
}(Er);
function $5(t) {
  let e, i = t[42].default, r = Ut(i, t, t[44], null);
  return {
    c() {
      r && r.c();
    },
    m(n, a) {
      r && r.m(n, a), e = !0;
    },
    p(n, a) {
      r && r.p && (!e || 8192 & a[1])
        && Ht(r, i, n, n[44], e ? Gt(i, n[44], a, null) : jt(n[44]), null);
    },
    i(n) {
      e || (Te(r, n), e = !0);
    },
    o(n) {
      Re(r, n), e = !1;
    },
    d(n) {
      r && r.d(n);
    },
  };
}
function M5(t) {
  let e,
    i,
    r,
    n = [
      { tag: t[13] },
      { use: [t[16], ...t[0]] },
      {
        class: Ot({
          [t[1]]: !0,
          "mdc-deprecated-list": !0,
          "mdc-deprecated-list--non-interactive": t[2],
          "mdc-deprecated-list--dense": t[3],
          "mdc-deprecated-list--textual-list": t[4],
          "mdc-deprecated-list--avatar-list": t[5] || t[17],
          "mdc-deprecated-list--icon-list": t[6],
          "mdc-deprecated-list--image-list": t[7],
          "mdc-deprecated-list--thumbnail-list": t[8],
          "mdc-deprecated-list--video-list": t[9],
          "mdc-deprecated-list--two-line": t[10],
          "smui-list--three-line": t[11] && !t[10],
        }),
      },
      { role: t[15] },
      t[25],
    ];
  var a = t[12];
  function o(s) {
    let l = { $$slots: { default: [$5] }, $$scope: { ctx: s } };
    for (let d = 0; d < n.length; d += 1) l = st(l, n[d]);
    return { props: l };
  }
  return a
    && (e = ha(a, o(t)),
      t[43](e),
      e.$on("keydown", t[20]),
      e.$on("focusin", t[21]),
      e.$on("focusout", t[22]),
      e.$on("click", t[23]),
      e.$on("SMUIListItem:mount", t[18]),
      e.$on("SMUIListItem:unmount", t[19]),
      e.$on("SMUI:action", t[24])),
    {
      c() {
        e && Qt(e.$$.fragment), i = Vi();
      },
      m(s, l) {
        e && Kt(e, s, l), rt(s, i, l), r = !0;
      },
      p(s, l) {
        let d = 33796095 & l[0]
          ? Vt(n, [
            8192 & l[0] && { tag: s[13] },
            65537 & l[0] && { use: [s[16], ...s[0]] },
            135166 & l[0]
            && {
              class: Ot({
                [s[1]]: !0,
                "mdc-deprecated-list": !0,
                "mdc-deprecated-list--non-interactive": s[2],
                "mdc-deprecated-list--dense": s[3],
                "mdc-deprecated-list--textual-list": s[4],
                "mdc-deprecated-list--avatar-list": s[5] || s[17],
                "mdc-deprecated-list--icon-list": s[6],
                "mdc-deprecated-list--image-list": s[7],
                "mdc-deprecated-list--thumbnail-list": s[8],
                "mdc-deprecated-list--video-list": s[9],
                "mdc-deprecated-list--two-line": s[10],
                "smui-list--three-line": s[11] && !s[10],
              }),
            },
            32768 & l[0] && { role: s[15] },
            33554432 & l[0] && Ui(s[25]),
          ])
          : {};
        if (
          8192 & l[1] && (d.$$scope = { dirty: l, ctx: s }),
            4096 & l[0] && a !== (a = s[12])
        ) {
          if (e) {
            Ci();
            let c = e;
            Re(c.$$.fragment, 1, 0, () => {
              Zt(c, 1);
            }), ki();
          }
          a
            ? (e = ha(a, o(s)),
              s[43](e),
              e.$on("keydown", s[20]),
              e.$on("focusin", s[21]),
              e.$on("focusout", s[22]),
              e.$on("click", s[23]),
              e.$on("SMUIListItem:mount", s[18]),
              e.$on("SMUIListItem:unmount", s[19]),
              e.$on("SMUI:action", s[24]),
              Qt(e.$$.fragment),
              Te(e.$$.fragment, 1),
              Kt(e, i.parentNode, i))
            : e = null;
        }
        else a && e.$set(d);
      },
      i(s) {
        r || (e && Te(e.$$.fragment, s), r = !0);
      },
      o(s) {
        e && Re(e.$$.fragment, s), r = !1;
      },
      d(s) {
        t[43](null), s && it(i), e && Zt(e, s);
      },
    };
}
function N5(t, e, i) {
  let r = [
      "use",
      "class",
      "nonInteractive",
      "dense",
      "textualList",
      "avatarList",
      "iconList",
      "imageList",
      "thumbnailList",
      "videoList",
      "twoLine",
      "threeLine",
      "vertical",
      "wrapFocus",
      "singleSelection",
      "disabledItemsFocusable",
      "selectedIndex",
      "radioList",
      "checkList",
      "hasTypeahead",
      "component",
      "tag",
      "layout",
      "setEnabled",
      "getTypeaheadInProgress",
      "getSelectedIndex",
      "getFocusedItemIndex",
      "focusItemAtIndex",
      "getElement",
    ],
    n = $t(e, r),
    { $$slots: a = {}, $$scope: o } = e;
  var s;
  let { closest: l, matches: d } = zo,
    c = Li(ui()),
    u,
    f,
    { use: h = [] } = e,
    { class: x = "" } = e,
    { nonInteractive: S = !1 } = e,
    { dense: p = !1 } = e,
    { textualList: y = !1 } = e,
    { avatarList: E = !1 } = e,
    { iconList: g = !1 } = e,
    { imageList: _ = !1 } = e,
    { thumbnailList: $ = !1 } = e,
    { videoList: z = !1 } = e,
    { twoLine: I = !1 } = e,
    { threeLine: D = !1 } = e,
    { vertical: V = !0 } = e,
    {
      wrapFocus: ue = (s = Ji("SMUI:list:wrapFocus")) !== null && s !== void 0
        && s,
    } = e,
    { singleSelection: ne = !1 } = e,
    { disabledItemsFocusable: ee = !1 } = e,
    { selectedIndex: R = -1 } = e,
    { radioList: A = !1 } = e,
    { checkList: X = !1 } = e,
    { hasTypeahead: G = !1 } = e,
    te = [],
    De = Ji("SMUI:list:role"),
    Se = Ji("SMUI:list:nav"),
    Fe = new WeakMap(),
    Be,
    We = Ji("SMUI:dialog:selection"),
    me = Ji("SMUI:addLayoutListener"),
    { component: gt = Ln } = e,
    { tag: St = gt === Ln ? Se ? "nav" : "ul" : void 0 } = e;
  function ft() {
    return u == null
      ? []
      : [...Rt().children].map(xe => Fe.get(xe)).filter(xe =>
        xe && xe._smui_list_item_accessor
      );
  }
  function xt(xe, at) {
    var v;
    let vi = ft()[xe];
    return (v = vi && vi.hasClass(at)) !== null && v !== void 0 && v;
  }
  function _e(xe, at) {
    let v = ft()[xe];
    v && v.addClass(at);
  }
  function le(xe, at) {
    let v = ft()[xe];
    v && v.removeClass(at);
  }
  function Ke(xe, at, v) {
    let vi = ft()[xe];
    vi && vi.addAttr(at, v);
  }
  function dt(xe, at) {
    let v = ft()[xe];
    v && v.removeAttr(at);
  }
  function Ee(xe, at) {
    let v = ft()[xe];
    return v ? v.getAttr(at) : null;
  }
  function Tt(xe) {
    var at;
    let v = ft()[xe];
    return (at = v && v.getPrimaryText()) !== null && at !== void 0 ? at : "";
  }
  function At(xe) {
    let at = l(xe, ".mdc-deprecated-list-item, .mdc-deprecated-list");
    return at && d(at, ".mdc-deprecated-list-item")
      ? ft().map(v => v?.element).indexOf(at)
      : -1;
  }
  function yi() {
    return f.layout();
  }
  function Wt() {
    return f.getSelectedIndex();
  }
  function mt(xe) {
    let at = ft()[xe];
    at && "focus" in at.element && at.element.focus();
  }
  function Rt() {
    return u.getElement();
  }
  return gr("SMUI:list:nonInteractive", S),
    gr("SMUI:separator:context", "list"),
    De
    || (ne
      ? (De = "listbox", gr("SMUI:list:item:role", "option"))
      : A
      ? (De = "radiogroup", gr("SMUI:list:item:role", "radio"))
      : X
      ? (De = "group", gr("SMUI:list:item:role", "checkbox"))
      : (De = "list", gr("SMUI:list:item:role", void 0))),
    me && (Be = me(yi)),
    Bi(() => {
      i(
        41,
        f = new w1({
          addClassForElementIndex: _e,
          focusItemAtIndex: mt,
          getAttributeForElementIndex: (at, v) => {
            var vi, jr;
            return (jr = (vi = ft()[at]) === null || vi === void 0
                    ? void 0
                    : vi.getAttr(v)) !== null && jr !== void 0
              ? jr
              : null;
          },
          getFocusedElementIndex: () =>
            document.activeElement
              ? ft().map(at => at.element).indexOf(document.activeElement)
              : -1,
          getListItemCount: () => te.length,
          getPrimaryTextAtIndex: Tt,
          hasCheckboxAtIndex: at => {
            var v, vi;
            return (vi = (v = ft()[at]) === null || v === void 0
                  ? void 0
                  : v.hasCheckbox) !== null && vi !== void 0 && vi;
          },
          hasRadioAtIndex: at => {
            var v, vi;
            return (vi = (v = ft()[at]) === null || v === void 0
                  ? void 0
                  : v.hasRadio) !== null && vi !== void 0 && vi;
          },
          isCheckboxCheckedAtIndex: at => {
            var v;
            let vi = ft()[at];
            return (v = vi?.hasCheckbox && vi.checked) !== null && v !== void 0
              && v;
          },
          isFocusInsideList: () =>
            u != null && Rt() !== document.activeElement
            && Rt().contains(document.activeElement),
          isRootFocused: () => u != null && document.activeElement === Rt(),
          listItemAtIndexHasClass: xt,
          notifyAction: at => {
            i(26, R = at),
              u != null
              && xi(Rt(), "SMUIList:action", { index: at }, void 0, !0);
          },
          notifySelectionChange: at => {
            u != null
              && xi(Rt(), "SMUIList:selectionChange", { changedIndices: at });
          },
          removeClassForElementIndex: le,
          setAttributeForElementIndex: Ke,
          setCheckedCheckboxOrRadioAtIndex: (at, v) => {
            ft()[at].checked = v;
          },
          setTabIndexForListItemChildren: (at, v) => {
            let vi = ft()[at];
            Array.prototype.forEach.call(
              vi.element.querySelectorAll("button:not(:disabled), a"),
              jr => {
                jr.setAttribute("tabindex", v);
              },
            );
          },
        }),
      );
      let xe = {
        get element() {
          return Rt();
        },
        get items() {
          return te;
        },
        get typeaheadInProgress() {
          return f.isTypeaheadInProgress();
        },
        typeaheadMatchItem: (at, v) => f.typeaheadMatchItem(at, v, !0),
        getOrderedList: ft,
        focusItemAtIndex: mt,
        addClassForElementIndex: _e,
        removeClassForElementIndex: le,
        setAttributeForElementIndex: Ke,
        removeAttributeForElementIndex: dt,
        getAttributeFromElementIndex: Ee,
        getPrimaryTextAtIndex: Tt,
      };
      return xi(Rt(), "SMUIList:mount", xe), f.init(), f.layout(), () => {
        f.destroy();
      };
    }),
    Xr(() => {
      Be && Be();
    }),
    t.$$set = xe => {
      e = st(st({}, e), Ai(xe)),
        i(25, n = $t(e, r)),
        "use" in xe && i(0, h = xe.use),
        "class" in xe && i(1, x = xe.class),
        "nonInteractive" in xe && i(2, S = xe.nonInteractive),
        "dense" in xe && i(3, p = xe.dense),
        "textualList" in xe && i(4, y = xe.textualList),
        "avatarList" in xe && i(5, E = xe.avatarList),
        "iconList" in xe && i(6, g = xe.iconList),
        "imageList" in xe && i(7, _ = xe.imageList),
        "thumbnailList" in xe && i(8, $ = xe.thumbnailList),
        "videoList" in xe && i(9, z = xe.videoList),
        "twoLine" in xe && i(10, I = xe.twoLine),
        "threeLine" in xe && i(11, D = xe.threeLine),
        "vertical" in xe && i(27, V = xe.vertical),
        "wrapFocus" in xe && i(28, ue = xe.wrapFocus),
        "singleSelection" in xe && i(29, ne = xe.singleSelection),
        "disabledItemsFocusable" in xe && i(30, ee = xe.disabledItemsFocusable),
        "selectedIndex" in xe && i(26, R = xe.selectedIndex),
        "radioList" in xe && i(31, A = xe.radioList),
        "checkList" in xe && i(32, X = xe.checkList),
        "hasTypeahead" in xe && i(33, G = xe.hasTypeahead),
        "component" in xe && i(12, gt = xe.component),
        "tag" in xe && i(13, St = xe.tag),
        "$$scope" in xe && i(44, o = xe.$$scope);
    },
    t.$$.update = () => {
      134217728 & t.$$.dirty[0] | 1024 & t.$$.dirty[1] && f
      && f.setVerticalOrientation(V),
        268435456 & t.$$.dirty[0] | 1024 & t.$$.dirty[1] && f
        && f.setWrapFocus(ue),
        1028 & t.$$.dirty[1] && f && f.setHasTypeahead(G),
        536870912 & t.$$.dirty[0] | 1024 & t.$$.dirty[1] && f
        && f.setSingleSelection(ne),
        1073741824 & t.$$.dirty[0] | 1024 & t.$$.dirty[1] && f
        && f.setDisabledItemsFocusable(ee),
        603979776 & t.$$.dirty[0] | 1024 & t.$$.dirty[1] && f && ne
        && Wt() !== R && f.setSelectedIndex(R);
    },
    [
      h,
      x,
      S,
      p,
      y,
      E,
      g,
      _,
      $,
      z,
      I,
      D,
      gt,
      St,
      u,
      De,
      c,
      We,
      function(xe) {
        te.push(xe.detail),
          Fe.set(xe.detail.element, xe.detail),
          ne && xe.detail.selected && i(26, R = At(xe.detail.element)),
          xe.stopPropagation();
      },
      function(xe) {
        var at;
        let v =
          (at = xe.detail && te.indexOf(xe.detail)) !== null && at !== void 0
            ? at
            : -1;
        v !== -1 && (te.splice(v, 1), Fe.delete(xe.detail.element)),
          xe.stopPropagation();
      },
      function(xe) {
        f && xe.target
          && f.handleKeydown(
            xe,
            xe.target.classList.contains("mdc-deprecated-list-item"),
            At(xe.target),
          );
      },
      function(xe) {
        f && xe.target && f.handleFocusIn(At(xe.target));
      },
      function(xe) {
        f && xe.target && f.handleFocusOut(At(xe.target));
      },
      function(xe) {
        f && xe.target
          && f.handleClick(
            At(xe.target),
            !d(xe.target, "input[type=\"checkbox\"], input[type=\"radio\"]"),
            xe,
          );
      },
      function(xe) {
        if (A || X) {
          let at = At(xe.target);
          if (at !== -1) {
            let v = ft()[at];
            v && (A && !v.checked || X)
              && (d(
                xe.detail.target,
                "input[type=\"checkbox\"], input[type=\"radio\"]",
              ) || (v.checked = !v.checked),
                v.activateRipple(),
                window.requestAnimationFrame(() => {
                  v.deactivateRipple();
                }));
          }
        }
      },
      n,
      R,
      V,
      ue,
      ne,
      ee,
      A,
      X,
      G,
      yi,
      function(xe, at) {
        return f.setEnabled(xe, at);
      },
      function() {
        return f.isTypeaheadInProgress();
      },
      Wt,
      function() {
        return f.getFocusedItemIndex();
      },
      mt,
      Rt,
      f,
      a,
      function(xe) {
        bt[xe ? "unshift" : "push"](() => {
          u = xe, i(14, u);
        });
      },
      o,
    ];
}
var Qu = class extends ri {
  constructor(e) {
    super(),
      si(
        this,
        e,
        N5,
        M5,
        Xt,
        {
          use: 0,
          class: 1,
          nonInteractive: 2,
          dense: 3,
          textualList: 4,
          avatarList: 5,
          iconList: 6,
          imageList: 7,
          thumbnailList: 8,
          videoList: 9,
          twoLine: 10,
          threeLine: 11,
          vertical: 27,
          wrapFocus: 28,
          singleSelection: 29,
          disabledItemsFocusable: 30,
          selectedIndex: 26,
          radioList: 31,
          checkList: 32,
          hasTypeahead: 33,
          component: 12,
          tag: 13,
          layout: 34,
          setEnabled: 35,
          getTypeaheadInProgress: 36,
          getSelectedIndex: 37,
          getFocusedItemIndex: 38,
          focusItemAtIndex: 39,
          getElement: 40,
        },
        null,
        [-1, -1],
      );
  }
  get layout() {
    return this.$$.ctx[34];
  }
  get setEnabled() {
    return this.$$.ctx[35];
  }
  get getTypeaheadInProgress() {
    return this.$$.ctx[36];
  }
  get getSelectedIndex() {
    return this.$$.ctx[37];
  }
  get getFocusedItemIndex() {
    return this.$$.ctx[38];
  }
  get focusItemAtIndex() {
    return this.$$.ctx[39];
  }
  get getElement() {
    return this.$$.ctx[40];
  }
};
var Ed = {};
Nc(Ed, { applyPassive: () => P5 });
function P5(t) {
  return t === void 0 && (t = window),
    !!function(e) {
      e === void 0 && (e = window);
      var i = !1;
      try {
        var r = {
            get passive() {
              return i = !0, !1;
            },
          },
          n = function() {};
        e.document.addEventListener("test", n, r),
          e.document.removeEventListener("test", n, r);
      }
      catch {
        i = !1;
      }
      return i;
    }(t) && { passive: !0 };
}
var S1 = {
    BG_FOCUSED: "mdc-ripple-upgraded--background-focused",
    FG_ACTIVATION: "mdc-ripple-upgraded--foreground-activation",
    FG_DEACTIVATION: "mdc-ripple-upgraded--foreground-deactivation",
    ROOT: "mdc-ripple-upgraded",
    UNBOUNDED: "mdc-ripple-upgraded--unbounded",
  },
  E1 = {
    VAR_FG_SCALE: "--mdc-ripple-fg-scale",
    VAR_FG_SIZE: "--mdc-ripple-fg-size",
    VAR_FG_TRANSLATE_END: "--mdc-ripple-fg-translate-end",
    VAR_FG_TRANSLATE_START: "--mdc-ripple-fg-translate-start",
    VAR_LEFT: "--mdc-ripple-left",
    VAR_TOP: "--mdc-ripple-top",
  },
  $p = {
    DEACTIVATION_TIMEOUT_MS: 225,
    FG_DEACTIVATION_MS: 150,
    INITIAL_ORIGIN_SCALE: .6,
    PADDING: 10,
    TAP_DELAY_MS: 300,
  };
var Mp;
function T1(t, e) {
  e === void 0 && (e = !1);
  var i, r = t.CSS;
  if (typeof Mp == "boolean" && !e) return Mp;
  if (!(r && typeof r.supports == "function")) return !1;
  var n = r.supports("--css-vars", "yes"),
    a = r.supports("(--css-vars: yes)") && r.supports("color", "#00000000");
  return i = n || a, e || (Mp = i), i;
}
function A1(t, e, i) {
  if (!t) return { x: 0, y: 0 };
  var r, n, a = e.x, o = e.y, s = a + i.left, l = o + i.top;
  if (t.type === "touchstart") {
    var d = t;
    r = d.changedTouches[0].pageX - s, n = d.changedTouches[0].pageY - l;
  }
  else {
    var c = t;
    r = c.pageX - s, n = c.pageY - l;
  }
  return { x: r, y: n };
}
var I1 = ["touchstart", "pointerdown", "mousedown", "keydown"],
  C1 = ["touchend", "pointerup", "mouseup", "contextmenu"],
  ef = [],
  k1 = function(t) {
    function e(i) {
      var r = t.call(this, bi(bi({}, e.defaultAdapter), i)) || this;
      return r.activationAnimationHasEnded = !1,
        r.activationTimer = 0,
        r.fgDeactivationRemovalTimer = 0,
        r.fgScale = "0",
        r.frame = { width: 0, height: 0 },
        r.initialSize = 0,
        r.layoutFrame = 0,
        r.maxRadius = 0,
        r.unboundedCoords = { left: 0, top: 0 },
        r.activationState = r.defaultActivationState(),
        r.activationTimerCallback = function() {
          r.activationAnimationHasEnded = !0, r.runDeactivationUXLogicIfReady();
        },
        r.activateHandler = function(n) {
          r.activateImpl(n);
        },
        r.deactivateHandler = function() {
          r.deactivateImpl();
        },
        r.focusHandler = function() {
          r.handleFocus();
        },
        r.blurHandler = function() {
          r.handleBlur();
        },
        r.resizeHandler = function() {
          r.layout();
        },
        r;
    }
    return Sr(e, t),
      Object.defineProperty(e, "cssClasses", {
        get: function() {
          return S1;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(e, "strings", {
        get: function() {
          return E1;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(e, "numbers", {
        get: function() {
          return $p;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(e, "defaultAdapter", {
        get: function() {
          return {
            addClass: function() {},
            browserSupportsCssVars: function() {
              return !0;
            },
            computeBoundingRect: function() {
              return {
                top: 0,
                right: 0,
                bottom: 0,
                left: 0,
                width: 0,
                height: 0,
              };
            },
            containsEventTarget: function() {
              return !0;
            },
            deregisterDocumentInteractionHandler: function() {},
            deregisterInteractionHandler: function() {},
            deregisterResizeHandler: function() {},
            getWindowPageOffset: function() {
              return { x: 0, y: 0 };
            },
            isSurfaceActive: function() {
              return !0;
            },
            isSurfaceDisabled: function() {
              return !0;
            },
            isUnbounded: function() {
              return !0;
            },
            registerDocumentInteractionHandler: function() {},
            registerInteractionHandler: function() {},
            registerResizeHandler: function() {},
            removeClass: function() {},
            updateCssVariable: function() {},
          };
        },
        enumerable: !1,
        configurable: !0,
      }),
      e.prototype.init = function() {
        var i = this, r = this.supportsPressRipple();
        if (this.registerRootHandlers(r), r) {
          var n = e.cssClasses, a = n.ROOT, o = n.UNBOUNDED;
          requestAnimationFrame(function() {
            i.adapter.addClass(a),
              i.adapter.isUnbounded()
              && (i.adapter.addClass(o), i.layoutInternal());
          });
        }
      },
      e.prototype.destroy = function() {
        var i = this;
        if (this.supportsPressRipple()) {
          this.activationTimer
          && (clearTimeout(this.activationTimer),
            this.activationTimer = 0,
            this.adapter.removeClass(e.cssClasses.FG_ACTIVATION)),
            this.fgDeactivationRemovalTimer
            && (clearTimeout(this.fgDeactivationRemovalTimer),
              this.fgDeactivationRemovalTimer = 0,
              this.adapter.removeClass(e.cssClasses.FG_DEACTIVATION));
          var r = e.cssClasses, n = r.ROOT, a = r.UNBOUNDED;
          requestAnimationFrame(function() {
            i.adapter.removeClass(n),
              i.adapter.removeClass(a),
              i.removeCssVars();
          });
        }
        this.deregisterRootHandlers(), this.deregisterDeactivationHandlers();
      },
      e.prototype.activate = function(i) {
        this.activateImpl(i);
      },
      e.prototype.deactivate = function() {
        this.deactivateImpl();
      },
      e.prototype.layout = function() {
        var i = this;
        this.layoutFrame && cancelAnimationFrame(this.layoutFrame),
          this.layoutFrame = requestAnimationFrame(function() {
            i.layoutInternal(), i.layoutFrame = 0;
          });
      },
      e.prototype.setUnbounded = function(i) {
        var r = e.cssClasses.UNBOUNDED;
        i ? this.adapter.addClass(r) : this.adapter.removeClass(r);
      },
      e.prototype.handleFocus = function() {
        var i = this;
        requestAnimationFrame(function() {
          return i.adapter.addClass(e.cssClasses.BG_FOCUSED);
        });
      },
      e.prototype.handleBlur = function() {
        var i = this;
        requestAnimationFrame(function() {
          return i.adapter.removeClass(e.cssClasses.BG_FOCUSED);
        });
      },
      e.prototype.supportsPressRipple = function() {
        return this.adapter.browserSupportsCssVars();
      },
      e.prototype.defaultActivationState = function() {
        return {
          activationEvent: void 0,
          hasDeactivationUXRun: !1,
          isActivated: !1,
          isProgrammatic: !1,
          wasActivatedByPointer: !1,
          wasElementMadeActive: !1,
        };
      },
      e.prototype.registerRootHandlers = function(i) {
        var r, n;
        if (i) {
          try {
            for (var a = Br(I1), o = a.next(); !o.done; o = a.next()) {
              var s = o.value;
              this.adapter.registerInteractionHandler(s, this.activateHandler);
            }
          }
          catch (l) {
            r = { error: l };
          }
          finally {
            try {
              o && !o.done && (n = a.return) && n.call(a);
            }
            finally {
              if (r) throw r.error;
            }
          }
          this.adapter.isUnbounded()
            && this.adapter.registerResizeHandler(this.resizeHandler);
        }
        this.adapter.registerInteractionHandler("focus", this.focusHandler),
          this.adapter.registerInteractionHandler("blur", this.blurHandler);
      },
      e.prototype.registerDeactivationHandlers = function(i) {
        var r, n;
        if (i.type === "keydown") {
          this.adapter.registerInteractionHandler(
            "keyup",
            this.deactivateHandler,
          );
        }
        else {
          try {
            for (var a = Br(C1), o = a.next(); !o.done; o = a.next()) {
              var s = o.value;
              this.adapter.registerDocumentInteractionHandler(
                s,
                this.deactivateHandler,
              );
            }
          }
          catch (l) {
            r = { error: l };
          }
          finally {
            try {
              o && !o.done && (n = a.return) && n.call(a);
            }
            finally {
              if (r) throw r.error;
            }
          }
        }
      },
      e.prototype.deregisterRootHandlers = function() {
        var i, r;
        try {
          for (var n = Br(I1), a = n.next(); !a.done; a = n.next()) {
            var o = a.value;
            this.adapter.deregisterInteractionHandler(o, this.activateHandler);
          }
        }
        catch (s) {
          i = { error: s };
        }
        finally {
          try {
            a && !a.done && (r = n.return) && r.call(n);
          }
          finally {
            if (i) throw i.error;
          }
        }
        this.adapter.deregisterInteractionHandler("focus", this.focusHandler),
          this.adapter.deregisterInteractionHandler("blur", this.blurHandler),
          this.adapter.isUnbounded()
          && this.adapter.deregisterResizeHandler(this.resizeHandler);
      },
      e.prototype.deregisterDeactivationHandlers = function() {
        var i, r;
        this.adapter.deregisterInteractionHandler(
          "keyup",
          this.deactivateHandler,
        );
        try {
          for (var n = Br(C1), a = n.next(); !a.done; a = n.next()) {
            var o = a.value;
            this.adapter.deregisterDocumentInteractionHandler(
              o,
              this.deactivateHandler,
            );
          }
        }
        catch (s) {
          i = { error: s };
        }
        finally {
          try {
            a && !a.done && (r = n.return) && r.call(n);
          }
          finally {
            if (i) throw i.error;
          }
        }
      },
      e.prototype.removeCssVars = function() {
        var i = this, r = e.strings;
        Object.keys(r).forEach(function(n) {
          n.indexOf("VAR_") === 0 && i.adapter.updateCssVariable(r[n], null);
        });
      },
      e.prototype.activateImpl = function(i) {
        var r = this;
        if (!this.adapter.isSurfaceDisabled()) {
          var n = this.activationState;
          if (!n.isActivated) {
            var a = this.previousActivationEvent;
            a && i !== void 0 && a.type !== i.type
              || (n.isActivated = !0,
                n.isProgrammatic = i === void 0,
                n.activationEvent = i,
                n.wasActivatedByPointer = !n.isProgrammatic && i !== void 0
                  && (i.type === "mousedown" || i.type === "touchstart"
                    || i.type === "pointerdown"),
                i !== void 0 && ef.length > 0 && ef.some(function(o) {
                    return r.adapter.containsEventTarget(o);
                  })
                  ? this.resetActivationState()
                  : (i !== void 0
                    && (ef.push(i.target),
                      this.registerDeactivationHandlers(i)),
                    n.wasElementMadeActive = this.checkElementMadeActive(i),
                    n.wasElementMadeActive && this.animateActivation(),
                    requestAnimationFrame(function() {
                      ef = [],
                        n.wasElementMadeActive || i === void 0
                        || i.key !== " " && i.keyCode !== 32
                        || (n.wasElementMadeActive = r.checkElementMadeActive(
                          i,
                        ),
                          n.wasElementMadeActive && r.animateActivation()),
                        n.wasElementMadeActive
                        || (r.activationState = r.defaultActivationState());
                    })));
          }
        }
      },
      e.prototype.checkElementMadeActive = function(i) {
        return i === void 0 || i.type !== "keydown"
          || this.adapter.isSurfaceActive();
      },
      e.prototype.animateActivation = function() {
        var i = this,
          r = e.strings,
          n = r.VAR_FG_TRANSLATE_START,
          a = r.VAR_FG_TRANSLATE_END,
          o = e.cssClasses,
          s = o.FG_DEACTIVATION,
          l = o.FG_ACTIVATION,
          d = e.numbers.DEACTIVATION_TIMEOUT_MS;
        this.layoutInternal();
        var c = "", u = "";
        if (!this.adapter.isUnbounded()) {
          var f = this.getFgTranslationCoordinates(),
            h = f.startPoint,
            x = f.endPoint;
          c = h.x + "px, " + h.y + "px", u = x.x + "px, " + x.y + "px";
        }
        this.adapter.updateCssVariable(n, c),
          this.adapter.updateCssVariable(a, u),
          clearTimeout(this.activationTimer),
          clearTimeout(this.fgDeactivationRemovalTimer),
          this.rmBoundedActivationClasses(),
          this.adapter.removeClass(s),
          this.adapter.computeBoundingRect(),
          this.adapter.addClass(l),
          this.activationTimer = setTimeout(function() {
            i.activationTimerCallback();
          }, d);
      },
      e.prototype.getFgTranslationCoordinates = function() {
        var i, r = this.activationState, n = r.activationEvent;
        return {
          startPoint: i = {
            x: (i = r.wasActivatedByPointer
              ? A1(
                n,
                this.adapter.getWindowPageOffset(),
                this.adapter.computeBoundingRect(),
              )
              : { x: this.frame.width / 2, y: this.frame.height / 2 }).x
              - this.initialSize / 2,
            y: i.y - this.initialSize / 2,
          },
          endPoint: {
            x: this.frame.width / 2 - this.initialSize / 2,
            y: this.frame.height / 2 - this.initialSize / 2,
          },
        };
      },
      e.prototype.runDeactivationUXLogicIfReady = function() {
        var i = this,
          r = e.cssClasses.FG_DEACTIVATION,
          n = this.activationState,
          a = n.hasDeactivationUXRun,
          o = n.isActivated;
        (a || !o) && this.activationAnimationHasEnded
          && (this.rmBoundedActivationClasses(),
            this.adapter.addClass(r),
            this.fgDeactivationRemovalTimer = setTimeout(function() {
              i.adapter.removeClass(r);
            }, $p.FG_DEACTIVATION_MS));
      },
      e.prototype.rmBoundedActivationClasses = function() {
        var i = e.cssClasses.FG_ACTIVATION;
        this.adapter.removeClass(i),
          this.activationAnimationHasEnded = !1,
          this.adapter.computeBoundingRect();
      },
      e.prototype.resetActivationState = function() {
        var i = this;
        this.previousActivationEvent = this.activationState.activationEvent,
          this.activationState = this.defaultActivationState(),
          setTimeout(function() {
            return i.previousActivationEvent = void 0;
          }, e.numbers.TAP_DELAY_MS);
      },
      e.prototype.deactivateImpl = function() {
        var i = this, r = this.activationState;
        if (r.isActivated) {
          var n = bi({}, r);
          r.isProgrammatic
            ? (requestAnimationFrame(function() {
              i.animateDeactivation(n);
            }),
              this.resetActivationState())
            : (this.deregisterDeactivationHandlers(),
              requestAnimationFrame(function() {
                i.activationState.hasDeactivationUXRun = !0,
                  i.animateDeactivation(n),
                  i.resetActivationState();
              }));
        }
      },
      e.prototype.animateDeactivation = function(i) {
        var r = i.wasActivatedByPointer, n = i.wasElementMadeActive;
        (r || n) && this.runDeactivationUXLogicIfReady();
      },
      e.prototype.layoutInternal = function() {
        var i = this;
        this.frame = this.adapter.computeBoundingRect();
        var r = Math.max(this.frame.height, this.frame.width);
        this.maxRadius = this.adapter.isUnbounded() ? r
        : Math.sqrt(Math.pow(i.frame.width, 2) + Math.pow(i.frame.height, 2))
          + e.numbers.PADDING;
        var n = Math.floor(r * e.numbers.INITIAL_ORIGIN_SCALE);
        this.adapter.isUnbounded() && n % 2 != 0
          ? this.initialSize = n - 1
          : this.initialSize = n,
          this.fgScale = "" + this.maxRadius / this.initialSize,
          this.updateLayoutCssVars();
      },
      e.prototype.updateLayoutCssVars = function() {
        var i = e.strings,
          r = i.VAR_FG_SIZE,
          n = i.VAR_LEFT,
          a = i.VAR_TOP,
          o = i.VAR_FG_SCALE;
        this.adapter.updateCssVariable(r, this.initialSize + "px"),
          this.adapter.updateCssVariable(o, this.fgScale),
          this.adapter.isUnbounded()
          && (this.unboundedCoords = {
            left: Math.round(this.frame.width / 2 - this.initialSize / 2),
            top: Math.round(this.frame.height / 2 - this.initialSize / 2),
          },
            this.adapter.updateCssVariable(n, this.unboundedCoords.left + "px"),
            this.adapter.updateCssVariable(a, this.unboundedCoords.top + "px"));
      },
      e;
  }(Er);
var { applyPassive: tf } = Ed, { matches: z5 } = zo;
function Gs(
  t,
  {
    ripple: e = !0,
    surface: i = !1,
    unbounded: r = !1,
    disabled: n = !1,
    color: a,
    active: o,
    rippleElement: s,
    eventTarget: l,
    activeTarget: d,
    addClass: c = x => t.classList.add(x),
    removeClass: u = x => t.classList.remove(x),
    addStyle: f = (x, S) => t.style.setProperty(x, S),
    initPromise: h = Promise.resolve(),
  } = {},
) {
  let x, S, p = Ji("SMUI:addLayoutListener"), y = o, E = l, g = d;
  function _() {
    i
      ? (c("mdc-ripple-surface"),
        a === "primary"
          ? (c("smui-ripple-surface--primary"),
            u("smui-ripple-surface--secondary"))
          : a === "secondary"
          ? (u("smui-ripple-surface--primary"),
            c("smui-ripple-surface--secondary"))
          : (u("smui-ripple-surface--primary"),
            u("smui-ripple-surface--secondary")))
      : (u("mdc-ripple-surface"),
        u("smui-ripple-surface--primary"),
        u("smui-ripple-surface--secondary")),
      x && y !== o && (y = o, o ? x.activate() : o === !1 && x.deactivate()),
      e && !x
        ? (x = new k1({
          addClass: c,
          browserSupportsCssVars: () => T1(window),
          computeBoundingRect: () => (s || t).getBoundingClientRect(),
          containsEventTarget: $ => t.contains($),
          deregisterDocumentInteractionHandler: ($, z) =>
            document.documentElement.removeEventListener($, z, tf()),
          deregisterInteractionHandler: ($, z) =>
            (l || t).removeEventListener($, z, tf()),
          deregisterResizeHandler: $ => window.removeEventListener("resize", $),
          getWindowPageOffset: () => ({
            x: window.pageXOffset,
            y: window.pageYOffset,
          }),
          isSurfaceActive: () => o ?? z5(d || t, ":active"),
          isSurfaceDisabled: () => !!n,
          isUnbounded: () => !!r,
          registerDocumentInteractionHandler: ($, z) =>
            document.documentElement.addEventListener($, z, tf()),
          registerInteractionHandler: ($, z) =>
            (l || t).addEventListener($, z, tf()),
          registerResizeHandler: $ => window.addEventListener("resize", $),
          removeClass: u,
          updateCssVariable: f,
        }),
          h.then(() => {
            x && (x.init(), x.setUnbounded(r));
          }))
        : x && !e && h.then(() => {
          x && (x.destroy(), x = void 0);
        }),
      !x || E === l && g === d
      || (E = l,
        g = d,
        x.destroy(),
        requestAnimationFrame(() => {
          x && (x.init(), x.setUnbounded(r));
        })),
      !e && r && c("mdc-ripple-upgraded--unbounded");
  }
  return _(),
    p && (S = p(function() {
      x && x.layout();
    })),
    {
      update($) {
        ({
          ripple: e,
          surface: i,
          unbounded: r,
          disabled: n,
          color: a,
          active: o,
          rippleElement: s,
          eventTarget: l,
          activeTarget: d,
          addClass: c,
          removeClass: u,
          addStyle: f,
          initPromise: h,
        } = Object.assign({
          ripple: !0,
          surface: !1,
          unbounded: !1,
          disabled: !1,
          color: void 0,
          active: void 0,
          rippleElement: void 0,
          eventTarget: void 0,
          activeTarget: void 0,
          addClass: z => t.classList.add(z),
          removeClass: z => t.classList.remove(z),
          addStyle: (z, I) => t.style.setProperty(z, I),
          initPromise: Promise.resolve(),
        }, $)), _();
      },
      destroy() {
        x
        && (x.destroy(),
          x = void 0,
          u("mdc-ripple-surface"),
          u("smui-ripple-surface--primary"),
          u("smui-ripple-surface--secondary")), S && S();
      },
    };
}
function L1(t) {
  let e;
  return {
    c() {
      e = Nt("span"), ci(e, "class", "mdc-deprecated-list-item__ripple");
    },
    m(i, r) {
      rt(i, e, r);
    },
    d(i) {
      i && it(e);
    },
  };
}
function B5(t) {
  let e, i, r = t[7] && L1(), n = t[34].default, a = Ut(n, t, t[37], null);
  return {
    c() {
      r && r.c(), e = Vi(), a && a.c();
    },
    m(o, s) {
      r && r.m(o, s), rt(o, e, s), a && a.m(o, s), i = !0;
    },
    p(o, s) {
      o[7]
        ? r || (r = L1(), r.c(), r.m(e.parentNode, e))
        : r && (r.d(1), r = null),
        a && a.p && (!i || 64 & s[1])
        && Ht(a, n, o, o[37], i ? Gt(n, o[37], s, null) : jt(o[37]), null);
    },
    i(o) {
      i || (Te(a, o), i = !0);
    },
    o(o) {
      Re(a, o), i = !1;
    },
    d(o) {
      r && r.d(o), o && it(e), a && a.d(o);
    },
  };
}
function U5(t) {
  let e,
    i,
    r,
    n = [
      { tag: t[14] },
      {
        use: [
          ...t[6]
            ? []
            : [[Gs, {
              ripple: !t[16],
              unbounded: !1,
              color: (t[1] || t[0]) && t[5] == null ? "primary" : t[5],
              disabled: t[10],
              addClass: t[24],
              removeClass: t[25],
              addStyle: t[26],
            }]],
          t[22],
          ...t[2],
        ],
      },
      {
        class: Ot({
          [t[3]]: !0,
          "mdc-deprecated-list-item": !t[8],
          "mdc-deprecated-list-item__wrapper": t[8],
          "mdc-deprecated-list-item--activated": t[1],
          "mdc-deprecated-list-item--selected": t[0],
          "mdc-deprecated-list-item--disabled": t[10],
          "mdc-menu-item--selected": !t[23] && t[9] === "menuitem" && t[0],
          "smui-menu-item--non-interactive": t[6],
          ...t[18],
        }),
      },
      { style: Object.entries(t[19]).map(O1).concat([t[4]]).join(" ") },
      t[23] && t[1] ? { "aria-current": "page" } : {},
      !t[23] || t[8] ? { role: t[9] } : {},
      t[23] || t[9] !== "option"
        ? {}
        : { "aria-selected": t[0] ? "true" : "false" },
      t[23] || t[9] !== "radio" && t[9] !== "checkbox" ? {}
      : { "aria-checked": t[16] && t[16].checked ? "true" : "false" },
      t[23] ? {} : { "aria-disabled": t[10] ? "true" : "false" },
      { "data-menu-item-skip-restore-focus": t[11] || void 0 },
      { tabindex: t[21] },
      { href: t[12] },
      t[20],
      t[29],
    ];
  var a = t[13];
  function o(s) {
    let l = { $$slots: { default: [B5] }, $$scope: { ctx: s } };
    for (let d = 0; d < n.length; d += 1) l = st(l, n[d]);
    return { props: l };
  }
  return a
    && (e = ha(a, o(t)),
      t[35](e),
      e.$on("click", t[15]),
      e.$on("keydown", t[27]),
      e.$on("SMUIGenericInput:mount", t[28]),
      e.$on("SMUIGenericInput:unmount", t[36])),
    {
      c() {
        e && Qt(e.$$.fragment), i = Vi();
      },
      m(s, l) {
        e && Kt(e, s, l), rt(s, i, l), r = !0;
      },
      p(s, l) {
        let d = 670916479 & l[0]
          ? Vt(n, [
            16384 & l[0] && { tag: s[14] },
            121701479 & l[0] && {
              use: [
                ...s[6]
                  ? []
                  : [[Gs, {
                    ripple: !s[16],
                    unbounded: !1,
                    color: (s[1] || s[0]) && s[5] == null ? "primary" : s[5],
                    disabled: s[10],
                    addClass: s[24],
                    removeClass: s[25],
                    addStyle: s[26],
                  }]],
                s[22],
                ...s[2],
              ],
            },
            8652619 & l[0]
            && {
              class: Ot({
                [s[3]]: !0,
                "mdc-deprecated-list-item": !s[8],
                "mdc-deprecated-list-item__wrapper": s[8],
                "mdc-deprecated-list-item--activated": s[1],
                "mdc-deprecated-list-item--selected": s[0],
                "mdc-deprecated-list-item--disabled": s[10],
                "mdc-menu-item--selected": !s[23] && s[9] === "menuitem"
                  && s[0],
                "smui-menu-item--non-interactive": s[6],
                ...s[18],
              }),
            },
            524304 & l[0]
            && {
              style: Object.entries(s[19]).map(O1).concat([s[4]]).join(" "),
            },
            8388610 & l[0]
            && Ui(s[23] && s[1] ? { "aria-current": "page" } : {}),
            8389376 & l[0] && Ui(!s[23] || s[8] ? { role: s[9] } : {}),
            8389121 & l[0] && Ui(
              s[23] || s[9] !== "option"
                ? {}
                : {
                  "aria-selected": s[0]
                    ? "true"
                    : "false",
                },
            ),
            8454656 & l[0]
            && Ui(
              s[23] || s[9] !== "radio" && s[9] !== "checkbox"
                ? {}
                : {
                  "aria-checked": s[16] && s[16].checked
                    ? "true"
                    : "false",
                },
            ),
            8389632 & l[0] && Ui(
              s[23] ? {} : {
                "aria-disabled": s[10]
                  ? "true"
                  : "false",
              },
            ),
            2048 & l[0]
            && { "data-menu-item-skip-restore-focus": s[11] || void 0 },
            2097152 & l[0] && { tabindex: s[21] },
            4096 & l[0] && { href: s[12] },
            1048576 & l[0] && Ui(s[20]),
            536870912 & l[0] && Ui(s[29]),
          ])
          : {};
        if (
          128 & l[0] | 64 & l[1] && (d.$$scope = { dirty: l, ctx: s }),
            8192 & l[0] && a !== (a = s[13])
        ) {
          if (e) {
            Ci();
            let c = e;
            Re(c.$$.fragment, 1, 0, () => {
              Zt(c, 1);
            }), ki();
          }
          a
            ? (e = ha(a, o(s)),
              s[35](e),
              e.$on("click", s[15]),
              e.$on("keydown", s[27]),
              e.$on("SMUIGenericInput:mount", s[28]),
              e.$on("SMUIGenericInput:unmount", s[36]),
              Qt(e.$$.fragment),
              Te(e.$$.fragment, 1),
              Kt(e, i.parentNode, i))
            : e = null;
        }
        else a && e.$set(d);
      },
      i(s) {
        r || (e && Te(e.$$.fragment, s), r = !0);
      },
      o(s) {
        e && Re(e.$$.fragment, s), r = !1;
      },
      d(s) {
        t[35](null), s && it(i), e && Zt(e, s);
      },
    };
}
var G5 = 0, O1 = ([t, e]) => `${t}: ${e};`;
function H5(t, e, i) {
  let r,
    n = [
      "use",
      "class",
      "style",
      "color",
      "nonInteractive",
      "ripple",
      "wrapper",
      "activated",
      "role",
      "selected",
      "disabled",
      "skipRestoreFocus",
      "tabindex",
      "inputId",
      "href",
      "component",
      "tag",
      "action",
      "getPrimaryText",
      "getElement",
    ],
    a = $t(e, n),
    { $$slots: o = {}, $$scope: s } = e;
  var l;
  let d = Li(ui()),
    c = () => {},
    { use: u = [] } = e,
    { class: f = "" } = e,
    { style: h = "" } = e,
    { color: x } = e,
    {
      nonInteractive: S = (l = Ji("SMUI:list:nonInteractive")) !== null
        && l !== void 0 && l,
    } = e;
  gr("SMUI:list:nonInteractive", void 0);
  let { ripple: p = !S } = e,
    { wrapper: y = !1 } = e,
    { activated: E = !1 } = e,
    { role: g = y ? "presentation" : Ji("SMUI:list:item:role") } = e;
  gr("SMUI:list:item:role", void 0);
  let _,
    $,
    z,
    { selected: I = !1 } = e,
    { disabled: D = !1 } = e,
    { skipRestoreFocus: V = !1 } = e,
    { tabindex: ue = c } = e,
    { inputId: ne = "SMUI-form-field-list-" + G5++ } = e,
    { href: ee } = e,
    R = {},
    A = {},
    X = {},
    G = Ji("SMUI:list:item:nav"),
    { component: te = Ln } = e,
    { tag: De = te === Ln ? G ? ee ? "a" : "span" : "li" : void 0 } = e;
  function Se(_e) {
    return _e in R ? R[_e] : xt().classList.contains(_e);
  }
  function Fe(_e) {
    R[_e] || i(18, R[_e] = !0, R);
  }
  function Be(_e) {
    _e in R && !R[_e] || i(18, R[_e] = !1, R);
  }
  function We(_e) {
    var le;
    return _e in X
      ? (le = X[_e]) !== null && le !== void 0 ? le : null
      : xt().getAttribute(_e);
  }
  function me(_e, le) {
    X[_e] !== le && i(20, X[_e] = le, X);
  }
  function gt(_e) {
    _e in X && X[_e] == null || i(20, X[_e] = void 0, X);
  }
  function St(_e) {
    D || xi(xt(), "SMUI:action", _e);
  }
  function ft() {
    var _e, le, Ke;
    let dt = xt(),
      Ee = dt.querySelector(".mdc-deprecated-list-item__primary-text");
    if (Ee) return (_e = Ee.textContent) !== null && _e !== void 0 ? _e : "";
    let Tt = dt.querySelector(".mdc-deprecated-list-item__text");
    return Tt
      ? (le = Tt.textContent) !== null && le !== void 0 ? le : ""
      : (Ke = dt.textContent) !== null && Ke !== void 0
      ? Ke
      : "";
  }
  function xt() {
    return _.getElement();
  }
  return gr("SMUI:generic:input:props", { id: ne }),
    gr("SMUI:separator:context", void 0),
    Bi(() => {
      if (!I && !S) {
        let le = !0, Ke = _.getElement();
        for (; Ke.previousSibling;) {
          if (
            Ke = Ke.previousSibling,
              Ke.nodeType === 1
              && Ke.classList.contains("mdc-deprecated-list-item")
              && !Ke.classList.contains("mdc-deprecated-list-item--disabled")
          ) {
            le = !1;
            break;
          }
        }
        le && (z = window.requestAnimationFrame(() =>
          function(dt) {
            let Ee = !0;
            for (; dt.nextElementSibling;) {
              if (
                (dt = dt.nextElementSibling).nodeType === 1
                && dt.classList.contains("mdc-deprecated-list-item")
              ) {
                let Tt = dt.attributes.getNamedItem("tabindex");
                if (Tt && Tt.value === "0") {
                  Ee = !1;
                  break;
                }
              }
            }
            Ee && i(21, r = 0);
          }(Ke)
        ));
      }
      let _e = {
        _smui_list_item_accessor: !0,
        get element() {
          return xt();
        },
        get selected() {
          return I;
        },
        set selected(le) {
          i(0, I = le);
        },
        hasClass: Se,
        addClass: Fe,
        removeClass: Be,
        getAttr: We,
        addAttr: me,
        removeAttr: gt,
        getPrimaryText: ft,
        get checked() {
          var le;
          return (le = $ && $.checked) !== null && le !== void 0 && le;
        },
        set checked(le) {
          $ && i(16, $.checked = !!le, $);
        },
        get hasCheckbox() {
          return !(!$ || !("_smui_checkbox_accessor" in $));
        },
        get hasRadio() {
          return !(!$ || !("_smui_radio_accessor" in $));
        },
        activateRipple() {
          $ && $.activateRipple();
        },
        deactivateRipple() {
          $ && $.deactivateRipple();
        },
        getValue: () => a.value,
        action: St,
        get tabindex() {
          return r;
        },
        set tabindex(le) {
          i(30, ue = le);
        },
        get disabled() {
          return D;
        },
        get activated() {
          return E;
        },
        set activated(le) {
          i(1, E = le);
        },
      };
      return xi(xt(), "SMUIListItem:mount", _e), () => {
        xi(xt(), "SMUIListItem:unmount", _e);
      };
    }),
    Xr(() => {
      z && window.cancelAnimationFrame(z);
    }),
    t.$$set = _e => {
      e = st(st({}, e), Ai(_e)),
        i(29, a = $t(e, n)),
        "use" in _e && i(2, u = _e.use),
        "class" in _e && i(3, f = _e.class),
        "style" in _e && i(4, h = _e.style),
        "color" in _e && i(5, x = _e.color),
        "nonInteractive" in _e && i(6, S = _e.nonInteractive),
        "ripple" in _e && i(7, p = _e.ripple),
        "wrapper" in _e && i(8, y = _e.wrapper),
        "activated" in _e && i(1, E = _e.activated),
        "role" in _e && i(9, g = _e.role),
        "selected" in _e && i(0, I = _e.selected),
        "disabled" in _e && i(10, D = _e.disabled),
        "skipRestoreFocus" in _e && i(11, V = _e.skipRestoreFocus),
        "tabindex" in _e && i(30, ue = _e.tabindex),
        "inputId" in _e && i(31, ne = _e.inputId),
        "href" in _e && i(12, ee = _e.href),
        "component" in _e && i(13, te = _e.component),
        "tag" in _e && i(14, De = _e.tag),
        "$$scope" in _e && i(37, s = _e.$$scope);
    },
    t.$$.update = () => {
      1073808449 & t.$$.dirty[0]
        && i(21, r = ue === c ? S || D || !(I || $ && $.checked) ? -1 : 0 : ue);
    },
    [
      I,
      E,
      u,
      f,
      h,
      x,
      S,
      p,
      y,
      g,
      D,
      V,
      ee,
      te,
      De,
      St,
      $,
      _,
      R,
      A,
      X,
      r,
      d,
      G,
      Fe,
      Be,
      function(_e, le) {
        A[_e] != le
          && (le === "" || le == null
            ? (delete A[_e], i(19, A))
            : i(19, A[_e] = le, A));
      },
      function(_e) {
        let le = _e.key === "Enter", Ke = _e.key === "Space";
        (le || Ke) && St(_e);
      },
      function(_e) {
        ("_smui_checkbox_accessor" in _e.detail
          || "_smui_radio_accessor" in _e.detail) && i(16, $ = _e.detail);
      },
      a,
      ue,
      ne,
      ft,
      xt,
      o,
      function(_e) {
        bt[_e ? "unshift" : "push"](() => {
          _ = _e, i(17, _);
        });
      },
      () => i(16, $ = void 0),
      s,
    ];
}
var Hs = class extends ri {
  constructor(e) {
    super(),
      si(
        this,
        e,
        H5,
        U5,
        Xt,
        {
          use: 2,
          class: 3,
          style: 4,
          color: 5,
          nonInteractive: 6,
          ripple: 7,
          wrapper: 8,
          activated: 1,
          role: 9,
          selected: 0,
          disabled: 10,
          skipRestoreFocus: 11,
          tabindex: 30,
          inputId: 31,
          href: 12,
          component: 13,
          tag: 14,
          action: 15,
          getPrimaryText: 32,
          getElement: 33,
        },
        null,
        [-1, -1],
      );
  }
  get action() {
    return this.$$.ctx[15];
  }
  get getPrimaryText() {
    return this.$$.ctx[32];
  }
  get getElement() {
    return this.$$.ctx[33];
  }
};
function j5(t) {
  let e, i = t[11].default, r = Ut(i, t, t[13], null);
  return {
    c() {
      r && r.c();
    },
    m(n, a) {
      r && r.m(n, a), e = !0;
    },
    p(n, a) {
      r && r.p && (!e || 8192 & a)
        && Ht(r, i, n, n[13], e ? Gt(i, n[13], a, null) : jt(n[13]), null);
    },
    i(n) {
      e || (Te(r, n), e = !0);
    },
    o(n) {
      Re(r, n), e = !1;
    },
    d(n) {
      r && r.d(n);
    },
  };
}
function V5(t) {
  let e,
    i,
    r,
    n = [
      { tag: t[3] },
      { use: [t[8], ...t[0]] },
      { class: Ot({ [t[1]]: !0, [t[6]]: !0, ...t[5] }) },
      t[7],
      t[9],
    ];
  var a = t[2];
  function o(s) {
    let l = { $$slots: { default: [j5] }, $$scope: { ctx: s } };
    for (let d = 0; d < n.length; d += 1) l = st(l, n[d]);
    return { props: l };
  }
  return a && (e = ha(a, o(t)), t[12](e)), {
    c() {
      e && Qt(e.$$.fragment), i = Vi();
    },
    m(s, l) {
      e && Kt(e, s, l), rt(s, i, l), r = !0;
    },
    p(s, [l]) {
      let d = 1003 & l
        ? Vt(n, [
          8 & l && { tag: s[3] },
          257 & l && { use: [s[8], ...s[0]] },
          98 & l && { class: Ot({ [s[1]]: !0, [s[6]]: !0, ...s[5] }) },
          128 & l && Ui(s[7]),
          512 & l && Ui(s[9]),
        ])
        : {};
      if (
        8192 & l && (d.$$scope = { dirty: l, ctx: s }),
          4 & l && a !== (a = s[2])
      ) {
        if (e) {
          Ci();
          let c = e;
          Re(c.$$.fragment, 1, 0, () => {
            Zt(c, 1);
          }), ki();
        }
        a
          ? (e = ha(a, o(s)),
            s[12](e),
            Qt(e.$$.fragment),
            Te(e.$$.fragment, 1),
            Kt(e, i.parentNode, i))
          : e = null;
      }
      else a && e.$set(d);
    },
    i(s) {
      r || (e && Te(e.$$.fragment, s), r = !0);
    },
    o(s) {
      e && Re(e.$$.fragment, s), r = !1;
    },
    d(s) {
      t[12](null), s && it(i), e && Zt(e, s);
    },
  };
}
var Xn = {
  component: Ln,
  tag: "div",
  class: "",
  classMap: {},
  contexts: {},
  props: {},
};
function q5(t, e, i) {
  let r = ["use", "class", "component", "tag", "getElement"],
    n,
    a = $t(e, r),
    { $$slots: o = {}, $$scope: s } = e,
    { use: l = [] } = e,
    { class: d = "" } = e,
    c = Xn.class,
    u = {},
    f = [],
    h = Xn.contexts,
    x = Xn.props,
    { component: S = Xn.component } = e,
    { tag: p = S === Ln ? Xn.tag : void 0 } = e;
  Object.entries(Xn.classMap).forEach(([E, g]) => {
    let _ = Ji(g);
    _ && "subscribe" in _ && f.push(_.subscribe($ => {
      i(5, u[E] = $, u);
    }));
  });
  let y = Li(ui());
  for (let E in h) h.hasOwnProperty(E) && gr(E, h[E]);
  return Xr(() => {
    for (let E of f) E();
  }),
    t.$$set = E => {
      e = st(st({}, e), Ai(E)),
        i(9, a = $t(e, r)),
        "use" in E && i(0, l = E.use),
        "class" in E && i(1, d = E.class),
        "component" in E && i(2, S = E.component),
        "tag" in E && i(3, p = E.tag),
        "$$scope" in E && i(13, s = E.$$scope);
    },
    [
      l,
      d,
      S,
      p,
      n,
      u,
      c,
      x,
      y,
      a,
      function() {
        return n.getElement();
      },
      o,
      function(E) {
        bt[E ? "unshift" : "push"](() => {
          n = E, i(4, n);
        });
      },
      s,
    ];
}
var rf = class extends ri {
  constructor(e) {
    super(),
      si(this, e, q5, V5, Xt, {
        use: 0,
        class: 1,
        component: 2,
        tag: 3,
        getElement: 10,
      });
  }
  get getElement() {
    return this.$$.ctx[10];
  }
};
var R1 = Object.assign({}, Xn);
function cr(t) {
  return new Proxy(rf, {
    construct: function(e, i) {
      return Object.assign(Xn, R1, t), new e(...i);
    },
    get: function(e, i) {
      return Object.assign(Xn, R1, t), e[i];
    },
  });
}
var Np = cr({ class: "mdc-deprecated-list-item__text", tag: "span" });
cr({ class: "mdc-deprecated-list-item__primary-text", tag: "span" });
cr({ class: "mdc-deprecated-list-item__secondary-text", tag: "span" });
cr({ class: "mdc-deprecated-list-item__meta", tag: "span" });
cr({ class: "mdc-deprecated-list-group", tag: "div" });
cr({ class: "mdc-deprecated-list-group__subheader", tag: "h3" });
function Td(t, e) {
  let i = Object.getOwnPropertyNames(t), r = {};
  for (let n = 0; n < i.length; n++) {
    let a = i[n], o = a.indexOf("$");
    o !== -1 && e.indexOf(a.substring(0, o + 1)) !== -1
      || e.indexOf(a) === -1 && (r[a] = t[a]);
  }
  return r;
}
function Hr(t, e) {
  let i = Object.getOwnPropertyNames(t), r = {};
  for (let n = 0; n < i.length; n++) {
    let a = i[n];
    a.substring(0, e.length) === e && (r[a.substring(e.length)] = t[a]);
  }
  return r;
}
var js = [];
function F1(t, e = di) {
  let i, r = new Set();
  function n(a) {
    if (Xt(t, a) && (t = a, i)) {
      let o = !js.length;
      for (let s of r) s[1](), js.push(s, t);
      if (o) {
        for (let s = 0; s < js.length; s += 2) js[s][0](js[s + 1]);
        js.length = 0;
      }
    }
  }
  return {
    set: n,
    update: function(a) {
      n(a(t));
    },
    subscribe: function(a, o = di) {
      let s = [a, o];
      return r.add(s), r.size === 1 && (i = e(n) || di), a(t), () => {
        r.delete(s), r.size === 0 && i && (i(), i = null);
      };
    },
  };
}
function W5(t) {
  let e, i = t[4].default, r = Ut(i, t, t[3], null);
  return {
    c() {
      r && r.c();
    },
    m(n, a) {
      r && r.m(n, a), e = !0;
    },
    p(n, [a]) {
      r && r.p && (!e || 8 & a)
        && Ht(r, i, n, n[3], e ? Gt(i, n[3], a, null) : jt(n[3]), null);
    },
    i(n) {
      e || (Te(r, n), e = !0);
    },
    o(n) {
      Re(r, n), e = !1;
    },
    d(n) {
      r && r.d(n);
    },
  };
}
function Y5(t, e, i) {
  let r,
    { $$slots: n = {}, $$scope: a } = e,
    { key: o } = e,
    { value: s } = e,
    l = F1(s);
  return Ku(t, l, d => i(5, r = d)),
    gr(o, l),
    Xr(() => {
      l.set(void 0);
    }),
    t.$$set = d => {
      "key" in d && i(1, o = d.key),
        "value" in d && i(2, s = d.value),
        "$$scope" in d && i(3, a = d.$$scope);
    },
    t.$$.update = () => {
      4 & t.$$.dirty && o1(l, r = s, r);
    },
    [l, o, s, a, n];
}
var Bo = class extends ri {
  constructor(e) {
    super(), si(this, e, Y5, W5, Xt, { key: 1, value: 2 });
  }
};
var D1 = {
  LABEL_FLOAT_ABOVE: "mdc-floating-label--float-above",
  LABEL_REQUIRED: "mdc-floating-label--required",
  LABEL_SHAKE: "mdc-floating-label--shake",
  ROOT: "mdc-floating-label",
};
var $1 = function(t) {
  function e(i) {
    var r = t.call(this, bi(bi({}, e.defaultAdapter), i)) || this;
    return r.shakeAnimationEndHandler = function() {
      r.handleShakeAnimationEnd();
    },
      r;
  }
  return Sr(e, t),
    Object.defineProperty(e, "cssClasses", {
      get: function() {
        return D1;
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e, "defaultAdapter", {
      get: function() {
        return {
          addClass: function() {},
          removeClass: function() {},
          getWidth: function() {
            return 0;
          },
          registerInteractionHandler: function() {},
          deregisterInteractionHandler: function() {},
        };
      },
      enumerable: !1,
      configurable: !0,
    }),
    e.prototype.init = function() {
      this.adapter.registerInteractionHandler(
        "animationend",
        this.shakeAnimationEndHandler,
      );
    },
    e.prototype.destroy = function() {
      this.adapter.deregisterInteractionHandler(
        "animationend",
        this.shakeAnimationEndHandler,
      );
    },
    e.prototype.getWidth = function() {
      return this.adapter.getWidth();
    },
    e.prototype.shake = function(i) {
      var r = e.cssClasses.LABEL_SHAKE;
      i ? this.adapter.addClass(r) : this.adapter.removeClass(r);
    },
    e.prototype.float = function(i) {
      var r = e.cssClasses, n = r.LABEL_FLOAT_ABOVE, a = r.LABEL_SHAKE;
      i ? this.adapter.addClass(n)
      : (this.adapter.removeClass(n), this.adapter.removeClass(a));
    },
    e.prototype.setRequired = function(i) {
      var r = e.cssClasses.LABEL_REQUIRED;
      i ? this.adapter.addClass(r) : this.adapter.removeClass(r);
    },
    e.prototype.handleShakeAnimationEnd = function() {
      var i = e.cssClasses.LABEL_SHAKE;
      this.adapter.removeClass(i);
    },
    e;
}(Er);
function X5(t) {
  let e,
    i,
    r,
    n,
    a,
    o,
    s,
    l,
    d = t[22].default,
    c = Ut(d, t, t[21], null),
    u = [
      {
        class: i = Ot({
          [t[3]]: !0,
          "mdc-floating-label": !0,
          "mdc-floating-label--float-above": t[0],
          "mdc-floating-label--required": t[1],
          ...t[8],
        }),
      },
      { style: r = Object.entries(t[9]).map(N1).concat([t[4]]).join(" ") },
      { for: n = t[5] || (t[11] ? t[11].id : void 0) },
      t[12],
    ],
    f = {};
  for (let h = 0; h < u.length; h += 1) f = st(f, u[h]);
  return {
    c() {
      e = Nt("label"), c && c.c(), pi(e, f);
    },
    m(h, x) {
      rt(h, e, x),
        c && c.m(e, null),
        t[24](e),
        o = !0,
        s
        || (l = [zt(a = Gi.call(null, e, t[2])), zt(t[10].call(null, e))],
          s = !0);
    },
    p(h, x) {
      c && c.p && (!o || 2097152 & x)
      && Ht(c, d, h, h[21], o ? Gt(d, h[21], x, null) : jt(h[21]), null),
        pi(
          e,
          f = Vt(u, [
            (!o
              || 267 & x
                && i
                  !== (i = Ot({
                    [h[3]]: !0,
                    "mdc-floating-label": !0,
                    "mdc-floating-label--float-above": h[0],
                    "mdc-floating-label--required": h[1],
                    ...h[8],
                  }))) && { class: i },
            (!o
              || 528 & x
                && r
                  !== (r = Object.entries(h[9]).map(N1).concat([h[4]]).join(
                    " ",
                  ))) && { style: r },
            (!o || 32 & x && n !== (n = h[5] || (h[11] ? h[11].id : void 0)))
            && { for: n },
            4096 & x && h[12],
          ]),
        ),
        a && oi(a.update) && 4 & x && a.update.call(null, h[2]);
    },
    i(h) {
      o || (Te(c, h), o = !0);
    },
    o(h) {
      Re(c, h), o = !1;
    },
    d(h) {
      h && it(e), c && c.d(h), t[24](null), s = !1, hi(l);
    },
  };
}
function K5(t) {
  let e,
    i,
    r,
    n,
    a,
    o,
    s,
    l = t[22].default,
    d = Ut(l, t, t[21], null),
    c = [
      {
        class: i = Ot({
          [t[3]]: !0,
          "mdc-floating-label": !0,
          "mdc-floating-label--float-above": t[0],
          "mdc-floating-label--required": t[1],
          ...t[8],
        }),
      },
      { style: r = Object.entries(t[9]).map(M1).concat([t[4]]).join(" ") },
      t[12],
    ],
    u = {};
  for (let f = 0; f < c.length; f += 1) u = st(u, c[f]);
  return {
    c() {
      e = Nt("span"), d && d.c(), pi(e, u);
    },
    m(f, h) {
      rt(f, e, h),
        d && d.m(e, null),
        t[23](e),
        a = !0,
        o
        || (s = [zt(n = Gi.call(null, e, t[2])), zt(t[10].call(null, e))],
          o = !0);
    },
    p(f, h) {
      d && d.p && (!a || 2097152 & h)
      && Ht(d, l, f, f[21], a ? Gt(l, f[21], h, null) : jt(f[21]), null),
        pi(
          e,
          u = Vt(c, [
            (!a
              || 267 & h
                && i
                  !== (i = Ot({
                    [f[3]]: !0,
                    "mdc-floating-label": !0,
                    "mdc-floating-label--float-above": f[0],
                    "mdc-floating-label--required": f[1],
                    ...f[8],
                  }))) && { class: i },
            (!a
              || 528 & h
                && r
                  !== (r = Object.entries(f[9]).map(M1).concat([f[4]]).join(
                    " ",
                  ))) && { style: r },
            4096 & h && f[12],
          ]),
        ),
        n && oi(n.update) && 4 & h && n.update.call(null, f[2]);
    },
    i(f) {
      a || (Te(d, f), a = !0);
    },
    o(f) {
      Re(d, f), a = !1;
    },
    d(f) {
      f && it(e), d && d.d(f), t[23](null), o = !1, hi(s);
    },
  };
}
function Z5(t) {
  let e, i, r, n, a = [K5, X5], o = [];
  function s(l, d) {
    return l[6] ? 0 : 1;
  }
  return e = s(t), i = o[e] = a[e](t), {
    c() {
      i.c(), r = Vi();
    },
    m(l, d) {
      o[e].m(l, d), rt(l, r, d), n = !0;
    },
    p(l, [d]) {
      let c = e;
      e = s(l),
        e === c ? o[e].p(l, d) : (Ci(),
          Re(o[c], 1, 1, () => {
            o[c] = null;
          }),
          ki(),
          i = o[e],
          i ? i.p(l, d) : (i = o[e] = a[e](l), i.c()),
          Te(i, 1),
          i.m(r.parentNode, r));
    },
    i(l) {
      n || (Te(i), n = !0);
    },
    o(l) {
      Re(i), n = !1;
    },
    d(l) {
      o[e].d(l), l && it(r);
    },
  };
}
var M1 = ([t, e]) => `${t}: ${e};`, N1 = ([t, e]) => `${t}: ${e};`;
function J5(t, e, i) {
  let r = [
      "use",
      "class",
      "style",
      "for",
      "floatAbove",
      "required",
      "wrapped",
      "shake",
      "float",
      "setRequired",
      "getWidth",
      "getElement",
    ],
    n = $t(e, r),
    { $$slots: a = {}, $$scope: o } = e;
  var s;
  let l = Li(ui()),
    d,
    c,
    { use: u = [] } = e,
    { class: f = "" } = e,
    { style: h = "" } = e,
    { for: x } = e,
    { floatAbove: S = !1 } = e,
    { required: p = !1 } = e,
    { wrapped: y = !1 } = e,
    E = {},
    g = {},
    _ = (s = Ji("SMUI:generic:input:props")) !== null && s !== void 0 ? s : {},
    $ = S,
    z = p;
  function I(ee) {
    E[ee] || i(8, E[ee] = !0, E);
  }
  function D(ee) {
    ee in E && !E[ee] || i(8, E[ee] = !1, E);
  }
  function V(ee, R) {
    g[ee] != R
      && (R === "" || R == null ? (delete g[ee], i(9, g)) : i(9, g[ee] = R, g));
  }
  function ue(ee) {
    ee in g && (delete g[ee], i(9, g));
  }
  function ne() {
    return d;
  }
  return Bi(() => {
    i(
      18,
      c = new $1({
        addClass: I,
        removeClass: D,
        getWidth: () => {
          var R, A;
          let X = ne(), G = X.cloneNode(!0);
          (R = X.parentNode) === null || R === void 0 || R.appendChild(G),
            G.classList.add("smui-floating-label--remove-transition"),
            G.classList.add("smui-floating-label--force-size"),
            G.classList.remove("mdc-floating-label--float-above");
          let te = G.scrollWidth;
          return (A = X.parentNode) === null || A === void 0
            || A.removeChild(G),
            te;
        },
        registerInteractionHandler: (R, A) => ne().addEventListener(R, A),
        deregisterInteractionHandler: (R, A) => ne().removeEventListener(R, A),
      }),
    );
    let ee = {
      get element() {
        return ne();
      },
      addStyle: V,
      removeStyle: ue,
    };
    return xi(d, "SMUIFloatingLabel:mount", ee), c.init(), () => {
      xi(d, "SMUIFloatingLabel:unmount", ee), c.destroy();
    };
  }),
    t.$$set = ee => {
      e = st(st({}, e), Ai(ee)),
        i(12, n = $t(e, r)),
        "use" in ee && i(2, u = ee.use),
        "class" in ee && i(3, f = ee.class),
        "style" in ee && i(4, h = ee.style),
        "for" in ee && i(5, x = ee.for),
        "floatAbove" in ee && i(0, S = ee.floatAbove),
        "required" in ee && i(1, p = ee.required),
        "wrapped" in ee && i(6, y = ee.wrapped),
        "$$scope" in ee && i(21, o = ee.$$scope);
    },
    t.$$.update = () => {
      786433 & t.$$.dirty && c && $ !== S && (i(19, $ = S), c.float(S)),
        1310722 & t.$$.dirty && c && z !== p
        && (i(20, z = p), c.setRequired(p));
    },
    [
      S,
      p,
      u,
      f,
      h,
      x,
      y,
      d,
      E,
      g,
      l,
      _,
      n,
      function(ee) {
        c.shake(ee);
      },
      function(ee) {
        i(0, S = ee);
      },
      function(ee) {
        i(1, p = ee);
      },
      function() {
        return c.getWidth();
      },
      ne,
      c,
      $,
      z,
      o,
      a,
      function(ee) {
        bt[ee ? "unshift" : "push"](() => {
          d = ee, i(7, d);
        });
      },
      function(ee) {
        bt[ee ? "unshift" : "push"](() => {
          d = ee, i(7, d);
        });
      },
    ];
}
var Ad = class extends ri {
  constructor(e) {
    super(),
      si(this, e, J5, Z5, Xt, {
        use: 2,
        class: 3,
        style: 4,
        for: 5,
        floatAbove: 0,
        required: 1,
        wrapped: 6,
        shake: 13,
        float: 14,
        setRequired: 15,
        getWidth: 16,
        getElement: 17,
      });
  }
  get shake() {
    return this.$$.ctx[13];
  }
  get float() {
    return this.$$.ctx[14];
  }
  get setRequired() {
    return this.$$.ctx[15];
  }
  get getWidth() {
    return this.$$.ctx[16];
  }
  get getElement() {
    return this.$$.ctx[17];
  }
};
var Va = {
  LINE_RIPPLE_ACTIVE: "mdc-line-ripple--active",
  LINE_RIPPLE_DEACTIVATING: "mdc-line-ripple--deactivating",
};
var P1 = function(t) {
  function e(i) {
    var r = t.call(this, bi(bi({}, e.defaultAdapter), i)) || this;
    return r.transitionEndHandler = function(n) {
      r.handleTransitionEnd(n);
    },
      r;
  }
  return Sr(e, t),
    Object.defineProperty(e, "cssClasses", {
      get: function() {
        return Va;
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e, "defaultAdapter", {
      get: function() {
        return {
          addClass: function() {},
          removeClass: function() {},
          hasClass: function() {
            return !1;
          },
          setStyle: function() {},
          registerEventHandler: function() {},
          deregisterEventHandler: function() {},
        };
      },
      enumerable: !1,
      configurable: !0,
    }),
    e.prototype.init = function() {
      this.adapter.registerEventHandler(
        "transitionend",
        this.transitionEndHandler,
      );
    },
    e.prototype.destroy = function() {
      this.adapter.deregisterEventHandler(
        "transitionend",
        this.transitionEndHandler,
      );
    },
    e.prototype.activate = function() {
      this.adapter.removeClass(Va.LINE_RIPPLE_DEACTIVATING),
        this.adapter.addClass(Va.LINE_RIPPLE_ACTIVE);
    },
    e.prototype.setRippleCenter = function(i) {
      this.adapter.setStyle("transform-origin", i + "px center");
    },
    e.prototype.deactivate = function() {
      this.adapter.addClass(Va.LINE_RIPPLE_DEACTIVATING);
    },
    e.prototype.handleTransitionEnd = function(i) {
      var r = this.adapter.hasClass(Va.LINE_RIPPLE_DEACTIVATING);
      i.propertyName === "opacity" && r
        && (this.adapter.removeClass(Va.LINE_RIPPLE_ACTIVE),
          this.adapter.removeClass(Va.LINE_RIPPLE_DEACTIVATING));
    },
    e;
}(Er);
function Q5(t) {
  let e,
    i,
    r,
    n,
    a,
    o,
    s = [
      {
        class: i = Ot({
          [t[1]]: !0,
          "mdc-line-ripple": !0,
          "mdc-line-ripple--active": t[3],
          ...t[5],
        }),
      },
      { style: r = Object.entries(t[6]).map(z1).concat([t[2]]).join(" ") },
      t[8],
    ],
    l = {};
  for (let d = 0; d < s.length; d += 1) l = st(l, s[d]);
  return {
    c() {
      e = Nt("div"), pi(e, l);
    },
    m(d, c) {
      rt(d, e, c),
        t[13](e),
        a
        || (o = [zt(n = Gi.call(null, e, t[0])), zt(t[7].call(null, e))],
          a = !0);
    },
    p(d, [c]) {
      pi(
        e,
        l = Vt(s, [
          42 & c
          && i
            !== (i = Ot({
              [d[1]]: !0,
              "mdc-line-ripple": !0,
              "mdc-line-ripple--active": d[3],
              ...d[5],
            }))
          && { class: i },
          68 & c
          && r !== (r = Object.entries(d[6]).map(z1).concat([d[2]]).join(" "))
          && { style: r },
          256 & c && d[8],
        ]),
      ), n && oi(n.update) && 1 & c && n.update.call(null, d[0]);
    },
    i: di,
    o: di,
    d(d) {
      d && it(e), t[13](null), a = !1, hi(o);
    },
  };
}
var z1 = ([t, e]) => `${t}: ${e};`;
function ek(t, e, i) {
  let r = [
      "use",
      "class",
      "style",
      "active",
      "activate",
      "deactivate",
      "setRippleCenter",
      "getElement",
    ],
    n = $t(e, r),
    a = Li(ui()),
    o,
    s,
    { use: l = [] } = e,
    { class: d = "" } = e,
    { style: c = "" } = e,
    { active: u = !1 } = e,
    f = {},
    h = {};
  function x(g) {
    return g in f ? f[g] : E().classList.contains(g);
  }
  function S(g) {
    f[g] || i(5, f[g] = !0, f);
  }
  function p(g) {
    g in f && !f[g] || i(5, f[g] = !1, f);
  }
  function y(g, _) {
    h[g] != _
      && (_ === "" || _ == null ? (delete h[g], i(6, h)) : i(6, h[g] = _, h));
  }
  function E() {
    return o;
  }
  return Bi(
    () => (s = new P1({
      addClass: S,
      removeClass: p,
      hasClass: x,
      setStyle: y,
      registerEventHandler: (g, _) => E().addEventListener(g, _),
      deregisterEventHandler: (g, _) => E().removeEventListener(g, _),
    }),
      s.init(),
      () => {
        s.destroy();
      })
  ),
    t.$$set = g => {
      e = st(st({}, e), Ai(g)),
        i(8, n = $t(e, r)),
        "use" in g && i(0, l = g.use),
        "class" in g && i(1, d = g.class),
        "style" in g && i(2, c = g.style),
        "active" in g && i(3, u = g.active);
    },
    [
      l,
      d,
      c,
      u,
      o,
      f,
      h,
      a,
      n,
      function() {
        s.activate();
      },
      function() {
        s.deactivate();
      },
      function(g) {
        s.setRippleCenter(g);
      },
      E,
      function(g) {
        bt[g ? "unshift" : "push"](() => {
          o = g, i(4, o);
        });
      },
    ];
}
var nf = class extends ri {
  constructor(e) {
    super(),
      si(this, e, ek, Q5, Xt, {
        use: 0,
        class: 1,
        style: 2,
        active: 3,
        activate: 9,
        deactivate: 10,
        setRippleCenter: 11,
        getElement: 12,
      });
  }
  get activate() {
    return this.$$.ctx[9];
  }
  get deactivate() {
    return this.$$.ctx[10];
  }
  get setRippleCenter() {
    return this.$$.ctx[11];
  }
  get getElement() {
    return this.$$.ctx[12];
  }
};
var B1 = { NOTCH_ELEMENT_SELECTOR: ".mdc-notched-outline__notch" },
  Pp = { NOTCH_ELEMENT_PADDING: 8 },
  U1 = {
    NO_LABEL: "mdc-notched-outline--no-label",
    OUTLINE_NOTCHED: "mdc-notched-outline--notched",
    OUTLINE_UPGRADED: "mdc-notched-outline--upgraded",
  };
var G1 = function(t) {
  function e(i) {
    return t.call(this, bi(bi({}, e.defaultAdapter), i)) || this;
  }
  return Sr(e, t),
    Object.defineProperty(e, "strings", {
      get: function() {
        return B1;
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e, "cssClasses", {
      get: function() {
        return U1;
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e, "numbers", {
      get: function() {
        return Pp;
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e, "defaultAdapter", {
      get: function() {
        return {
          addClass: function() {},
          removeClass: function() {},
          setNotchWidthProperty: function() {},
          removeNotchWidthProperty: function() {},
        };
      },
      enumerable: !1,
      configurable: !0,
    }),
    e.prototype.notch = function(i) {
      var r = e.cssClasses.OUTLINE_NOTCHED;
      i > 0 && (i += Pp.NOTCH_ELEMENT_PADDING),
        this.adapter.setNotchWidthProperty(i),
        this.adapter.addClass(r);
    },
    e.prototype.closeNotch = function() {
      var i = e.cssClasses.OUTLINE_NOTCHED;
      this.adapter.removeClass(i), this.adapter.removeNotchWidthProperty();
    },
    e;
}(Er);
function H1(t) {
  let e, i, r, n = t[15].default, a = Ut(n, t, t[14], null);
  return {
    c() {
      e = Nt("div"),
        a && a.c(),
        ci(e, "class", "mdc-notched-outline__notch"),
        ci(e, "style", i = Object.entries(t[7]).map(j1).join(" "));
    },
    m(o, s) {
      rt(o, e, s), a && a.m(e, null), r = !0;
    },
    p(o, s) {
      a && a.p && (!r || 16384 & s)
      && Ht(a, n, o, o[14], r ? Gt(n, o[14], s, null) : jt(o[14]), null),
        (!r || 128 & s && i !== (i = Object.entries(o[7]).map(j1).join(" ")))
        && ci(e, "style", i);
    },
    i(o) {
      r || (Te(a, o), r = !0);
    },
    o(o) {
      Re(a, o), r = !1;
    },
    d(o) {
      o && it(e), a && a.d(o);
    },
  };
}
function tk(t) {
  let e,
    i,
    r,
    n,
    a,
    o,
    s,
    l,
    d,
    c,
    u = !t[3] && H1(t),
    f = [{
      class: o = Ot({
        [t[1]]: !0,
        "mdc-notched-outline": !0,
        "mdc-notched-outline--notched": t[2],
        "mdc-notched-outline--no-label": t[3],
        ...t[6],
      }),
    }, t[10]],
    h = {};
  for (let x = 0; x < f.length; x += 1) h = st(h, f[x]);
  return {
    c() {
      e = Nt("div"),
        i = Nt("div"),
        r = Ii(),
        u && u.c(),
        n = Ii(),
        a = Nt("div"),
        ci(i, "class", "mdc-notched-outline__leading"),
        ci(a, "class", "mdc-notched-outline__trailing"),
        pi(e, h);
    },
    m(x, S) {
      rt(x, e, S),
        Ni(e, i),
        Ni(e, r),
        u && u.m(e, null),
        Ni(e, n),
        Ni(e, a),
        t[16](e),
        l = !0,
        d
        || (c = [
          zt(s = Gi.call(null, e, t[0])),
          zt(t[8].call(null, e)),
          _i(e, "SMUIFloatingLabel:mount", t[9]),
          _i(e, "SMUIFloatingLabel:unmount", t[17]),
        ],
          d = !0);
    },
    p(x, [S]) {
      x[3]
        ? u && (Ci(),
          Re(u, 1, 1, () => {
            u = null;
          }),
          ki())
        : u
        ? (u.p(x, S), 8 & S && Te(u, 1))
        : (u = H1(x), u.c(), Te(u, 1), u.m(e, n)),
        pi(
          e,
          h = Vt(f, [
            (!l
              || 78 & S
                && o
                  !== (o = Ot({
                    [x[1]]: !0,
                    "mdc-notched-outline": !0,
                    "mdc-notched-outline--notched": x[2],
                    "mdc-notched-outline--no-label": x[3],
                    ...x[6],
                  }))) && { class: o },
            1024 & S && x[10],
          ]),
        ),
        s && oi(s.update) && 1 & S && s.update.call(null, x[0]);
    },
    i(x) {
      l || (Te(u), l = !0);
    },
    o(x) {
      Re(u), l = !1;
    },
    d(x) {
      x && it(e), u && u.d(), t[16](null), d = !1, hi(c);
    },
  };
}
var j1 = ([t, e]) => `${t}: ${e};`;
function ik(t, e, i) {
  let r = [
      "use",
      "class",
      "notched",
      "noLabel",
      "notch",
      "closeNotch",
      "getElement",
    ],
    n = $t(e, r),
    { $$slots: a = {}, $$scope: o } = e,
    s = Li(ui()),
    l,
    d,
    c,
    { use: u = [] } = e,
    { class: f = "" } = e,
    { notched: h = !1 } = e,
    { noLabel: x = !1 } = e,
    S = {},
    p = {};
  function y(g) {
    S[g] || i(6, S[g] = !0, S);
  }
  function E(g) {
    g in S && !S[g] || i(6, S[g] = !1, S);
  }
  return Bi(
    () => (d = new G1({
      addClass: y,
      removeClass: E,
      setNotchWidthProperty: g => {
        return $ = g + "px",
          void (p[_ = "width"] != $ && ($ === "" || $ == null
            ? (delete p[_], i(7, p))
            : i(7, p[_] = $, p)));
        var _, $;
      },
      removeNotchWidthProperty: () => {
        var g;
        (g = "width") in p && (delete p[g], i(7, p));
      },
    }),
      d.init(),
      () => {
        d.destroy();
      })
  ),
    t.$$set = g => {
      e = st(st({}, e), Ai(g)),
        i(10, n = $t(e, r)),
        "use" in g && i(0, u = g.use),
        "class" in g && i(1, f = g.class),
        "notched" in g && i(2, h = g.notched),
        "noLabel" in g && i(3, x = g.noLabel),
        "$$scope" in g && i(14, o = g.$$scope);
    },
    t.$$.update = () => {
      16 & t.$$.dirty && (c
        ? (c.addStyle("transition-duration", "0s"),
          y("mdc-notched-outline--upgraded"),
          requestAnimationFrame(() => {
            c && c.removeStyle("transition-duration");
          }))
        : E("mdc-notched-outline--upgraded"));
    },
    [
      u,
      f,
      h,
      x,
      c,
      l,
      S,
      p,
      s,
      function(g) {
        i(4, c = g.detail);
      },
      n,
      function(g) {
        d.notch(g);
      },
      function() {
        d.closeNotch();
      },
      function() {
        return l;
      },
      o,
      a,
      function(g) {
        bt[g ? "unshift" : "push"](() => {
          l = g, i(5, l);
        });
      },
      () => i(4, c = void 0),
    ];
}
var af = class extends ri {
  constructor(e) {
    super(),
      si(this, e, ik, tk, Xt, {
        use: 0,
        class: 1,
        notched: 2,
        noLabel: 3,
        notch: 11,
        closeNotch: 12,
        getElement: 13,
      });
  }
  get notch() {
    return this.$$.ctx[11];
  }
  get closeNotch() {
    return this.$$.ctx[12];
  }
  get getElement() {
    return this.$$.ctx[13];
  }
};
var V1 = cr({ class: "mdc-text-field-helper-line", tag: "div" });
var q1 = cr({
  class: "mdc-text-field__affix mdc-text-field__affix--prefix",
  tag: "span",
});
var W1 = cr({
  class: "mdc-text-field__affix mdc-text-field__affix--suffix",
  tag: "span",
});
function rk(t) {
  let e,
    i,
    r,
    n,
    a,
    o = [
      { class: i = Ot({ [t[1]]: !0, "mdc-text-field__input": !0 }) },
      { type: t[2] },
      { placeholder: t[3] },
      t[4],
      t[6],
      t[10],
    ],
    s = {};
  for (let l = 0; l < o.length; l += 1) s = st(s, o[l]);
  return {
    c() {
      e = Nt("input"), pi(e, s);
    },
    m(l, d) {
      rt(l, e, d),
        e.autofocus && e.focus(),
        t[26](e),
        n
        || (a = [
          zt(r = Gi.call(null, e, t[0])),
          zt(t[7].call(null, e)),
          _i(e, "input", t[27]),
          _i(e, "change", t[9]),
          _i(e, "blur", t[24]),
          _i(e, "focus", t[25]),
        ],
          n = !0);
    },
    p(l, [d]) {
      pi(
        e,
        s = Vt(o, [
          2 & d && i !== (i = Ot({ [l[1]]: !0, "mdc-text-field__input": !0 }))
          && { class: i },
          4 & d && { type: l[2] },
          8 & d && { placeholder: l[3] },
          16 & d && l[4],
          64 & d && l[6],
          1024 & d && l[10],
        ]),
      ), r && oi(r.update) && 1 & d && r.update.call(null, l[0]);
    },
    i: di,
    o: di,
    d(l) {
      l && it(e), t[26](null), n = !1, hi(a);
    },
  };
}
function nk(t, e, i) {
  let r = [
      "use",
      "class",
      "type",
      "placeholder",
      "value",
      "files",
      "dirty",
      "invalid",
      "updateInvalid",
      "emptyValueNull",
      "emptyValueUndefined",
      "getAttr",
      "addAttr",
      "removeAttr",
      "focus",
      "blur",
      "getElement",
    ],
    n = $t(e, r),
    a = Li(ui()),
    o = () => {},
    { use: s = [] } = e,
    { class: l = "" } = e,
    { type: d = "text" } = e,
    { placeholder: c = " " } = e,
    { value: u = o } = e,
    f = function(D) {
      return D === o;
    }(u);
  f && (u = "");
  let { files: h = null } = e,
    { dirty: x = !1 } = e,
    { invalid: S = !1 } = e,
    { updateInvalid: p = !0 } = e,
    { emptyValueNull: y = u === null } = e;
  f && y && (u = null);
  let E, { emptyValueUndefined: g = u === void 0 } = e;
  f && g && (u = void 0);
  let _ = {}, $ = {};
  function z(D) {
    if (d !== "file") {
      if (D.currentTarget.value === "" && y) i(11, u = null);
      else if (D.currentTarget.value === "" && g) i(11, u = void 0);
      else {
        switch (d) {
          case "number":
          case "range":
            i(
              11,
              u = function(V) {
                return V === "" ? Number.NaN : +V;
              }(D.currentTarget.value),
            );
            break;
          default:
            i(11, u = D.currentTarget.value);
        }
      }
    }
    else i(12, h = D.currentTarget.files);
  }
  function I() {
    return E;
  }
  return Bi(() => {
    p && i(14, S = E.matches(":invalid"));
  }),
    t.$$set = D => {
      e = st(st({}, e), Ai(D)),
        i(10, n = $t(e, r)),
        "use" in D && i(0, s = D.use),
        "class" in D && i(1, l = D.class),
        "type" in D && i(2, d = D.type),
        "placeholder" in D && i(3, c = D.placeholder),
        "value" in D && i(11, u = D.value),
        "files" in D && i(12, h = D.files),
        "dirty" in D && i(13, x = D.dirty),
        "invalid" in D && i(14, S = D.invalid),
        "updateInvalid" in D && i(15, p = D.updateInvalid),
        "emptyValueNull" in D && i(16, y = D.emptyValueNull),
        "emptyValueUndefined" in D && i(17, g = D.emptyValueUndefined);
    },
    t.$$.update = () => {
      2068 & t.$$.dirty && (d === "file"
        ? (delete $.value, i(4, $), i(2, d), i(11, u))
        : i(4, $.value = u ?? "", $));
    },
    [
      s,
      l,
      d,
      c,
      $,
      E,
      _,
      a,
      z,
      function(D) {
        d !== "file" && d !== "range" || z(D),
          i(13, x = !0),
          p && i(14, S = E.matches(":invalid"));
      },
      n,
      u,
      h,
      x,
      S,
      p,
      y,
      g,
      function(D) {
        var V;
        return D in _ ? (V = _[D]) !== null && V !== void 0 ? V : null
        : I().getAttribute(D);
      },
      function(D, V) {
        _[D] !== V && i(6, _[D] = V, _);
      },
      function(D) {
        D in _ && _[D] == null || i(6, _[D] = void 0, _);
      },
      function() {
        I().focus();
      },
      function() {
        I().blur();
      },
      I,
      function(D) {
        zs.call(this, t, D);
      },
      function(D) {
        zs.call(this, t, D);
      },
      function(D) {
        bt[D ? "unshift" : "push"](() => {
          E = D, i(5, E);
        });
      },
      D => d !== "file" && z(D),
    ];
}
var of = class extends ri {
  constructor(e) {
    super(),
      si(this, e, nk, rk, Xt, {
        use: 0,
        class: 1,
        type: 2,
        placeholder: 3,
        value: 11,
        files: 12,
        dirty: 13,
        invalid: 14,
        updateInvalid: 15,
        emptyValueNull: 16,
        emptyValueUndefined: 17,
        getAttr: 18,
        addAttr: 19,
        removeAttr: 20,
        focus: 21,
        blur: 22,
        getElement: 23,
      });
  }
  get getAttr() {
    return this.$$.ctx[18];
  }
  get addAttr() {
    return this.$$.ctx[19];
  }
  get removeAttr() {
    return this.$$.ctx[20];
  }
  get focus() {
    return this.$$.ctx[21];
  }
  get blur() {
    return this.$$.ctx[22];
  }
  get getElement() {
    return this.$$.ctx[23];
  }
};
function ak(t) {
  let e,
    i,
    r,
    n,
    a,
    o,
    s = [
      { class: i = Ot({ [t[2]]: !0, "mdc-text-field__input": !0 }) },
      { style: r = `${t[4] ? "" : "resize: none; "}${t[3]}` },
      t[6],
      t[9],
    ],
    l = {};
  for (let d = 0; d < s.length; d += 1) l = st(l, s[d]);
  return {
    c() {
      e = Nt("textarea"), pi(e, l);
    },
    m(d, c) {
      rt(d, e, c),
        e.autofocus && e.focus(),
        t[21](e),
        Ap(e, t[0]),
        a
        || (o = [
          zt(n = Gi.call(null, e, t[1])),
          zt(t[7].call(null, e)),
          _i(e, "change", t[8]),
          _i(e, "blur", t[19]),
          _i(e, "focus", t[20]),
          _i(e, "input", t[22]),
        ],
          a = !0);
    },
    p(d, [c]) {
      pi(
        e,
        l = Vt(s, [
          4 & c && i !== (i = Ot({ [d[2]]: !0, "mdc-text-field__input": !0 }))
          && { class: i },
          24 & c && r !== (r = `${d[4] ? "" : "resize: none; "}${d[3]}`)
          && { style: r },
          64 & c && d[6],
          512 & c && d[9],
        ]),
      ),
        n && oi(n.update) && 2 & c && n.update.call(null, d[1]),
        1 & c && Ap(e, d[0]);
    },
    i: di,
    o: di,
    d(d) {
      d && it(e), t[21](null), a = !1, hi(o);
    },
  };
}
function ok(t, e, i) {
  let r = [
      "use",
      "class",
      "style",
      "value",
      "dirty",
      "invalid",
      "updateInvalid",
      "resizable",
      "getAttr",
      "addAttr",
      "removeAttr",
      "focus",
      "blur",
      "getElement",
    ],
    n = $t(e, r),
    a = Li(ui()),
    o,
    { use: s = [] } = e,
    { class: l = "" } = e,
    { style: d = "" } = e,
    { value: c = "" } = e,
    { dirty: u = !1 } = e,
    { invalid: f = !1 } = e,
    { updateInvalid: h = !0 } = e,
    { resizable: x = !0 } = e,
    S = {};
  function p() {
    return o;
  }
  return Bi(() => {
    h && i(11, f = o.matches(":invalid"));
  }),
    t.$$set = y => {
      e = st(st({}, e), Ai(y)),
        i(9, n = $t(e, r)),
        "use" in y && i(1, s = y.use),
        "class" in y && i(2, l = y.class),
        "style" in y && i(3, d = y.style),
        "value" in y && i(0, c = y.value),
        "dirty" in y && i(10, u = y.dirty),
        "invalid" in y && i(11, f = y.invalid),
        "updateInvalid" in y && i(12, h = y.updateInvalid),
        "resizable" in y && i(4, x = y.resizable);
    },
    [
      c,
      s,
      l,
      d,
      x,
      o,
      S,
      a,
      function() {
        i(10, u = !0), h && i(11, f = o.matches(":invalid"));
      },
      n,
      u,
      f,
      h,
      function(y) {
        var E;
        return y in S ? (E = S[y]) !== null && E !== void 0 ? E : null
        : p().getAttribute(y);
      },
      function(y, E) {
        S[y] !== E && i(6, S[y] = E, S);
      },
      function(y) {
        y in S && S[y] == null || i(6, S[y] = void 0, S);
      },
      function() {
        p().focus();
      },
      function() {
        p().blur();
      },
      p,
      function(y) {
        zs.call(this, t, y);
      },
      function(y) {
        zs.call(this, t, y);
      },
      function(y) {
        bt[y ? "unshift" : "push"](() => {
          o = y, i(5, o);
        });
      },
      function() {
        c = this.value, i(0, c);
      },
    ];
}
var sf = class extends ri {
  constructor(e) {
    super(),
      si(this, e, ok, ak, Xt, {
        use: 1,
        class: 2,
        style: 3,
        value: 0,
        dirty: 10,
        invalid: 11,
        updateInvalid: 12,
        resizable: 4,
        getAttr: 13,
        addAttr: 14,
        removeAttr: 15,
        focus: 16,
        blur: 17,
        getElement: 18,
      });
  }
  get getAttr() {
    return this.$$.ctx[13];
  }
  get addAttr() {
    return this.$$.ctx[14];
  }
  get removeAttr() {
    return this.$$.ctx[15];
  }
  get focus() {
    return this.$$.ctx[16];
  }
  get blur() {
    return this.$$.ctx[17];
  }
  get getElement() {
    return this.$$.ctx[18];
  }
};
var lf = {
    ARIA_CONTROLS: "aria-controls",
    ARIA_DESCRIBEDBY: "aria-describedby",
    INPUT_SELECTOR: ".mdc-text-field__input",
    LABEL_SELECTOR: ".mdc-floating-label",
    LEADING_ICON_SELECTOR: ".mdc-text-field__icon--leading",
    LINE_RIPPLE_SELECTOR: ".mdc-line-ripple",
    OUTLINE_SELECTOR: ".mdc-notched-outline",
    PREFIX_SELECTOR: ".mdc-text-field__affix--prefix",
    SUFFIX_SELECTOR: ".mdc-text-field__affix--suffix",
    TRAILING_ICON_SELECTOR: ".mdc-text-field__icon--trailing",
  },
  Y1 = {
    DISABLED: "mdc-text-field--disabled",
    FOCUSED: "mdc-text-field--focused",
    HELPER_LINE: "mdc-text-field-helper-line",
    INVALID: "mdc-text-field--invalid",
    LABEL_FLOATING: "mdc-text-field--label-floating",
    NO_LABEL: "mdc-text-field--no-label",
    OUTLINED: "mdc-text-field--outlined",
    ROOT: "mdc-text-field",
    TEXTAREA: "mdc-text-field--textarea",
    WITH_LEADING_ICON: "mdc-text-field--with-leading-icon",
    WITH_TRAILING_ICON: "mdc-text-field--with-trailing-icon",
    WITH_INTERNAL_COUNTER: "mdc-text-field--with-internal-counter",
  },
  zp = { LABEL_SCALE: .75 },
  X1 = ["pattern", "min", "max", "required", "step", "minlength", "maxlength"],
  K1 = ["color", "date", "datetime-local", "month", "range", "time", "week"];
var Z1 = ["mousedown", "touchstart"],
  J1 = ["click", "keydown"],
  Q1 = function(t) {
    function e(i, r) {
      r === void 0 && (r = {});
      var n = t.call(this, bi(bi({}, e.defaultAdapter), i)) || this;
      return n.isFocused = !1,
        n.receivedUserInput = !1,
        n.valid = !0,
        n.useNativeValidation = !0,
        n.validateOnValueChange = !0,
        n.helperText = r.helperText,
        n.characterCounter = r.characterCounter,
        n.leadingIcon = r.leadingIcon,
        n.trailingIcon = r.trailingIcon,
        n.inputFocusHandler = function() {
          n.activateFocus();
        },
        n.inputBlurHandler = function() {
          n.deactivateFocus();
        },
        n.inputInputHandler = function() {
          n.handleInput();
        },
        n.setPointerXOffset = function(a) {
          n.setTransformOrigin(a);
        },
        n.textFieldInteractionHandler = function() {
          n.handleTextFieldInteraction();
        },
        n.validationAttributeChangeHandler = function(a) {
          n.handleValidationAttributeChange(a);
        },
        n;
    }
    return Sr(e, t),
      Object.defineProperty(e, "cssClasses", {
        get: function() {
          return Y1;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(e, "strings", {
        get: function() {
          return lf;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(e, "numbers", {
        get: function() {
          return zp;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(e.prototype, "shouldAlwaysFloat", {
        get: function() {
          var i = this.getNativeInput().type;
          return K1.indexOf(i) >= 0;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(e.prototype, "shouldFloat", {
        get: function() {
          return this.shouldAlwaysFloat || this.isFocused || !!this.getValue()
            || this.isBadInput();
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(e.prototype, "shouldShake", {
        get: function() {
          return !this.isFocused && !this.isValid() && !!this.getValue();
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(e, "defaultAdapter", {
        get: function() {
          return {
            addClass: function() {},
            removeClass: function() {},
            hasClass: function() {
              return !0;
            },
            setInputAttr: function() {},
            removeInputAttr: function() {},
            registerTextFieldInteractionHandler: function() {},
            deregisterTextFieldInteractionHandler: function() {},
            registerInputInteractionHandler: function() {},
            deregisterInputInteractionHandler: function() {},
            registerValidationAttributeChangeHandler: function() {
              return new MutationObserver(function() {});
            },
            deregisterValidationAttributeChangeHandler: function() {},
            getNativeInput: function() {
              return null;
            },
            isFocused: function() {
              return !1;
            },
            activateLineRipple: function() {},
            deactivateLineRipple: function() {},
            setLineRippleTransformOrigin: function() {},
            shakeLabel: function() {},
            floatLabel: function() {},
            setLabelRequired: function() {},
            hasLabel: function() {
              return !1;
            },
            getLabelWidth: function() {
              return 0;
            },
            hasOutline: function() {
              return !1;
            },
            notchOutline: function() {},
            closeOutline: function() {},
          };
        },
        enumerable: !1,
        configurable: !0,
      }),
      e.prototype.init = function() {
        var i, r, n, a;
        this.adapter.hasLabel() && this.getNativeInput().required
        && this.adapter.setLabelRequired(!0),
          this.adapter.isFocused()
            ? this.inputFocusHandler()
            : this.adapter.hasLabel() && this.shouldFloat
              && (this.notchOutline(!0),
                this.adapter.floatLabel(!0),
                this.styleFloating(!0)),
          this.adapter.registerInputInteractionHandler(
            "focus",
            this.inputFocusHandler,
          ),
          this.adapter.registerInputInteractionHandler(
            "blur",
            this.inputBlurHandler,
          ),
          this.adapter.registerInputInteractionHandler(
            "input",
            this.inputInputHandler,
          );
        try {
          for (var o = Br(Z1), s = o.next(); !s.done; s = o.next()) {
            var l = s.value;
            this.adapter.registerInputInteractionHandler(
              l,
              this.setPointerXOffset,
            );
          }
        }
        catch (u) {
          i = { error: u };
        }
        finally {
          try {
            s && !s.done && (r = o.return) && r.call(o);
          }
          finally {
            if (i) throw i.error;
          }
        }
        try {
          for (
            var d = Br(J1), c = d.next(); !c.done; c = d.next()
          ) {
            l = c.value,
              this.adapter.registerTextFieldInteractionHandler(
                l,
                this.textFieldInteractionHandler,
              );
          }
        }
        catch (u) {
          n = { error: u };
        }
        finally {
          try {
            c && !c.done && (a = d.return) && a.call(d);
          }
          finally {
            if (n) throw n.error;
          }
        }
        this.validationObserver = this.adapter
          .registerValidationAttributeChangeHandler(
            this.validationAttributeChangeHandler,
          ), this.setcharacterCounter(this.getValue().length);
      },
      e.prototype.destroy = function() {
        var i, r, n, a;
        this.adapter.deregisterInputInteractionHandler(
          "focus",
          this.inputFocusHandler,
        ),
          this.adapter.deregisterInputInteractionHandler(
            "blur",
            this.inputBlurHandler,
          ),
          this.adapter.deregisterInputInteractionHandler(
            "input",
            this.inputInputHandler,
          );
        try {
          for (var o = Br(Z1), s = o.next(); !s.done; s = o.next()) {
            var l = s.value;
            this.adapter.deregisterInputInteractionHandler(
              l,
              this.setPointerXOffset,
            );
          }
        }
        catch (u) {
          i = { error: u };
        }
        finally {
          try {
            s && !s.done && (r = o.return) && r.call(o);
          }
          finally {
            if (i) throw i.error;
          }
        }
        try {
          for (var d = Br(J1), c = d.next(); !c.done; c = d.next()) {
            l = c.value,
              this.adapter.deregisterTextFieldInteractionHandler(
                l,
                this.textFieldInteractionHandler,
              );
          }
        }
        catch (u) {
          n = { error: u };
        }
        finally {
          try {
            c && !c.done && (a = d.return) && a.call(d);
          }
          finally {
            if (n) throw n.error;
          }
        }
        this.adapter.deregisterValidationAttributeChangeHandler(
          this.validationObserver,
        );
      },
      e.prototype.handleTextFieldInteraction = function() {
        var i = this.adapter.getNativeInput();
        i && i.disabled || (this.receivedUserInput = !0);
      },
      e.prototype.handleValidationAttributeChange = function(i) {
        var r = this;
        i.some(function(n) {
          return X1.indexOf(n) > -1
            && (r.styleValidity(!0),
              r.adapter.setLabelRequired(r.getNativeInput().required),
              !0);
        }),
          i.indexOf("maxlength") > -1
          && this.setcharacterCounter(this.getValue().length);
      },
      e.prototype.notchOutline = function(i) {
        if (this.adapter.hasOutline() && this.adapter.hasLabel()) {
          if (i) {
            var r = this.adapter.getLabelWidth() * zp.LABEL_SCALE;
            this.adapter.notchOutline(r);
          }
          else this.adapter.closeOutline();
        }
      },
      e.prototype.activateFocus = function() {
        this.isFocused = !0,
          this.styleFocused(this.isFocused),
          this.adapter.activateLineRipple(),
          this.adapter.hasLabel()
          && (this.notchOutline(this.shouldFloat),
            this.adapter.floatLabel(this.shouldFloat),
            this.styleFloating(this.shouldFloat),
            this.adapter.shakeLabel(this.shouldShake)),
          !this.helperText
          || !this.helperText.isPersistent() && this.helperText.isValidation()
            && this.valid
          || this.helperText.showToScreenReader();
      },
      e.prototype.setTransformOrigin = function(i) {
        if (!this.isDisabled() && !this.adapter.hasOutline()) {
          var r = i.touches,
            n = r ? r[0] : i,
            a = n.target.getBoundingClientRect(),
            o = n.clientX - a.left;
          this.adapter.setLineRippleTransformOrigin(o);
        }
      },
      e.prototype.handleInput = function() {
        this.autoCompleteFocus(),
          this.setcharacterCounter(this.getValue().length);
      },
      e.prototype.autoCompleteFocus = function() {
        this.receivedUserInput || this.activateFocus();
      },
      e.prototype.deactivateFocus = function() {
        this.isFocused = !1, this.adapter.deactivateLineRipple();
        var i = this.isValid();
        this.styleValidity(i),
          this.styleFocused(this.isFocused),
          this.adapter.hasLabel()
          && (this.notchOutline(this.shouldFloat),
            this.adapter.floatLabel(this.shouldFloat),
            this.styleFloating(this.shouldFloat),
            this.adapter.shakeLabel(this.shouldShake)),
          this.shouldFloat || (this.receivedUserInput = !1);
      },
      e.prototype.getValue = function() {
        return this.getNativeInput().value;
      },
      e.prototype.setValue = function(i) {
        if (
          this.getValue() !== i && (this.getNativeInput().value = i),
            this.setcharacterCounter(i.length),
            this.validateOnValueChange
        ) {
          var r = this.isValid();
          this.styleValidity(r);
        }
        this.adapter.hasLabel()
          && (this.notchOutline(this.shouldFloat),
            this.adapter.floatLabel(this.shouldFloat),
            this.styleFloating(this.shouldFloat),
            this.validateOnValueChange
            && this.adapter.shakeLabel(this.shouldShake));
      },
      e.prototype.isValid = function() {
        return this.useNativeValidation ? this.isNativeInputValid()
        : this.valid;
      },
      e.prototype.setValid = function(i) {
        this.valid = i, this.styleValidity(i);
        var r = !i && !this.isFocused && !!this.getValue();
        this.adapter.hasLabel() && this.adapter.shakeLabel(r);
      },
      e.prototype.setValidateOnValueChange = function(i) {
        this.validateOnValueChange = i;
      },
      e.prototype.getValidateOnValueChange = function() {
        return this.validateOnValueChange;
      },
      e.prototype.setUseNativeValidation = function(i) {
        this.useNativeValidation = i;
      },
      e.prototype.isDisabled = function() {
        return this.getNativeInput().disabled;
      },
      e.prototype.setDisabled = function(i) {
        this.getNativeInput().disabled = i, this.styleDisabled(i);
      },
      e.prototype.setHelperTextContent = function(i) {
        this.helperText && this.helperText.setContent(i);
      },
      e.prototype.setLeadingIconAriaLabel = function(i) {
        this.leadingIcon && this.leadingIcon.setAriaLabel(i);
      },
      e.prototype.setLeadingIconContent = function(i) {
        this.leadingIcon && this.leadingIcon.setContent(i);
      },
      e.prototype.setTrailingIconAriaLabel = function(i) {
        this.trailingIcon && this.trailingIcon.setAriaLabel(i);
      },
      e.prototype.setTrailingIconContent = function(i) {
        this.trailingIcon && this.trailingIcon.setContent(i);
      },
      e.prototype.setcharacterCounter = function(i) {
        if (this.characterCounter) {
          var r = this.getNativeInput().maxLength;
          if (r === -1) {
            throw new Error(
              "MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.",
            );
          }
          this.characterCounter.setCounterValue(i, r);
        }
      },
      e.prototype.isBadInput = function() {
        return this.getNativeInput().validity.badInput || !1;
      },
      e.prototype.isNativeInputValid = function() {
        return this.getNativeInput().validity.valid;
      },
      e.prototype.styleValidity = function(i) {
        var r = e.cssClasses.INVALID;
        if (
          i ? this.adapter.removeClass(r) : this.adapter.addClass(r),
            this.helperText
        ) {
          if (this.helperText.setValidity(i), !this.helperText.isValidation()) {
            return;
          }
          var n = this.helperText.isVisible(), a = this.helperText.getId();
          n && a
            ? this.adapter.setInputAttr(lf.ARIA_DESCRIBEDBY, a)
            : this.adapter.removeInputAttr(lf.ARIA_DESCRIBEDBY);
        }
      },
      e.prototype.styleFocused = function(i) {
        var r = e.cssClasses.FOCUSED;
        i ? this.adapter.addClass(r) : this.adapter.removeClass(r);
      },
      e.prototype.styleDisabled = function(i) {
        var r = e.cssClasses, n = r.DISABLED, a = r.INVALID;
        i
          ? (this.adapter.addClass(n), this.adapter.removeClass(a))
          : this.adapter.removeClass(n),
          this.leadingIcon && this.leadingIcon.setDisabled(i),
          this.trailingIcon && this.trailingIcon.setDisabled(i);
      },
      e.prototype.styleFloating = function(i) {
        var r = e.cssClasses.LABEL_FLOATING;
        i ? this.adapter.addClass(r) : this.adapter.removeClass(r);
      },
      e.prototype.getNativeInput = function() {
        return (this.adapter ? this.adapter.getNativeInput() : null)
          || {
            disabled: !1,
            maxLength: -1,
            required: !1,
            type: "input",
            validity: { badInput: !1, valid: !0 },
            value: "",
          };
      },
      e;
  }(Er);
var sk = t => ({}),
  ey = t => ({}),
  lk = t => ({}),
  ty = t => ({}),
  dk = t => ({}),
  iy = t => ({}),
  ck = t => ({}),
  ry = t => ({}),
  uk = t => ({}),
  ny = t => ({}),
  fk = t => ({}),
  ay = t => ({}),
  mk = t => ({}),
  oy = t => ({}),
  hk = t => ({}),
  sy = t => ({}),
  pk = t => ({}),
  ly = t => ({}),
  gk = t => ({}),
  dy = t => ({}),
  vk = t => ({}),
  cy = t => ({}),
  _k = t => ({}),
  uy = t => ({});
function xk(t) {
  let e,
    i,
    r,
    n,
    a,
    o,
    s,
    l,
    d,
    c,
    u,
    f,
    h,
    x,
    S = t[56].label,
    p = Ut(S, t, t[87], ny);
  r = new Bo({
    props: {
      key: "SMUI:textfield:icon:leading",
      value: !0,
      $$slots: { default: [yk] },
      $$scope: { ctx: t },
    },
  });
  let y = t[56].default, E = Ut(y, t, t[87], null);
  o = new Bo({
    props: {
      key: "SMUI:textfield:icon:leading",
      value: !1,
      $$slots: { default: [wk] },
      $$scope: { ctx: t },
    },
  });
  let g = t[56].ripple,
    _ = Ut(g, t, t[87], ty),
    $ = [
      {
        class: l = Ot({
          [t[9]]: !0,
          "mdc-text-field": !0,
          "mdc-text-field--disabled": t[12],
          "mdc-text-field--textarea": t[14],
          "mdc-text-field--filled": t[15] === "filled",
          "mdc-text-field--outlined": t[15] === "outlined",
          "smui-text-field--standard": t[15] === "standard" && !t[14],
          "mdc-text-field--no-label": t[16] || !t[47].label,
          "mdc-text-field--with-leading-icon": t[47].leadingIcon,
          "mdc-text-field--with-trailing-icon": t[47].trailingIcon,
          "mdc-text-field--invalid": t[1],
          ...t[25],
        }),
      },
      { style: d = Object.entries(t[26]).map(wy).concat([t[10]]).join(" ") },
      Td(t[46], ["input$", "label$", "ripple$", "outline$", "helperLine$"]),
    ],
    z = {};
  for (let I = 0; I < $.length; I += 1) z = st(z, $[I]);
  return {
    c() {
      e = Nt("div"),
        p && p.c(),
        i = Ii(),
        Qt(r.$$.fragment),
        n = Ii(),
        E && E.c(),
        a = Ii(),
        Qt(o.$$.fragment),
        s = Ii(),
        _ && _.c(),
        pi(e, z);
    },
    m(I, D) {
      rt(I, e, D),
        p && p.m(e, null),
        Ni(e, i),
        Kt(r, e, null),
        Ni(e, n),
        E && E.m(e, null),
        Ni(e, a),
        Kt(o, e, null),
        Ni(e, s),
        _ && _.m(e, null),
        t[82](e),
        f = !0,
        h
        || (x = [
          zt(
            c = Gs.call(null, e, {
              ripple: t[11],
              unbounded: !1,
              addClass: t[43],
              removeClass: t[44],
              addStyle: t[45],
            }),
          ),
          zt(u = Gi.call(null, e, t[8])),
          zt(t[34].call(null, e)),
          _i(e, "SMUITextfieldLeadingIcon:mount", t[38]),
          _i(e, "SMUITextfieldLeadingIcon:unmount", t[83]),
          _i(e, "SMUITextfieldTrailingIcon:mount", t[39]),
          _i(e, "SMUITextfieldTrailingIcon:unmount", t[84]),
        ],
          h = !0);
    },
    p(I, D) {
      p && p.p && (!f || 33554432 & D[2])
        && Ht(p, S, I, I[87], f ? Gt(S, I[87], D, uk) : jt(I[87]), ny);
      let V = {};
      33554432 & D[2] && (V.$$scope = { dirty: D, ctx: I }),
        r.$set(V),
        E && E.p && (!f || 33554432 & D[2])
        && Ht(E, y, I, I[87], f ? Gt(y, I[87], D, null) : jt(I[87]), null);
      let ue = {};
      33554432 & D[2] && (ue.$$scope = { dirty: D, ctx: I }),
        o.$set(ue),
        _ && _.p && (!f || 33554432 & D[2])
        && Ht(_, g, I, I[87], f ? Gt(g, I[87], D, lk) : jt(I[87]), ty),
        pi(
          e,
          z = Vt($, [
            (!f
              || 33673730 & D[0] | 65536 & D[1]
                && l
                  !== (l = Ot({
                    [I[9]]: !0,
                    "mdc-text-field": !0,
                    "mdc-text-field--disabled": I[12],
                    "mdc-text-field--textarea": I[14],
                    "mdc-text-field--filled": I[15] === "filled",
                    "mdc-text-field--outlined": I[15] === "outlined",
                    "smui-text-field--standard": I[15] === "standard" && !I[14],
                    "mdc-text-field--no-label": I[16] || !I[47].label,
                    "mdc-text-field--with-leading-icon": I[47].leadingIcon,
                    "mdc-text-field--with-trailing-icon": I[47].trailingIcon,
                    "mdc-text-field--invalid": I[1],
                    ...I[25],
                  }))) && { class: l },
            (!f
              || 67109888 & D[0]
                && d
                  !== (d = Object.entries(I[26]).map(wy).concat([I[10]]).join(
                    " ",
                  ))) && { style: d },
            32768 & D[1]
            && Td(I[46], [
              "input$",
              "label$",
              "ripple$",
              "outline$",
              "helperLine$",
            ]),
          ]),
        ),
        c && oi(c.update) && 2048 & D[0]
        && c.update.call(null, {
          ripple: I[11],
          unbounded: !1,
          addClass: I[43],
          removeClass: I[44],
          addStyle: I[45],
        }),
        u && oi(u.update) && 256 & D[0] && u.update.call(null, I[8]);
    },
    i(I) {
      f
        || (Te(p, I),
          Te(r.$$.fragment, I),
          Te(E, I),
          Te(o.$$.fragment, I),
          Te(_, I),
          f = !0);
    },
    o(I) {
      Re(p, I),
        Re(r.$$.fragment, I),
        Re(E, I),
        Re(o.$$.fragment, I),
        Re(_, I),
        f = !1;
    },
    d(I) {
      I && it(e),
        p && p.d(I),
        Zt(r),
        E && E.d(I),
        Zt(o),
        _ && _.d(I),
        t[82](null),
        h = !1,
        hi(x);
    },
  };
}
function bk(t) {
  let e,
    i,
    r,
    n,
    a,
    o,
    s,
    l,
    d,
    c,
    u,
    f,
    h,
    x,
    S,
    p,
    y,
    E,
    g = !t[14] && t[15] !== "outlined" && fy(t),
    _ = (t[14] || t[15] === "outlined") && py(t);
  n = new Bo({
    props: {
      key: "SMUI:textfield:icon:leading",
      value: !0,
      $$slots: { default: [Ak] },
      $$scope: { ctx: t },
    },
  });
  let $ = t[56].default, z = Ut($, t, t[87], null), I = [Ck, Ik], D = [];
  function V(R, A) {
    return R[14] && typeof R[0] == "string" ? 0 : 1;
  }
  s = V(t),
    l = D[s] = I[s](t),
    c = new Bo({
      props: {
        key: "SMUI:textfield:icon:leading",
        value: !1,
        $$slots: { default: [Ok] },
        $$scope: { ctx: t },
      },
    });
  let ue = !t[14] && t[15] !== "outlined" && t[11] && xy(t),
    ne = [
      {
        class: f = Ot({
          [t[9]]: !0,
          "mdc-text-field": !0,
          "mdc-text-field--disabled": t[12],
          "mdc-text-field--textarea": t[14],
          "mdc-text-field--filled": t[15] === "filled",
          "mdc-text-field--outlined": t[15] === "outlined",
          "smui-text-field--standard": t[15] === "standard" && !t[14],
          "mdc-text-field--no-label": t[16] || t[17] == null && !t[47].label,
          "mdc-text-field--label-floating": t[28]
            || t[0] != null && t[0] !== "",
          "mdc-text-field--with-leading-icon": t[35](t[22])
            ? t[47].leadingIcon
            : t[22],
          "mdc-text-field--with-trailing-icon": t[35](t[23])
            ? t[47].trailingIcon
            : t[23],
          "mdc-text-field--with-internal-counter": t[14]
            && t[47].internalCounter,
          "mdc-text-field--invalid": t[1],
          ...t[25],
        }),
      },
      { style: h = Object.entries(t[26]).map(yy).concat([t[10]]).join(" ") },
      { for: void 0 },
      Td(t[46], ["input$", "label$", "ripple$", "outline$", "helperLine$"]),
    ],
    ee = {};
  for (let R = 0; R < ne.length; R += 1) ee = st(ee, ne[R]);
  return {
    c() {
      e = Nt("label"),
        g && g.c(),
        i = Ii(),
        _ && _.c(),
        r = Ii(),
        Qt(n.$$.fragment),
        a = Ii(),
        z && z.c(),
        o = Ii(),
        l.c(),
        d = Ii(),
        Qt(c.$$.fragment),
        u = Ii(),
        ue && ue.c(),
        pi(e, ee);
    },
    m(R, A) {
      rt(R, e, A),
        g && g.m(e, null),
        Ni(e, i),
        _ && _.m(e, null),
        Ni(e, r),
        Kt(n, e, null),
        Ni(e, a),
        z && z.m(e, null),
        Ni(e, o),
        D[s].m(e, null),
        Ni(e, d),
        Kt(c, e, null),
        Ni(e, u),
        ue && ue.m(e, null),
        t[78](e),
        p = !0,
        y
        || (E = [
          zt(
            x = Gs.call(null, e, {
              ripple: !t[14] && t[15] === "filled",
              unbounded: !1,
              addClass: t[43],
              removeClass: t[44],
              addStyle: t[45],
              eventTarget: t[33],
              activeTarget: t[33],
              initPromise: t[37],
            }),
          ),
          zt(S = Gi.call(null, e, t[8])),
          zt(t[34].call(null, e)),
          _i(e, "SMUITextfieldLeadingIcon:mount", t[38]),
          _i(e, "SMUITextfieldLeadingIcon:unmount", t[79]),
          _i(e, "SMUITextfieldTrailingIcon:mount", t[39]),
          _i(e, "SMUITextfieldTrailingIcon:unmount", t[80]),
          _i(e, "SMUITextfieldCharacterCounter:mount", t[40]),
          _i(e, "SMUITextfieldCharacterCounter:unmount", t[81]),
        ],
          y = !0);
    },
    p(R, A) {
      R[14] || R[15] === "outlined"
        ? g && (Ci(),
          Re(g, 1, 1, () => {
            g = null;
          }),
          ki())
        : g
        ? (g.p(R, A), 49152 & A[0] && Te(g, 1))
        : (g = fy(R), g.c(), Te(g, 1), g.m(e, i)),
        R[14] || R[15] === "outlined"
          ? _ ? (_.p(R, A), 49152 & A[0] && Te(_, 1))
          : (_ = py(R), _.c(), Te(_, 1), _.m(e, r))
          : _ && (Ci(),
            Re(_, 1, 1, () => {
              _ = null;
            }),
            ki());
      let X = {};
      33554432 & A[2] && (X.$$scope = { dirty: A, ctx: R }),
        n.$set(X),
        z && z.p && (!p || 33554432 & A[2])
        && Ht(z, $, R, R[87], p ? Gt($, R[87], A, null) : jt(R[87]), null);
      let G = s;
      s = V(R),
        s === G ? D[s].p(R, A) : (Ci(),
          Re(D[G], 1, 1, () => {
            D[G] = null;
          }),
          ki(),
          l = D[s],
          l ? l.p(R, A) : (l = D[s] = I[s](R), l.c()),
          Te(l, 1),
          l.m(e, d));
      let te = {};
      33554432 & A[2] && (te.$$scope = { dirty: A, ctx: R }),
        c.$set(te),
        !R[14] && R[15] !== "outlined" && R[11]
          ? ue
            ? (ue.p(R, A), 51200 & A[0] && Te(ue, 1))
            : (ue = xy(R), ue.c(), Te(ue, 1), ue.m(e, null))
          : ue && (Ci(),
            Re(ue, 1, 1, () => {
              ue = null;
            }),
            ki()),
        pi(
          e,
          ee = Vt(ne, [
            (!p
              || 314823171 & A[0] | 65536 & A[1]
                && f
                  !== (f = Ot({
                    [R[9]]: !0,
                    "mdc-text-field": !0,
                    "mdc-text-field--disabled": R[12],
                    "mdc-text-field--textarea": R[14],
                    "mdc-text-field--filled": R[15] === "filled",
                    "mdc-text-field--outlined": R[15] === "outlined",
                    "smui-text-field--standard": R[15] === "standard" && !R[14],
                    "mdc-text-field--no-label": R[16]
                      || R[17] == null && !R[47].label,
                    "mdc-text-field--label-floating": R[28]
                      || R[0] != null && R[0] !== "",
                    "mdc-text-field--with-leading-icon": R[35](R[22])
                      ? R[47].leadingIcon
                      : R[22],
                    "mdc-text-field--with-trailing-icon": R[35](R[23])
                      ? R[47].trailingIcon
                      : R[23],
                    "mdc-text-field--with-internal-counter": R[14]
                      && R[47].internalCounter,
                    "mdc-text-field--invalid": R[1],
                    ...R[25],
                  }))) && { class: f },
            (!p
              || 67109888 & A[0]
                && h
                  !== (h = Object.entries(R[26]).map(yy).concat([R[10]]).join(
                    " ",
                  ))) && { style: h },
            { for: void 0 },
            32768 & A[1]
            && Td(R[46], [
              "input$",
              "label$",
              "ripple$",
              "outline$",
              "helperLine$",
            ]),
          ]),
        ),
        x && oi(x.update) && 49152 & A[0] | 4 & A[1]
        && x.update.call(null, {
          ripple: !R[14] && R[15] === "filled",
          unbounded: !1,
          addClass: R[43],
          removeClass: R[44],
          addStyle: R[45],
          eventTarget: R[33],
          activeTarget: R[33],
          initPromise: R[37],
        }),
        S && oi(S.update) && 256 & A[0] && S.update.call(null, R[8]);
    },
    i(R) {
      p
        || (Te(g),
          Te(_),
          Te(n.$$.fragment, R),
          Te(z, R),
          Te(l),
          Te(c.$$.fragment, R),
          Te(ue),
          p = !0);
    },
    o(R) {
      Re(g),
        Re(_),
        Re(n.$$.fragment, R),
        Re(z, R),
        Re(l),
        Re(c.$$.fragment, R),
        Re(ue),
        p = !1;
    },
    d(R) {
      R && it(e),
        g && g.d(),
        _ && _.d(),
        Zt(n),
        z && z.d(R),
        D[s].d(),
        Zt(c),
        ue && ue.d(),
        t[78](null),
        y = !1,
        hi(E);
    },
  };
}
function yk(t) {
  let e, i = t[56].leadingIcon, r = Ut(i, t, t[87], ry);
  return {
    c() {
      r && r.c();
    },
    m(n, a) {
      r && r.m(n, a), e = !0;
    },
    p(n, a) {
      r && r.p && (!e || 33554432 & a[2])
        && Ht(r, i, n, n[87], e ? Gt(i, n[87], a, ck) : jt(n[87]), ry);
    },
    i(n) {
      e || (Te(r, n), e = !0);
    },
    o(n) {
      Re(r, n), e = !1;
    },
    d(n) {
      r && r.d(n);
    },
  };
}
function wk(t) {
  let e, i = t[56].trailingIcon, r = Ut(i, t, t[87], iy);
  return {
    c() {
      r && r.c();
    },
    m(n, a) {
      r && r.m(n, a), e = !0;
    },
    p(n, a) {
      r && r.p && (!e || 33554432 & a[2])
        && Ht(r, i, n, n[87], e ? Gt(i, n[87], a, dk) : jt(n[87]), iy);
    },
    i(n) {
      e || (Te(r, n), e = !0);
    },
    o(n) {
      Re(r, n), e = !1;
    },
    d(n) {
      r && r.d(n);
    },
  };
}
function fy(t) {
  let e,
    i,
    r,
    n = t[15] === "filled" && my(),
    a = !t[16] && (t[17] != null || t[47].label) && hy(t);
  return {
    c() {
      n && n.c(), e = Ii(), a && a.c(), i = Vi();
    },
    m(o, s) {
      n && n.m(o, s), rt(o, e, s), a && a.m(o, s), rt(o, i, s), r = !0;
    },
    p(o, s) {
      o[15] === "filled"
        ? n || (n = my(), n.c(), n.m(e.parentNode, e))
        : n && (n.d(1), n = null),
        o[16] || o[17] == null && !o[47].label
          ? a && (Ci(),
            Re(a, 1, 1, () => {
              a = null;
            }),
            ki())
          : a
          ? (a.p(o, s), 196608 & s[0] | 65536 & s[1] && Te(a, 1))
          : (a = hy(o), a.c(), Te(a, 1), a.m(i.parentNode, i));
    },
    i(o) {
      r || (Te(a), r = !0);
    },
    o(o) {
      Re(a), r = !1;
    },
    d(o) {
      n && n.d(o), o && it(e), a && a.d(o), o && it(i);
    },
  };
}
function my(t) {
  let e;
  return {
    c() {
      e = Nt("span"), ci(e, "class", "mdc-text-field__ripple");
    },
    m(i, r) {
      rt(i, e, r);
    },
    d(i) {
      i && it(e);
    },
  };
}
function hy(t) {
  let e,
    i,
    r = [
      {
        floatAbove: t[28]
          || t[0] != null && t[0] !== ""
            && (typeof t[0] != "number" || !isNaN(t[0])),
      },
      { required: t[13] },
      { wrapped: !0 },
      Hr(t[46], "label$"),
    ],
    n = { $$slots: { default: [Sk] }, $$scope: { ctx: t } };
  for (let a = 0; a < r.length; a += 1) n = st(n, r[a]);
  return e = new Ad({ props: n }), t[57](e), {
    c() {
      Qt(e.$$.fragment);
    },
    m(a, o) {
      Kt(e, a, o), i = !0;
    },
    p(a, o) {
      let s = 268443649 & o[0] | 32768 & o[1]
        ? Vt(r, [
          268435457 & o[0]
          && {
            floatAbove: a[28]
              || a[0] != null && a[0] !== ""
                && (typeof a[0] != "number" || !isNaN(a[0])),
          },
          8192 & o[0] && { required: a[13] },
          r[2],
          32768 & o[1] && Ui(Hr(a[46], "label$")),
        ])
        : {};
      131072 & o[0] | 33554432 & o[2] && (s.$$scope = { dirty: o, ctx: a }),
        e.$set(s);
    },
    i(a) {
      i || (Te(e.$$.fragment, a), i = !0);
    },
    o(a) {
      Re(e.$$.fragment, a), i = !1;
    },
    d(a) {
      t[57](null), Zt(e, a);
    },
  };
}
function Sk(t) {
  let e,
    i,
    r = (t[17] == null ? "" : t[17]) + "",
    n = t[56].label,
    a = Ut(n, t, t[87], uy);
  return {
    c() {
      e = nn(r), a && a.c();
    },
    m(o, s) {
      rt(o, e, s), a && a.m(o, s), i = !0;
    },
    p(o, s) {
      (!i || 131072 & s[0]) && r !== (r = (o[17] == null ? "" : o[17]) + "")
      && Wn(e, r),
        a && a.p && (!i || 33554432 & s[2])
        && Ht(a, n, o, o[87], i ? Gt(n, o[87], s, _k) : jt(o[87]), uy);
    },
    i(o) {
      i || (Te(a, o), i = !0);
    },
    o(o) {
      Re(a, o), i = !1;
    },
    d(o) {
      o && it(e), a && a.d(o);
    },
  };
}
function py(t) {
  let e,
    i,
    r = [
      { noLabel: t[16] || t[17] == null && !t[47].label },
      Hr(t[46], "outline$"),
    ],
    n = { $$slots: { default: [Tk] }, $$scope: { ctx: t } };
  for (let a = 0; a < r.length; a += 1) n = st(n, r[a]);
  return e = new af({ props: n }), t[59](e), {
    c() {
      Qt(e.$$.fragment);
    },
    m(a, o) {
      Kt(e, a, o), i = !0;
    },
    p(a, o) {
      let s = 196608 & o[0] | 98304 & o[1]
        ? Vt(r, [
          196608 & o[0] | 65536 & o[1]
          && { noLabel: a[16] || a[17] == null && !a[47].label },
          32768 & o[1] && Ui(Hr(a[46], "outline$")),
        ])
        : {};
      268640289 & o[0] | 98304 & o[1] | 33554432 & o[2]
      && (s.$$scope = { dirty: o, ctx: a }), e.$set(s);
    },
    i(a) {
      i || (Te(e.$$.fragment, a), i = !0);
    },
    o(a) {
      Re(e.$$.fragment, a), i = !1;
    },
    d(a) {
      t[59](null), Zt(e, a);
    },
  };
}
function gy(t) {
  let e,
    i,
    r = [
      {
        floatAbove: t[28]
          || t[0] != null && t[0] !== ""
            && (typeof t[0] != "number" || !isNaN(t[0])),
      },
      { required: t[13] },
      { wrapped: !0 },
      Hr(t[46], "label$"),
    ],
    n = { $$slots: { default: [Ek] }, $$scope: { ctx: t } };
  for (let a = 0; a < r.length; a += 1) n = st(n, r[a]);
  return e = new Ad({ props: n }), t[58](e), {
    c() {
      Qt(e.$$.fragment);
    },
    m(a, o) {
      Kt(e, a, o), i = !0;
    },
    p(a, o) {
      let s = 268443649 & o[0] | 32768 & o[1]
        ? Vt(r, [
          268435457 & o[0]
          && {
            floatAbove: a[28]
              || a[0] != null && a[0] !== ""
                && (typeof a[0] != "number" || !isNaN(a[0])),
          },
          8192 & o[0] && { required: a[13] },
          r[2],
          32768 & o[1] && Ui(Hr(a[46], "label$")),
        ])
        : {};
      131072 & o[0] | 33554432 & o[2] && (s.$$scope = { dirty: o, ctx: a }),
        e.$set(s);
    },
    i(a) {
      i || (Te(e.$$.fragment, a), i = !0);
    },
    o(a) {
      Re(e.$$.fragment, a), i = !1;
    },
    d(a) {
      t[58](null), Zt(e, a);
    },
  };
}
function Ek(t) {
  let e,
    i,
    r = (t[17] == null ? "" : t[17]) + "",
    n = t[56].label,
    a = Ut(n, t, t[87], cy);
  return {
    c() {
      e = nn(r), a && a.c();
    },
    m(o, s) {
      rt(o, e, s), a && a.m(o, s), i = !0;
    },
    p(o, s) {
      (!i || 131072 & s[0]) && r !== (r = (o[17] == null ? "" : o[17]) + "")
      && Wn(e, r),
        a && a.p && (!i || 33554432 & s[2])
        && Ht(a, n, o, o[87], i ? Gt(n, o[87], s, vk) : jt(o[87]), cy);
    },
    i(o) {
      i || (Te(a, o), i = !0);
    },
    o(o) {
      Re(a, o), i = !1;
    },
    d(o) {
      o && it(e), a && a.d(o);
    },
  };
}
function Tk(t) {
  let e, i, r = !t[16] && (t[17] != null || t[47].label) && gy(t);
  return {
    c() {
      r && r.c(), e = Vi();
    },
    m(n, a) {
      r && r.m(n, a), rt(n, e, a), i = !0;
    },
    p(n, a) {
      n[16] || n[17] == null && !n[47].label
        ? r && (Ci(),
          Re(r, 1, 1, () => {
            r = null;
          }),
          ki())
        : r
        ? (r.p(n, a), 196608 & a[0] | 65536 & a[1] && Te(r, 1))
        : (r = gy(n), r.c(), Te(r, 1), r.m(e.parentNode, e));
    },
    i(n) {
      i || (Te(r), i = !0);
    },
    o(n) {
      Re(r), i = !1;
    },
    d(n) {
      r && r.d(n), n && it(e);
    },
  };
}
function Ak(t) {
  let e, i = t[56].leadingIcon, r = Ut(i, t, t[87], dy);
  return {
    c() {
      r && r.c();
    },
    m(n, a) {
      r && r.m(n, a), e = !0;
    },
    p(n, a) {
      r && r.p && (!e || 33554432 & a[2])
        && Ht(r, i, n, n[87], e ? Gt(i, n[87], a, gk) : jt(n[87]), dy);
    },
    i(n) {
      e || (Te(r, n), e = !0);
    },
    o(n) {
      Re(r, n), e = !1;
    },
    d(n) {
      r && r.d(n);
    },
  };
}
function Ik(t) {
  let e,
    i,
    r,
    n,
    a,
    o,
    s,
    l,
    d,
    c,
    u = t[56].prefix,
    f = Ut(u, t, t[87], sy),
    h = t[20] != null && vy(t),
    x = [
      { type: t[18] },
      { disabled: t[12] },
      { required: t[13] },
      { updateInvalid: t[19] },
      { "aria-controls": t[27] },
      { "aria-describedby": t[27] },
      t[16] && t[17] != null ? { placeholder: t[17] } : {},
      Hr(t[46], "input$"),
    ];
  function S(I) {
    t[69](I);
  }
  function p(I) {
    t[70](I);
  }
  function y(I) {
    t[71](I);
  }
  function E(I) {
    t[72](I);
  }
  let g = {};
  for (let I = 0; I < x.length; I += 1) g = st(g, x[I]);
  t[0] !== void 0 && (g.value = t[0]),
    t[3] !== void 0 && (g.files = t[3]),
    t[4] !== void 0 && (g.dirty = t[4]),
    t[1] !== void 0 && (g.invalid = t[1]),
    r = new of({ props: g }),
    t[68](r),
    bt.push(() => Zr(r, "value", S)),
    bt.push(() => Zr(r, "files", p)),
    bt.push(() => Zr(r, "dirty", y)),
    bt.push(() => Zr(r, "invalid", E)),
    r.$on("blur", t[73]),
    r.$on("focus", t[74]),
    r.$on("blur", t[75]),
    r.$on("focus", t[76]);
  let _ = t[21] != null && _y(t), $ = t[56].suffix, z = Ut($, t, t[87], oy);
  return {
    c() {
      f && f.c(),
        e = Ii(),
        h && h.c(),
        i = Ii(),
        Qt(r.$$.fragment),
        l = Ii(),
        _ && _.c(),
        d = Ii(),
        z && z.c();
    },
    m(I, D) {
      f && f.m(I, D),
        rt(I, e, D),
        h && h.m(I, D),
        rt(I, i, D),
        Kt(r, I, D),
        rt(I, l, D),
        _ && _.m(I, D),
        rt(I, d, D),
        z && z.m(I, D),
        c = !0;
    },
    p(I, D) {
      f && f.p && (!c || 33554432 & D[2])
      && Ht(f, u, I, I[87], c ? Gt(u, I[87], D, hk) : jt(I[87]), sy),
        I[20] != null
          ? h
            ? (h.p(I, D), 1048576 & D[0] && Te(h, 1))
            : (h = vy(I), h.c(), Te(h, 1), h.m(i.parentNode, i))
          : h && (Ci(),
            Re(h, 1, 1, () => {
              h = null;
            }),
            ki());
      let V = 135213056 & D[0] | 32768 & D[1]
        ? Vt(x, [
          262144 & D[0] && { type: I[18] },
          4096 & D[0] && { disabled: I[12] },
          8192 & D[0] && { required: I[13] },
          524288 & D[0] && { updateInvalid: I[19] },
          134217728 & D[0] && { "aria-controls": I[27] },
          134217728 & D[0] && { "aria-describedby": I[27] },
          196608 & D[0]
          && Ui(I[16] && I[17] != null ? { placeholder: I[17] } : {}),
          32768 & D[1] && Ui(Hr(I[46], "input$")),
        ])
        : {};
      !n && 1 & D[0] && (n = !0, V.value = I[0], Kr(() => n = !1)),
        !a && 8 & D[0] && (a = !0, V.files = I[3], Kr(() => a = !1)),
        !o && 16 & D[0] && (o = !0, V.dirty = I[4], Kr(() => o = !1)),
        !s && 2 & D[0] && (s = !0, V.invalid = I[1], Kr(() => s = !1)),
        r.$set(V),
        I[21] != null
          ? _ ? (_.p(I, D), 2097152 & D[0] && Te(_, 1))
          : (_ = _y(I), _.c(), Te(_, 1), _.m(d.parentNode, d))
          : _ && (Ci(),
            Re(_, 1, 1, () => {
              _ = null;
            }),
            ki()),
        z && z.p && (!c || 33554432 & D[2]) && Ht(
          z,
          $,
          I,
          I[87],
          c ? Gt($, I[87], D, mk) : jt(I[87]),
          oy,
        );
    },
    i(I) {
      c || (Te(f, I), Te(h), Te(r.$$.fragment, I), Te(_), Te(z, I), c = !0);
    },
    o(I) {
      Re(f, I), Re(h), Re(r.$$.fragment, I), Re(_), Re(z, I), c = !1;
    },
    d(I) {
      f && f.d(I),
        I && it(e),
        h && h.d(I),
        I && it(i),
        t[68](null),
        Zt(r, I),
        I && it(l),
        _ && _.d(I),
        I && it(d),
        z && z.d(I);
    },
  };
}
function Ck(t) {
  let e,
    i,
    r,
    n,
    a,
    o,
    s,
    l,
    d = [
      { disabled: t[12] },
      { required: t[13] },
      { updateInvalid: t[19] },
      { "aria-controls": t[27] },
      { "aria-describedby": t[27] },
      Hr(t[46], "input$"),
    ];
  function c(p) {
    t[61](p);
  }
  function u(p) {
    t[62](p);
  }
  function f(p) {
    t[63](p);
  }
  let h = {};
  for (let p = 0; p < d.length; p += 1) h = st(h, d[p]);
  t[0] !== void 0 && (h.value = t[0]),
    t[4] !== void 0 && (h.dirty = t[4]),
    t[1] !== void 0 && (h.invalid = t[1]),
    i = new sf({ props: h }),
    t[60](i),
    bt.push(() => Zr(i, "value", c)),
    bt.push(() => Zr(i, "dirty", u)),
    bt.push(() => Zr(i, "invalid", f)),
    i.$on("blur", t[64]),
    i.$on("focus", t[65]),
    i.$on("blur", t[66]),
    i.$on("focus", t[67]);
  let x = t[56].internalCounter, S = Ut(x, t, t[87], ly);
  return {
    c() {
      e = Nt("span"),
        Qt(i.$$.fragment),
        o = Ii(),
        S && S.c(),
        ci(
          e,
          "class",
          s = Ot({
            "mdc-text-field__resizer": !("input$resizable" in t[46])
              || t[46].input$resizable,
          }),
        );
    },
    m(p, y) {
      rt(p, e, y), Kt(i, e, null), Ni(e, o), S && S.m(e, null), l = !0;
    },
    p(p, y) {
      let E = 134754304 & y[0] | 32768 & y[1]
        ? Vt(d, [
          4096 & y[0] && { disabled: p[12] },
          8192 & y[0] && { required: p[13] },
          524288 & y[0] && { updateInvalid: p[19] },
          134217728 & y[0] && { "aria-controls": p[27] },
          134217728 & y[0] && { "aria-describedby": p[27] },
          32768 & y[1] && Ui(Hr(p[46], "input$")),
        ])
        : {};
      !r && 1 & y[0] && (r = !0, E.value = p[0], Kr(() => r = !1)),
        !n && 16 & y[0] && (n = !0, E.dirty = p[4], Kr(() => n = !1)),
        !a && 2 & y[0] && (a = !0, E.invalid = p[1], Kr(() => a = !1)),
        i.$set(E),
        S && S.p && (!l || 33554432 & y[2])
        && Ht(S, x, p, p[87], l ? Gt(x, p[87], y, pk) : jt(p[87]), ly),
        (!l
          || 32768 & y[1]
            && s
              !== (s = Ot({
                "mdc-text-field__resizer": !("input$resizable" in p[46])
                  || p[46].input$resizable,
              }))) && ci(e, "class", s);
    },
    i(p) {
      l || (Te(i.$$.fragment, p), Te(S, p), l = !0);
    },
    o(p) {
      Re(i.$$.fragment, p), Re(S, p), l = !1;
    },
    d(p) {
      p && it(e), t[60](null), Zt(i), S && S.d(p);
    },
  };
}
function vy(t) {
  let e, i;
  return e = new q1({
    props: { $$slots: { default: [kk] }, $$scope: { ctx: t } },
  }),
    {
      c() {
        Qt(e.$$.fragment);
      },
      m(r, n) {
        Kt(e, r, n), i = !0;
      },
      p(r, n) {
        let a = {};
        1048576 & n[0] | 33554432 & n[2] && (a.$$scope = { dirty: n, ctx: r }),
          e.$set(a);
      },
      i(r) {
        i || (Te(e.$$.fragment, r), i = !0);
      },
      o(r) {
        Re(e.$$.fragment, r), i = !1;
      },
      d(r) {
        Zt(e, r);
      },
    };
}
function kk(t) {
  let e;
  return {
    c() {
      e = nn(t[20]);
    },
    m(i, r) {
      rt(i, e, r);
    },
    p(i, r) {
      1048576 & r[0] && Wn(e, i[20]);
    },
    d(i) {
      i && it(e);
    },
  };
}
function _y(t) {
  let e, i;
  return e = new W1({
    props: { $$slots: { default: [Lk] }, $$scope: { ctx: t } },
  }),
    {
      c() {
        Qt(e.$$.fragment);
      },
      m(r, n) {
        Kt(e, r, n), i = !0;
      },
      p(r, n) {
        let a = {};
        2097152 & n[0] | 33554432 & n[2] && (a.$$scope = { dirty: n, ctx: r }),
          e.$set(a);
      },
      i(r) {
        i || (Te(e.$$.fragment, r), i = !0);
      },
      o(r) {
        Re(e.$$.fragment, r), i = !1;
      },
      d(r) {
        Zt(e, r);
      },
    };
}
function Lk(t) {
  let e;
  return {
    c() {
      e = nn(t[21]);
    },
    m(i, r) {
      rt(i, e, r);
    },
    p(i, r) {
      2097152 & r[0] && Wn(e, i[21]);
    },
    d(i) {
      i && it(e);
    },
  };
}
function Ok(t) {
  let e, i = t[56].trailingIcon, r = Ut(i, t, t[87], ay);
  return {
    c() {
      r && r.c();
    },
    m(n, a) {
      r && r.m(n, a), e = !0;
    },
    p(n, a) {
      r && r.p && (!e || 33554432 & a[2])
        && Ht(r, i, n, n[87], e ? Gt(i, n[87], a, fk) : jt(n[87]), ay);
    },
    i(n) {
      e || (Te(r, n), e = !0);
    },
    o(n) {
      Re(r, n), e = !1;
    },
    d(n) {
      r && r.d(n);
    },
  };
}
function xy(t) {
  let e, i, r = [Hr(t[46], "ripple$")], n = {};
  for (let a = 0; a < r.length; a += 1) n = st(n, r[a]);
  return e = new nf({ props: n }), t[77](e), {
    c() {
      Qt(e.$$.fragment);
    },
    m(a, o) {
      Kt(e, a, o), i = !0;
    },
    p(a, o) {
      let s = 32768 & o[1] ? Vt(r, [Ui(Hr(a[46], "ripple$"))]) : {};
      e.$set(s);
    },
    i(a) {
      i || (Te(e.$$.fragment, a), i = !0);
    },
    o(a) {
      Re(e.$$.fragment, a), i = !1;
    },
    d(a) {
      t[77](null), Zt(e, a);
    },
  };
}
function by(t) {
  let e,
    i,
    r = [Hr(t[46], "helperLine$")],
    n = { $$slots: { default: [Rk] }, $$scope: { ctx: t } };
  for (let a = 0; a < r.length; a += 1) n = st(n, r[a]);
  return e = new V1({ props: n }),
    e.$on("SMUITextfieldHelperText:id", t[41]),
    e.$on("SMUITextfieldHelperText:mount", t[42]),
    e.$on("SMUITextfieldHelperText:unmount", t[85]),
    e.$on("SMUITextfieldCharacterCounter:mount", t[40]),
    e.$on("SMUITextfieldCharacterCounter:unmount", t[86]),
    {
      c() {
        Qt(e.$$.fragment);
      },
      m(a, o) {
        Kt(e, a, o), i = !0;
      },
      p(a, o) {
        let s = 32768 & o[1] ? Vt(r, [Ui(Hr(a[46], "helperLine$"))]) : {};
        33554432 & o[2] && (s.$$scope = { dirty: o, ctx: a }), e.$set(s);
      },
      i(a) {
        i || (Te(e.$$.fragment, a), i = !0);
      },
      o(a) {
        Re(e.$$.fragment, a), i = !1;
      },
      d(a) {
        Zt(e, a);
      },
    };
}
function Rk(t) {
  let e, i = t[56].helper, r = Ut(i, t, t[87], ey);
  return {
    c() {
      r && r.c();
    },
    m(n, a) {
      r && r.m(n, a), e = !0;
    },
    p(n, a) {
      r && r.p && (!e || 33554432 & a[2])
        && Ht(r, i, n, n[87], e ? Gt(i, n[87], a, sk) : jt(n[87]), ey);
    },
    i(n) {
      e || (Te(r, n), e = !0);
    },
    o(n) {
      Re(r, n), e = !1;
    },
    d(n) {
      r && r.d(n);
    },
  };
}
function Fk(t) {
  let e, i, r, n, a, o = [bk, xk], s = [];
  e = function(d, c) {
    return d[36] ? 0 : 1;
  }(t), i = s[e] = o[e](t);
  let l = t[47].helper && by(t);
  return {
    c() {
      i.c(), r = Ii(), l && l.c(), n = Vi();
    },
    m(d, c) {
      s[e].m(d, c), rt(d, r, c), l && l.m(d, c), rt(d, n, c), a = !0;
    },
    p(d, c) {
      i.p(d, c),
        d[47].helper
          ? l ? (l.p(d, c), 65536 & c[1] && Te(l, 1))
          : (l = by(d), l.c(), Te(l, 1), l.m(n.parentNode, n))
          : l && (Ci(),
            Re(l, 1, 1, () => {
              l = null;
            }),
            ki());
    },
    i(d) {
      a || (Te(i), Te(l), a = !0);
    },
    o(d) {
      Re(i), Re(l), a = !1;
    },
    d(d) {
      s[e].d(d), d && it(r), l && l.d(d), d && it(n);
    },
  };
}
var yy = ([t, e]) => `${t}: ${e};`, wy = ([t, e]) => `${t}: ${e};`;
function Dk(t, e, i) {
  let r,
    n = [
      "use",
      "class",
      "style",
      "ripple",
      "disabled",
      "required",
      "textarea",
      "variant",
      "noLabel",
      "label",
      "type",
      "value",
      "files",
      "invalid",
      "updateInvalid",
      "dirty",
      "prefix",
      "suffix",
      "validateOnValueChange",
      "useNativeValidation",
      "withLeadingIcon",
      "withTrailingIcon",
      "input",
      "floatingLabel",
      "lineRipple",
      "notchedOutline",
      "focus",
      "blur",
      "layout",
      "getElement",
    ],
    a = $t(e, n),
    { $$slots: o = {}, $$scope: s } = e,
    l = a1(o),
    { applyPassive: d } = Ed,
    c = Li(ui()),
    u = () => {};
  function f(K) {
    return K === u;
  }
  let { use: h = [] } = e,
    { class: x = "" } = e,
    { style: S = "" } = e,
    { ripple: p = !0 } = e,
    { disabled: y = !1 } = e,
    { required: E = !1 } = e,
    { textarea: g = !1 } = e,
    { variant: _ = g ? "outlined" : "standard" } = e,
    { noLabel: $ = !1 } = e,
    { label: z } = e,
    { type: I = "text" } = e,
    { value: D = a.input$emptyValueUndefined ? void 0 : u } = e,
    { files: V = u } = e,
    ue = !f(D) || !f(V);
  f(D) && (D = void 0), f(V) && (V = null);
  let { invalid: ne = u } = e, { updateInvalid: ee = f(ne) } = e;
  f(ne) && (ne = !1);
  let R,
    A,
    X,
    G,
    te,
    De,
    Se,
    Fe,
    Be,
    { dirty: We = !1 } = e,
    { prefix: me } = e,
    { suffix: gt } = e,
    { validateOnValueChange: St = ee } = e,
    { useNativeValidation: ft = ee } = e,
    { withLeadingIcon: xt = u } = e,
    { withTrailingIcon: _e = u } = e,
    { input: le } = e,
    { floatingLabel: Ke } = e,
    { lineRipple: dt } = e,
    { notchedOutline: Ee } = e,
    Tt = {},
    At = {},
    yi = !1,
    Wt = Ji("SMUI:addLayoutListener"),
    mt = new Promise(K => te = K),
    Rt = D;
  function xe(K) {
    var $i;
    return K in Tt
      ? ($i = Tt[K]) !== null && $i !== void 0 ? $i : null
      : jr().classList.contains(K);
  }
  function at(K) {
    Tt[K] || i(25, Tt[K] = !0, Tt);
  }
  function v(K) {
    K in Tt && !Tt[K] || i(25, Tt[K] = !1, Tt);
  }
  function vi() {
    if (A) {
      let K = A.shouldFloat;
      A.notchOutline(K);
    }
  }
  function jr() {
    return R;
  }
  return Wt && (G = Wt(vi)),
    Bi(() => {
      if (
        i(
          54,
          A = new Q1({
            addClass: at,
            removeClass: v,
            hasClass: xe,
            registerTextFieldInteractionHandler: (K, $i) =>
              jr().addEventListener(K, $i),
            deregisterTextFieldInteractionHandler: (K, $i) =>
              jr().removeEventListener(K, $i),
            registerValidationAttributeChangeHandler: K => {
              let $i = new MutationObserver(Ze => {
                  ft
                    && K(
                      (nt => nt.map(ge => ge.attributeName).filter(ge => ge))(
                        Ze,
                      ),
                    );
                }),
                on = { attributes: !0 };
              return le && $i.observe(le.getElement(), on), $i;
            },
            deregisterValidationAttributeChangeHandler: K => {
              K.disconnect();
            },
            getNativeInput: () => {
              var K;
              return (K = le?.getElement()) !== null && K !== void 0 ? K : null;
            },
            setInputAttr: (K, $i) => {
              le?.addAttr(K, $i);
            },
            removeInputAttr: K => {
              le?.removeAttr(K);
            },
            isFocused: () => document.activeElement === le?.getElement(),
            registerInputInteractionHandler: (K, $i) => {
              le?.getElement().addEventListener(K, $i, d());
            },
            deregisterInputInteractionHandler: (K, $i) => {
              le?.getElement().removeEventListener(K, $i, d());
            },
            floatLabel: K => Ke && Ke.float(K),
            getLabelWidth: () => Ke ? Ke.getWidth() : 0,
            hasLabel: () => !!Ke,
            shakeLabel: K => Ke && Ke.shake(K),
            setLabelRequired: K => Ke && Ke.setRequired(K),
            activateLineRipple: () => dt && dt.activate(),
            deactivateLineRipple: () => dt && dt.deactivate(),
            setLineRippleTransformOrigin: K => dt && dt.setRippleCenter(K),
            closeOutline: () => Ee && Ee.closeNotch(),
            hasOutline: () => !!Ee,
            notchOutline: K => Ee && Ee.notch(K),
          }, {
            get helperText() {
              return Fe;
            },
            get characterCounter() {
              return Be;
            },
            get leadingIcon() {
              return De;
            },
            get trailingIcon() {
              return Se;
            },
          }),
        ), ue
      ) {
        if (le == null) {
          throw new Error(
            "SMUI Textfield initialized without Input component.",
          );
        }
        A.init();
      }
      else {
        u1().then(() => {
          if (le == null) {
            throw new Error(
              "SMUI Textfield initialized without Input component.",
            );
          }
          A.init();
        });
      }
      return te(), () => {
        A.destroy();
      };
    }),
    Xr(() => {
      G && G();
    }),
    t.$$set = K => {
      e = st(st({}, e), Ai(K)),
        i(46, a = $t(e, n)),
        "use" in K && i(8, h = K.use),
        "class" in K && i(9, x = K.class),
        "style" in K && i(10, S = K.style),
        "ripple" in K && i(11, p = K.ripple),
        "disabled" in K && i(12, y = K.disabled),
        "required" in K && i(13, E = K.required),
        "textarea" in K && i(14, g = K.textarea),
        "variant" in K && i(15, _ = K.variant),
        "noLabel" in K && i(16, $ = K.noLabel),
        "label" in K && i(17, z = K.label),
        "type" in K && i(18, I = K.type),
        "value" in K && i(0, D = K.value),
        "files" in K && i(3, V = K.files),
        "invalid" in K && i(1, ne = K.invalid),
        "updateInvalid" in K && i(19, ee = K.updateInvalid),
        "dirty" in K && i(4, We = K.dirty),
        "prefix" in K && i(20, me = K.prefix),
        "suffix" in K && i(21, gt = K.suffix),
        "validateOnValueChange" in K && i(48, St = K.validateOnValueChange),
        "useNativeValidation" in K && i(49, ft = K.useNativeValidation),
        "withLeadingIcon" in K && i(22, xt = K.withLeadingIcon),
        "withTrailingIcon" in K && i(23, _e = K.withTrailingIcon),
        "input" in K && i(2, le = K.input),
        "floatingLabel" in K && i(5, Ke = K.floatingLabel),
        "lineRipple" in K && i(6, dt = K.lineRipple),
        "notchedOutline" in K && i(7, Ee = K.notchedOutline),
        "$$scope" in K && i(87, s = K.$$scope);
    },
    t.$$.update = () => {
      if (
        4 & t.$$.dirty[0] && i(33, r = le && le.getElement()),
          524290 & t.$$.dirty[0] | 8388608 & t.$$.dirty[1] && A
          && A.isValid() !== !ne && (ee
            ? i(1, ne = !A.isValid())
            : A.setValid(!ne)),
          8519680 & t.$$.dirty[1] && A && A.getValidateOnValueChange() !== St
          && A.setValidateOnValueChange(!f(St) && St),
          8650752 & t.$$.dirty[1] && A
          && A.setUseNativeValidation(!!f(ft) || ft),
          4096 & t.$$.dirty[0] | 8388608 & t.$$.dirty[1] && A
          && A.setDisabled(y),
          1 & t.$$.dirty[0] | 25165824 & t.$$.dirty[1] && A && ue && Rt !== D
      ) {
        i(55, Rt = D);
        let K = `${D}`;
        A.getValue() !== K && A.setValue(K);
      }
    },
    [
      D,
      ne,
      le,
      V,
      We,
      Ke,
      dt,
      Ee,
      h,
      x,
      S,
      p,
      y,
      E,
      g,
      _,
      $,
      z,
      I,
      ee,
      me,
      gt,
      xt,
      _e,
      R,
      Tt,
      At,
      X,
      yi,
      De,
      Se,
      Fe,
      Be,
      r,
      c,
      f,
      ue,
      mt,
      function(K) {
        i(29, De = K.detail);
      },
      function(K) {
        i(30, Se = K.detail);
      },
      function(K) {
        i(32, Be = K.detail);
      },
      function(K) {
        i(27, X = K.detail);
      },
      function(K) {
        i(31, Fe = K.detail);
      },
      at,
      v,
      function(K, $i) {
        At[K] != $i
          && ($i === "" || $i == null
            ? (delete At[K], i(26, At))
            : i(26, At[K] = $i, At));
      },
      a,
      l,
      St,
      ft,
      function() {
        le?.focus();
      },
      function() {
        le?.blur();
      },
      vi,
      jr,
      A,
      Rt,
      o,
      function(K) {
        bt[K ? "unshift" : "push"](() => {
          Ke = K, i(5, Ke);
        });
      },
      function(K) {
        bt[K ? "unshift" : "push"](() => {
          Ke = K, i(5, Ke);
        });
      },
      function(K) {
        bt[K ? "unshift" : "push"](() => {
          Ee = K, i(7, Ee);
        });
      },
      function(K) {
        bt[K ? "unshift" : "push"](() => {
          le = K, i(2, le);
        });
      },
      function(K) {
        D = K, i(0, D);
      },
      function(K) {
        We = K, i(4, We);
      },
      function(K) {
        ne = K, i(1, ne), i(54, A), i(19, ee);
      },
      () => i(28, yi = !1),
      () => i(28, yi = !0),
      K => xi(R, "blur", K),
      K => xi(R, "focus", K),
      function(K) {
        bt[K ? "unshift" : "push"](() => {
          le = K, i(2, le);
        });
      },
      function(K) {
        D = K, i(0, D);
      },
      function(K) {
        V = K, i(3, V);
      },
      function(K) {
        We = K, i(4, We);
      },
      function(K) {
        ne = K, i(1, ne), i(54, A), i(19, ee);
      },
      () => i(28, yi = !1),
      () => i(28, yi = !0),
      K => xi(R, "blur", K),
      K => xi(R, "focus", K),
      function(K) {
        bt[K ? "unshift" : "push"](() => {
          dt = K, i(6, dt);
        });
      },
      function(K) {
        bt[K ? "unshift" : "push"](() => {
          R = K, i(24, R);
        });
      },
      () => i(29, De = void 0),
      () => i(30, Se = void 0),
      () => i(32, Be = void 0),
      function(K) {
        bt[K ? "unshift" : "push"](() => {
          R = K, i(24, R);
        });
      },
      () => i(29, De = void 0),
      () => i(30, Se = void 0),
      () => {
        i(27, X = void 0), i(31, Fe = void 0);
      },
      () => i(32, Be = void 0),
      s,
    ];
}
var df = class extends ri {
  constructor(e) {
    super(),
      si(
        this,
        e,
        Dk,
        Fk,
        Xt,
        {
          use: 8,
          class: 9,
          style: 10,
          ripple: 11,
          disabled: 12,
          required: 13,
          textarea: 14,
          variant: 15,
          noLabel: 16,
          label: 17,
          type: 18,
          value: 0,
          files: 3,
          invalid: 1,
          updateInvalid: 19,
          dirty: 4,
          prefix: 20,
          suffix: 21,
          validateOnValueChange: 48,
          useNativeValidation: 49,
          withLeadingIcon: 22,
          withTrailingIcon: 23,
          input: 2,
          floatingLabel: 5,
          lineRipple: 6,
          notchedOutline: 7,
          focus: 50,
          blur: 51,
          layout: 52,
          getElement: 53,
        },
        null,
        [-1, -1, -1, -1],
      );
  }
  get focus() {
    return this.$$.ctx[50];
  }
  get blur() {
    return this.$$.ctx[51];
  }
  get layout() {
    return this.$$.ctx[52];
  }
  get getElement() {
    return this.$$.ctx[53];
  }
};
var Bp = { ICON_EVENT: "MDCTextField:icon", ICON_ROLE: "button" },
  Sy = { ROOT: "mdc-text-field__icon" };
var Ey = ["click", "keydown"],
  Ty = function(t) {
    function e(i) {
      var r = t.call(this, bi(bi({}, e.defaultAdapter), i)) || this;
      return r.savedTabIndex = null,
        r.interactionHandler = function(n) {
          r.handleInteraction(n);
        },
        r;
    }
    return Sr(e, t),
      Object.defineProperty(e, "strings", {
        get: function() {
          return Bp;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(e, "cssClasses", {
        get: function() {
          return Sy;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(e, "defaultAdapter", {
        get: function() {
          return {
            getAttr: function() {
              return null;
            },
            setAttr: function() {},
            removeAttr: function() {},
            setContent: function() {},
            registerInteractionHandler: function() {},
            deregisterInteractionHandler: function() {},
            notifyIconAction: function() {},
          };
        },
        enumerable: !1,
        configurable: !0,
      }),
      e.prototype.init = function() {
        var i, r;
        this.savedTabIndex = this.adapter.getAttr("tabindex");
        try {
          for (var n = Br(Ey), a = n.next(); !a.done; a = n.next()) {
            var o = a.value;
            this.adapter.registerInteractionHandler(o, this.interactionHandler);
          }
        }
        catch (s) {
          i = { error: s };
        }
        finally {
          try {
            a && !a.done && (r = n.return) && r.call(n);
          }
          finally {
            if (i) throw i.error;
          }
        }
      },
      e.prototype.destroy = function() {
        var i, r;
        try {
          for (var n = Br(Ey), a = n.next(); !a.done; a = n.next()) {
            var o = a.value;
            this.adapter.deregisterInteractionHandler(
              o,
              this.interactionHandler,
            );
          }
        }
        catch (s) {
          i = { error: s };
        }
        finally {
          try {
            a && !a.done && (r = n.return) && r.call(n);
          }
          finally {
            if (i) throw i.error;
          }
        }
      },
      e.prototype.setDisabled = function(i) {
        this.savedTabIndex
          && (i
            ? (this.adapter.setAttr("tabindex", "-1"),
              this.adapter.removeAttr("role"))
            : (this.adapter.setAttr("tabindex", this.savedTabIndex),
              this.adapter.setAttr("role", Bp.ICON_ROLE)));
      },
      e.prototype.setAriaLabel = function(i) {
        this.adapter.setAttr("aria-label", i);
      },
      e.prototype.setContent = function(i) {
        this.adapter.setContent(i);
      },
      e.prototype.handleInteraction = function(i) {
        var r = i.key === "Enter" || i.keyCode === 13;
        (i.type === "click" || r)
          && (i.preventDefault(), this.adapter.notifyIconAction());
      },
      e;
  }(Er);
function $k(t) {
  let e;
  return {
    c() {
      e = nn(t[7]);
    },
    m(i, r) {
      rt(i, e, r);
    },
    p(i, r) {
      128 & r && Wn(e, i[7]);
    },
    i: di,
    o: di,
    d(i) {
      i && it(e);
    },
  };
}
function Mk(t) {
  let e, i = t[15].default, r = Ut(i, t, t[14], null);
  return {
    c() {
      r && r.c();
    },
    m(n, a) {
      r && r.m(n, a), e = !0;
    },
    p(n, a) {
      r && r.p && (!e || 16384 & a)
        && Ht(r, i, n, n[14], e ? Gt(i, n[14], a, null) : jt(n[14]), null);
    },
    i(n) {
      e || (Te(r, n), e = !0);
    },
    o(n) {
      Re(r, n), e = !1;
    },
    d(n) {
      r && r.d(n);
    },
  };
}
function Nk(t) {
  let e, i, r, n, a, o, s, l, d, c, u = [Mk, $k], f = [];
  function h(p, y) {
    return p[7] == null ? 0 : 1;
  }
  i = h(t), r = f[i] = u[i](t);
  let x = [
      {
        class: n = Ot({
          [t[1]]: !0,
          "mdc-text-field__icon": !0,
          "mdc-text-field__icon--leading": t[11],
          "mdc-text-field__icon--trailing": !t[11],
        }),
      },
      { "aria-hidden": a = t[3] === -1 ? "true" : "false" },
      {
        "aria-disabled": o = t[2] === "button"
          ? t[4] ? "true" : "false"
          : void 0,
      },
      t[8],
      t[6],
      t[12],
    ],
    S = {};
  for (let p = 0; p < x.length; p += 1) S = st(S, x[p]);
  return {
    c() {
      e = Nt("i"), r.c(), pi(e, S);
    },
    m(p, y) {
      rt(p, e, y),
        f[i].m(e, null),
        t[16](e),
        l = !0,
        d
        || (c = [zt(s = Gi.call(null, e, t[0])), zt(t[9].call(null, e))],
          d = !0);
    },
    p(p, [y]) {
      let E = i;
      i = h(p),
        i === E ? f[i].p(p, y) : (Ci(),
          Re(f[E], 1, 1, () => {
            f[E] = null;
          }),
          ki(),
          r = f[i],
          r ? r.p(p, y) : (r = f[i] = u[i](p), r.c()),
          Te(r, 1),
          r.m(e, null)),
        pi(
          e,
          S = Vt(x, [
            (!l
              || 2 & y
                && n
                  !== (n = Ot({
                    [p[1]]: !0,
                    "mdc-text-field__icon": !0,
                    "mdc-text-field__icon--leading": p[11],
                    "mdc-text-field__icon--trailing": !p[11],
                  }))) && { class: n },
            (!l || 8 & y && a !== (a = p[3] === -1
                    ? "true"
                    : "false")) && { "aria-hidden": a },
            (!l || 20 & y && o !== (o = p[2] === "button"
                    ? p[4]
                      ? "true"
                      : "false"
                    : void 0)) && { "aria-disabled": o },
            256 & y && p[8],
            64 & y && p[6],
            4096 & y && p[12],
          ]),
        ),
        s && oi(s.update) && 1 & y && s.update.call(null, p[0]);
    },
    i(p) {
      l || (Te(r), l = !0);
    },
    o(p) {
      Re(r), l = !1;
    },
    d(p) {
      p && it(e), f[i].d(), t[16](null), d = !1, hi(c);
    },
  };
}
function Pk(t, e, i) {
  let r,
    n = ["use", "class", "role", "tabindex", "disabled", "getElement"],
    a,
    o = $t(e, n),
    { $$slots: s = {}, $$scope: l } = e,
    d = Li(ui()),
    c,
    u,
    { use: f = [] } = e,
    { class: h = "" } = e,
    { role: x } = e,
    { tabindex: S = x === "button" ? 0 : -1 } = e,
    { disabled: p = !1 } = e,
    y = {},
    E = Ji("SMUI:textfield:icon:leading");
  Ku(t, E, V => i(18, a = V));
  let g = a, _;
  function $(V) {
    var ue;
    return V in y
      ? (ue = y[V]) !== null && ue !== void 0 ? ue : null
      : D().getAttribute(V);
  }
  function z(V, ue) {
    y[V] !== ue && i(6, y[V] = ue, y);
  }
  function I(V) {
    V in y && y[V] == null || i(6, y[V] = void 0, y);
  }
  function D() {
    return c;
  }
  return Bi(
    () => (u = new Ty({
      getAttr: $,
      setAttr: z,
      removeAttr: I,
      setContent: V => {
        i(7, _ = V);
      },
      registerInteractionHandler: (V, ue) => D().addEventListener(V, ue),
      deregisterInteractionHandler: (V, ue) => D().removeEventListener(V, ue),
      notifyIconAction: () => xi(D(), "SMUITextField:icon", void 0, void 0, !0),
    }),
      xi(
        D(),
        g
          ? "SMUITextfieldLeadingIcon:mount"
          : "SMUITextfieldTrailingIcon:mount",
        u,
      ),
      u.init(),
      () => {
        xi(
          D(),
          g
            ? "SMUITextfieldLeadingIcon:unmount"
            : "SMUITextfieldTrailingIcon:unmount",
          u,
        ), u.destroy();
      })
  ),
    t.$$set = V => {
      e = st(st({}, e), Ai(V)),
        i(12, o = $t(e, n)),
        "use" in V && i(0, f = V.use),
        "class" in V && i(1, h = V.class),
        "role" in V && i(2, x = V.role),
        "tabindex" in V && i(3, S = V.tabindex),
        "disabled" in V && i(4, p = V.disabled),
        "$$scope" in V && i(14, l = V.$$scope);
    },
    t.$$.update = () => {
      12 & t.$$.dirty && i(8, r = { role: x, tabindex: S });
    },
    [f, h, x, S, p, c, y, _, r, d, E, g, o, D, l, s, function(V) {
      bt[V ? "unshift" : "push"](() => {
        c = V, i(5, c);
      });
    }];
}
var Id = class extends ri {
  constructor(e) {
    super(),
      si(this, e, Pk, Nk, Xt, {
        use: 0,
        class: 1,
        role: 2,
        tabindex: 3,
        disabled: 4,
        getElement: 13,
      });
  }
  get getElement() {
    return this.$$.ctx[13];
  }
};
var Qi,
  qa,
  Ay = {
    ANCHOR: "mdc-menu-surface--anchor",
    ANIMATING_CLOSED: "mdc-menu-surface--animating-closed",
    ANIMATING_OPEN: "mdc-menu-surface--animating-open",
    FIXED: "mdc-menu-surface--fixed",
    IS_OPEN_BELOW: "mdc-menu-surface--is-open-below",
    OPEN: "mdc-menu-surface--open",
    ROOT: "mdc-menu-surface",
  },
  Iy = {
    CLOSED_EVENT: "MDCMenuSurface:closed",
    CLOSING_EVENT: "MDCMenuSurface:closing",
    OPENED_EVENT: "MDCMenuSurface:opened",
    OPENING_EVENT: "MDCMenuSurface:opening",
    FOCUSABLE_ELEMENTS: [
      "button:not(:disabled)",
      "[href]:not([aria-disabled=\"true\"])",
      "input:not(:disabled)",
      "select:not(:disabled)",
      "textarea:not(:disabled)",
      "[tabindex]:not([tabindex=\"-1\"]):not([aria-disabled=\"true\"])",
    ].join(", "),
  },
  Vs = {
    TRANSITION_OPEN_DURATION: 120,
    TRANSITION_CLOSE_DURATION: 75,
    MARGIN_TO_EDGE: 32,
    ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO: .67,
    TOUCH_EVENT_WAIT_MS: 30,
  };
(function(t) {
  t[t.BOTTOM = 1] = "BOTTOM",
    t[t.CENTER = 2] = "CENTER",
    t[t.RIGHT = 4] = "RIGHT",
    t[t.FLIP_RTL = 8] = "FLIP_RTL";
})(Qi || (Qi = {})),
  function(t) {
    t[t.TOP_LEFT = 0] = "TOP_LEFT",
      t[t.TOP_RIGHT = 4] = "TOP_RIGHT",
      t[t.BOTTOM_LEFT = 1] = "BOTTOM_LEFT",
      t[t.BOTTOM_RIGHT = 5] = "BOTTOM_RIGHT",
      t[t.TOP_START = 8] = "TOP_START",
      t[t.TOP_END = 12] = "TOP_END",
      t[t.BOTTOM_START = 9] = "BOTTOM_START",
      t[t.BOTTOM_END = 13] = "BOTTOM_END";
  }(qa || (qa = {}));
var cf = function(t) {
  function e(i) {
    var r = t.call(this, bi(bi({}, e.defaultAdapter), i)) || this;
    return r.isSurfaceOpen = !1,
      r.isQuickOpen = !1,
      r.isHoistedElement = !1,
      r.isFixedPosition = !1,
      r.isHorizontallyCenteredOnViewport = !1,
      r.maxHeight = 0,
      r.openBottomBias = 0,
      r.openAnimationEndTimerId = 0,
      r.closeAnimationEndTimerId = 0,
      r.animationRequestId = 0,
      r.anchorCorner = qa.TOP_START,
      r.originCorner = qa.TOP_START,
      r.anchorMargin = { top: 0, right: 0, bottom: 0, left: 0 },
      r.position = { x: 0, y: 0 },
      r;
  }
  return Sr(e, t),
    Object.defineProperty(e, "cssClasses", {
      get: function() {
        return Ay;
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e, "strings", {
      get: function() {
        return Iy;
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e, "numbers", {
      get: function() {
        return Vs;
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e, "Corner", {
      get: function() {
        return qa;
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e, "defaultAdapter", {
      get: function() {
        return {
          addClass: function() {},
          removeClass: function() {},
          hasClass: function() {
            return !1;
          },
          hasAnchor: function() {
            return !1;
          },
          isElementInContainer: function() {
            return !1;
          },
          isFocused: function() {
            return !1;
          },
          isRtl: function() {
            return !1;
          },
          getInnerDimensions: function() {
            return { height: 0, width: 0 };
          },
          getAnchorDimensions: function() {
            return null;
          },
          getWindowDimensions: function() {
            return { height: 0, width: 0 };
          },
          getBodyDimensions: function() {
            return { height: 0, width: 0 };
          },
          getWindowScroll: function() {
            return { x: 0, y: 0 };
          },
          setPosition: function() {},
          setMaxHeight: function() {},
          setTransformOrigin: function() {},
          saveFocus: function() {},
          restoreFocus: function() {},
          notifyClose: function() {},
          notifyClosing: function() {},
          notifyOpen: function() {},
          notifyOpening: function() {},
        };
      },
      enumerable: !1,
      configurable: !0,
    }),
    e.prototype.init = function() {
      var i = e.cssClasses, r = i.ROOT, n = i.OPEN;
      if (!this.adapter.hasClass(r)) {
        throw new Error(r + " class required in root element.");
      }
      this.adapter.hasClass(n) && (this.isSurfaceOpen = !0);
    },
    e.prototype.destroy = function() {
      clearTimeout(this.openAnimationEndTimerId),
        clearTimeout(this.closeAnimationEndTimerId),
        cancelAnimationFrame(this.animationRequestId);
    },
    e.prototype.setAnchorCorner = function(i) {
      this.anchorCorner = i;
    },
    e.prototype.flipCornerHorizontally = function() {
      this.originCorner = this.originCorner ^ Qi.RIGHT;
    },
    e.prototype.setAnchorMargin = function(i) {
      this.anchorMargin.top = i.top || 0,
        this.anchorMargin.right = i.right || 0,
        this.anchorMargin.bottom = i.bottom || 0,
        this.anchorMargin.left = i.left || 0;
    },
    e.prototype.setIsHoisted = function(i) {
      this.isHoistedElement = i;
    },
    e.prototype.setFixedPosition = function(i) {
      this.isFixedPosition = i;
    },
    e.prototype.isFixed = function() {
      return this.isFixedPosition;
    },
    e.prototype.setAbsolutePosition = function(i, r) {
      this.position.x = this.isFinite(i) ? i : 0,
        this.position.y = this.isFinite(r) ? r : 0;
    },
    e.prototype.setIsHorizontallyCenteredOnViewport = function(i) {
      this.isHorizontallyCenteredOnViewport = i;
    },
    e.prototype.setQuickOpen = function(i) {
      this.isQuickOpen = i;
    },
    e.prototype.setMaxHeight = function(i) {
      this.maxHeight = i;
    },
    e.prototype.setOpenBottomBias = function(i) {
      this.openBottomBias = i;
    },
    e.prototype.isOpen = function() {
      return this.isSurfaceOpen;
    },
    e.prototype.open = function() {
      var i = this;
      this.isSurfaceOpen
        || (this.adapter.notifyOpening(),
          this.adapter.saveFocus(),
          this.isQuickOpen
            ? (this.isSurfaceOpen = !0,
              this.adapter.addClass(e.cssClasses.OPEN),
              this.dimensions = this.adapter.getInnerDimensions(),
              this.autoposition(),
              this.adapter.notifyOpen())
            : (this.adapter.addClass(e.cssClasses.ANIMATING_OPEN),
              this.animationRequestId = requestAnimationFrame(function() {
                i.dimensions = i.adapter.getInnerDimensions(),
                  i.autoposition(),
                  i.adapter.addClass(e.cssClasses.OPEN),
                  i.openAnimationEndTimerId = setTimeout(function() {
                    i.openAnimationEndTimerId = 0,
                      i.adapter.removeClass(e.cssClasses.ANIMATING_OPEN),
                      i.adapter.notifyOpen();
                  }, Vs.TRANSITION_OPEN_DURATION);
              }),
              this.isSurfaceOpen = !0));
    },
    e.prototype.close = function(i) {
      var r = this;
      if (i === void 0 && (i = !1), this.isSurfaceOpen) {
        if (this.adapter.notifyClosing(), this.isQuickOpen) {
          return this.isSurfaceOpen = !1,
            i || this.maybeRestoreFocus(),
            this.adapter.removeClass(e.cssClasses.OPEN),
            this.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),
            void this.adapter.notifyClose();
        }
        this.adapter.addClass(e.cssClasses.ANIMATING_CLOSED),
          requestAnimationFrame(function() {
            r.adapter.removeClass(e.cssClasses.OPEN),
              r.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),
              r.closeAnimationEndTimerId = setTimeout(function() {
                r.closeAnimationEndTimerId = 0,
                  r.adapter.removeClass(e.cssClasses.ANIMATING_CLOSED),
                  r.adapter.notifyClose();
              }, Vs.TRANSITION_CLOSE_DURATION);
          }),
          this.isSurfaceOpen = !1,
          i || this.maybeRestoreFocus();
      }
    },
    e.prototype.handleBodyClick = function(i) {
      var r = i.target;
      this.adapter.isElementInContainer(r) || this.close();
    },
    e.prototype.handleKeydown = function(i) {
      var r = i.keyCode;
      (i.key === "Escape" || r === 27) && this.close();
    },
    e.prototype.autoposition = function() {
      var i;
      this.measurements = this.getAutoLayoutmeasurements();
      var r = this.getoriginCorner(),
        n = this.getMenuSurfaceMaxHeight(r),
        a = this.hasBit(r, Qi.BOTTOM) ? "bottom" : "top",
        o = this.hasBit(r, Qi.RIGHT) ? "right" : "left",
        s = this.getHorizontalOriginOffset(r),
        l = this.getVerticalOriginOffset(r),
        d = this.measurements,
        c = d.anchorSize,
        u = d.surfaceSize,
        f = ((i = {})[o] = s, i[a] = l, i);
      c.width / u.width > Vs.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO
      && (o = "center"),
        (this.isHoistedElement || this.isFixedPosition)
        && this.adjustPositionForHoistedElement(f),
        this.adapter.setTransformOrigin(o + " " + a),
        this.adapter.setPosition(f),
        this.adapter.setMaxHeight(n ? n + "px" : ""),
        this.hasBit(r, Qi.BOTTOM)
        || this.adapter.addClass(e.cssClasses.IS_OPEN_BELOW);
    },
    e.prototype.getAutoLayoutmeasurements = function() {
      var i = this.adapter.getAnchorDimensions(),
        r = this.adapter.getBodyDimensions(),
        n = this.adapter.getWindowDimensions(),
        a = this.adapter.getWindowScroll();
      return i
        || (i = {
          top: this.position.y,
          right: this.position.x,
          bottom: this.position.y,
          left: this.position.x,
          width: 0,
          height: 0,
        }),
        {
          anchorSize: i,
          bodySize: r,
          surfaceSize: this.dimensions,
          viewportDistance: {
            top: i.top,
            right: n.width - i.right,
            bottom: n.height - i.bottom,
            left: i.left,
          },
          viewportSize: n,
          windowScroll: a,
        };
    },
    e.prototype.getoriginCorner = function() {
      var i,
        r,
        n = this.originCorner,
        a = this.measurements,
        o = a.viewportDistance,
        s = a.anchorSize,
        l = a.surfaceSize,
        d = e.numbers.MARGIN_TO_EDGE;
      this.hasBit(this.anchorCorner, Qi.BOTTOM)
        ? (i = o.top - d + this.anchorMargin.bottom,
          r = o.bottom - d - this.anchorMargin.bottom)
        : (i = o.top - d + this.anchorMargin.top,
          r = o.bottom - d + s.height - this.anchorMargin.top),
        !(r - l.height > 0) && i > r + this.openBottomBias
        && (n = this.setBit(n, Qi.BOTTOM));
      var c,
        u,
        f = this.adapter.isRtl(),
        h = this.hasBit(this.anchorCorner, Qi.FLIP_RTL),
        x = this.hasBit(this.anchorCorner, Qi.RIGHT)
          || this.hasBit(n, Qi.RIGHT),
        S = !1;
      (S = f && h ? !x : x)
        ? (c = o.left + s.width + this.anchorMargin.right,
          u = o.right - this.anchorMargin.right)
        : (c = o.left + this.anchorMargin.left,
          u = o.right + s.width - this.anchorMargin.left);
      var p = c - l.width > 0,
        y = u - l.width > 0,
        E = this.hasBit(n, Qi.FLIP_RTL) && this.hasBit(n, Qi.RIGHT);
      return y && E && f || !p && E
        ? n = this.unsetBit(n, Qi.RIGHT)
        : (p && S && f || p && !S && x || !y && c >= u)
          && (n = this.setBit(n, Qi.RIGHT)),
        n;
    },
    e.prototype.getMenuSurfaceMaxHeight = function(i) {
      if (this.maxHeight > 0) return this.maxHeight;
      var r = this.measurements.viewportDistance,
        n = 0,
        a = this.hasBit(i, Qi.BOTTOM),
        o = this.hasBit(this.anchorCorner, Qi.BOTTOM),
        s = e.numbers.MARGIN_TO_EDGE;
      return a
        ? (n = r.top + this.anchorMargin.top - s,
          o || (n += this.measurements.anchorSize.height))
        : (n = r.bottom - this.anchorMargin.bottom
          + this.measurements.anchorSize.height - s,
          o && (n -= this.measurements.anchorSize.height)),
        n;
    },
    e.prototype.getHorizontalOriginOffset = function(i) {
      var r = this.measurements.anchorSize,
        n = this.hasBit(i, Qi.RIGHT),
        a = this.hasBit(this.anchorCorner, Qi.RIGHT);
      if (n) {
        var o = a ? r.width - this.anchorMargin.left : this.anchorMargin.right;
        return this.isHoistedElement || this.isFixedPosition
          ? o
            - (this.measurements.viewportSize.width
              - this.measurements.bodySize.width)
          : o;
      }
      return a ? r.width - this.anchorMargin.right : this.anchorMargin.left;
    },
    e.prototype.getVerticalOriginOffset = function(i) {
      var r = this.measurements.anchorSize,
        n = this.hasBit(i, Qi.BOTTOM),
        a = this.hasBit(this.anchorCorner, Qi.BOTTOM);
      return n
        ? a ? r.height - this.anchorMargin.top : -this.anchorMargin.bottom
        : a ? r.height + this.anchorMargin.bottom : this.anchorMargin.top;
    },
    e.prototype.adjustPositionForHoistedElement = function(i) {
      var r,
        n,
        a = this.measurements,
        o = a.windowScroll,
        s = a.viewportDistance,
        l = a.surfaceSize,
        d = a.viewportSize,
        c = Object.keys(i);
      try {
        for (var u = Br(c), f = u.next(); !f.done; f = u.next()) {
          var h = f.value, x = i[h] || 0;
          !this.isHorizontallyCenteredOnViewport
            || h !== "left" && h !== "right"
            ? (x += s[h],
              this.isFixedPosition
              || (h === "top"
                ? x += o.y
                : h === "bottom"
                ? x -= o.y
                : h === "left"
                ? x += o.x
                : x -= o.x),
              i[h] = x)
            : i[h] = (d.width - l.width) / 2;
        }
      }
      catch (S) {
        r = { error: S };
      }
      finally {
        try {
          f && !f.done && (n = u.return) && n.call(u);
        }
        finally {
          if (r) throw r.error;
        }
      }
    },
    e.prototype.maybeRestoreFocus = function() {
      var i = this,
        r = this.adapter.isFocused(),
        n = this.adapter.getOwnerDocument ? this.adapter.getOwnerDocument()
        : document,
        a = n.activeElement
          && this.adapter.isElementInContainer(n.activeElement);
      (r || a) && setTimeout(function() {
        i.adapter.restoreFocus();
      }, Vs.TOUCH_EVENT_WAIT_MS);
    },
    e.prototype.hasBit = function(i, r) {
      return !!(i & r);
    },
    e.prototype.setBit = function(i, r) {
      return i | r;
    },
    e.prototype.unsetBit = function(i, r) {
      return i ^ r;
    },
    e.prototype.isFinite = function(i) {
      return typeof i == "number" && isFinite(i);
    },
    e;
}(Er);
var { document: zk } = s1;
function Bk(t) {
  let e,
    i,
    r,
    n,
    a,
    o,
    s,
    l,
    d = t[34].default,
    c = Ut(d, t, t[33], null),
    u = [
      {
        class: r = Ot({
          [t[1]]: !0,
          "mdc-menu-surface": !0,
          "mdc-menu-surface--fixed": t[4],
          "mdc-menu-surface--open": t[3],
          "smui-menu-surface--static": t[3],
          "mdc-menu-surface--fullwidth": t[5],
          ...t[8],
        }),
      },
      { style: n = Object.entries(t[9]).map(Cy).concat([t[2]]).join(" ") },
      t[12],
    ],
    f = {};
  for (let h = 0; h < u.length; h += 1) f = st(f, u[h]);
  return {
    c() {
      e = Ii(), i = Nt("div"), c && c.c(), pi(i, f);
    },
    m(h, x) {
      rt(h, e, x),
        rt(h, i, x),
        c && c.m(i, null),
        t[35](i),
        o = !0,
        s
        || (l = [
          _i(zk.body, "click", t[11], !0),
          zt(a = Gi.call(null, i, t[0])),
          zt(t[10].call(null, i)),
          _i(i, "keydown", function() {
            oi(t[7] && t[7].handleKeydown.bind(t[7]))
              && (t[7] && t[7].handleKeydown.bind(t[7])).apply(this, arguments);
          }),
        ],
          s = !0);
    },
    p(h, x) {
      t = h,
        c && c.p && (!o || 4 & x[1])
        && Ht(c, d, t, t[33], o ? Gt(d, t[33], x, null) : jt(t[33]), null),
        pi(
          i,
          f = Vt(u, [
            (!o
              || 314 & x[0]
                && r
                  !== (r = Ot({
                    [t[1]]: !0,
                    "mdc-menu-surface": !0,
                    "mdc-menu-surface--fixed": t[4],
                    "mdc-menu-surface--open": t[3],
                    "smui-menu-surface--static": t[3],
                    "mdc-menu-surface--fullwidth": t[5],
                    ...t[8],
                  }))) && { class: r },
            (!o
              || 516 & x[0]
                && n
                  !== (n = Object.entries(t[9]).map(Cy).concat([t[2]]).join(
                    " ",
                  ))) && { style: n },
            4096 & x[0] && t[12],
          ]),
        ),
        a && oi(a.update) && 1 & x[0] && a.update.call(null, t[0]);
    },
    i(h) {
      o || (Te(c, h), o = !0);
    },
    o(h) {
      Re(c, h), o = !1;
    },
    d(h) {
      h && it(e), h && it(i), c && c.d(h), t[35](null), s = !1, hi(l);
    },
  };
}
var Cy = ([t, e]) => `${t}: ${e};`;
function Uk(t, e, i) {
  let r = [
      "use",
      "class",
      "style",
      "static",
      "anchor",
      "fixed",
      "open",
      "managed",
      "fullWidth",
      "quickOpen",
      "anchorElement",
      "anchorCorner",
      "anchorMargin",
      "maxHeight",
      "horizontallyCenteredOnViewport",
      "openBottomBias",
      "neverRestoreFocus",
      "isOpen",
      "setOpen",
      "setAbsolutePosition",
      "setIsHoisted",
      "isFixed",
      "getElement",
    ],
    n = $t(e, r),
    { $$slots: a = {}, $$scope: o } = e;
  var s, l, d;
  let c = Li(ui()),
    u,
    f,
    h,
    { use: x = [] } = e,
    { class: S = "" } = e,
    { style: p = "" } = e,
    { static: y = !1 } = e,
    { anchor: E = !0 } = e,
    { fixed: g = !1 } = e,
    { open: _ = y } = e,
    { managed: $ = !1 } = e,
    { fullWidth: z = !1 } = e,
    { quickOpen: I = !1 } = e,
    { anchorElement: D } = e,
    { anchorCorner: V } = e,
    { anchorMargin: ue = { top: 0, right: 0, bottom: 0, left: 0 } } = e,
    { maxHeight: ne = 0 } = e,
    { horizontallyCenteredOnViewport: ee = !1 } = e,
    { openBottomBias: R = 0 } = e,
    { neverRestoreFocus: A = !1 } = e,
    X = {},
    G = {};
  gr("SMUI:list:role", "menu"), gr("SMUI:list:item:role", "menuitem");
  let te = qa;
  function De(me) {
    return me in X ? X[me] : We().classList.contains(me);
  }
  function Se(me) {
    X[me] || i(8, X[me] = !0, X);
  }
  function Fe(me) {
    me in X && !X[me] || i(8, X[me] = !1, X);
  }
  function Be(me) {
    f.close(me), i(13, _ = !1);
  }
  function We() {
    return u;
  }
  return Bi(
    () => (i(
      7,
      f = new cf({
        addClass: Se,
        removeClass: Fe,
        hasClass: De,
        hasAnchor: () => !!D,
        notifyClose: () => {
          $ || i(13, _ = y),
            _ || xi(u, "SMUIMenuSurface:closed", void 0, void 0, !0);
        },
        notifyClosing: () => {
          $ || i(13, _ = y),
            _ || xi(u, "SMUIMenuSurface:closing", void 0, void 0, !0);
        },
        notifyOpen: () => {
          $ || i(13, _ = !0),
            _ && xi(u, "SMUIMenuSurface:opened", void 0, void 0, !0);
        },
        notifyOpening: () => {
          _ || xi(u, "SMUIMenuSurface:opening", void 0, void 0, !0);
        },
        isElementInContainer: me => u.contains(me),
        isRtl: () =>
          getComputedStyle(u).getPropertyValue("direction") === "rtl",
        setTransformOrigin: me => {
          i(9, G["transform-origin"] = me, G);
        },
        isFocused: () => document.activeElement === u,
        saveFocus: () => {
          var me;
          h = (me = document.activeElement) !== null && me !== void 0
            ? me
            : void 0;
        },
        restoreFocus: () => {
          !A && (!u || u.contains(document.activeElement)) && h
            && document.contains(h) && "focus" in h && h.focus();
        },
        getInnerDimensions: () => ({
          width: u.offsetWidth,
          height: u.offsetHeight,
        }),
        getAnchorDimensions: () => D ? D.getBoundingClientRect() : null,
        getWindowDimensions: () => ({
          width: window.innerWidth,
          height: window.innerHeight,
        }),
        getBodyDimensions: () => ({
          width: document.body.clientWidth,
          height: document.body.clientHeight,
        }),
        getWindowScroll: () => ({
          x: window.pageXOffset,
          y: window.pageYOffset,
        }),
        setPosition: me => {
          i(9, G.left = "left" in me ? `${me.left}px` : "", G),
            i(9, G.right = "right" in me ? `${me.right}px` : "", G),
            i(9, G.top = "top" in me ? `${me.top}px` : "", G),
            i(
              9,
              G.bottom = "bottom" in me ? `${me.bottom}px` : "",
              G,
            );
        },
        setMaxHeight: me => {
          i(9, G["max-height"] = me, G);
        },
      }),
    ),
      xi(u, "SMUIMenuSurface:mount", {
        get open() {
          return _;
        },
        set open(me) {
          i(13, _ = me);
        },
        closeProgrammatic: Be,
      }),
      f.init(),
      () => {
        var me;
        let gt = f.isHoistedElement;
        f.destroy(),
          gt
          && ((me = u.parentNode) === null || me === void 0
            || me.removeChild(u));
      })
  ),
    Xr(() => {
      var me;
      E && u
        && ((me = u.parentElement) === null || me === void 0
          || me.classList.remove("mdc-menu-surface--anchor"));
    }),
    t.$$set = me => {
      e = st(st({}, e), Ai(me)),
        i(12, n = $t(e, r)),
        "use" in me && i(0, x = me.use),
        "class" in me && i(1, S = me.class),
        "style" in me && i(2, p = me.style),
        "static" in me && i(3, y = me.static),
        "anchor" in me && i(15, E = me.anchor),
        "fixed" in me && i(4, g = me.fixed),
        "open" in me && i(13, _ = me.open),
        "managed" in me && i(16, $ = me.managed),
        "fullWidth" in me && i(5, z = me.fullWidth),
        "quickOpen" in me && i(17, I = me.quickOpen),
        "anchorElement" in me && i(14, D = me.anchorElement),
        "anchorCorner" in me && i(18, V = me.anchorCorner),
        "anchorMargin" in me && i(19, ue = me.anchorMargin),
        "maxHeight" in me && i(20, ne = me.maxHeight),
        "horizontallyCenteredOnViewport" in me
        && i(21, ee = me.horizontallyCenteredOnViewport),
        "openBottomBias" in me && i(22, R = me.openBottomBias),
        "neverRestoreFocus" in me && i(23, A = me.neverRestoreFocus),
        "$$scope" in me && i(33, o = me.$$scope);
    },
    t.$$.update = () => {
      1073774656 & t.$$.dirty[0] | 3 & t.$$.dirty[1] && u && E
      && !(!(i(30, s = u.parentElement) === null || s === void 0)
        && s.classList.contains("mdc-menu-surface--anchor"))
      && (i(31, l = u.parentElement) === null || l === void 0
        || l.classList.add("mdc-menu-surface--anchor"),
        i(
          14,
          D = i(32, d = u.parentElement) !== null && d !== void 0 ? d : void 0,
        )),
        8320 & t.$$.dirty[0] && f && f.isOpen() !== _
        && (_ ? f.open() : f.close()),
        131200 & t.$$.dirty[0] && f && f.setQuickOpen(I),
        144 & t.$$.dirty[0] && f && f.setFixedPosition(g),
        1048704 & t.$$.dirty[0] && f && f.setMaxHeight(ne),
        2097280 & t.$$.dirty[0] && f
        && f.setIsHorizontallyCenteredOnViewport(ee),
        262272 & t.$$.dirty[0] && f && V != null
        && (typeof V == "string"
          ? f.setAnchorCorner(te[V])
          : f.setAnchorCorner(V)),
        524416 & t.$$.dirty[0] && f && f.setAnchorMargin(ue),
        4194432 & t.$$.dirty[0] && f && f.setOpenBottomBias(R);
    },
    [
      x,
      S,
      p,
      y,
      g,
      z,
      u,
      f,
      X,
      G,
      c,
      function(me) {
        f && _ && !$ && f.handleBodyClick(me);
      },
      n,
      _,
      D,
      E,
      $,
      I,
      V,
      ue,
      ne,
      ee,
      R,
      A,
      function() {
        return _;
      },
      function(me) {
        i(13, _ = me);
      },
      function(me, gt) {
        return f.setAbsolutePosition(me, gt);
      },
      function(me) {
        return f.setIsHoisted(me);
      },
      function() {
        return f.isFixed();
      },
      We,
      s,
      l,
      d,
      o,
      a,
      function(me) {
        bt[me ? "unshift" : "push"](() => {
          u = me, i(6, u);
        });
      },
    ];
}
var uf = class extends ri {
  constructor(e) {
    super(),
      si(
        this,
        e,
        Uk,
        Bk,
        Xt,
        {
          use: 0,
          class: 1,
          style: 2,
          static: 3,
          anchor: 15,
          fixed: 4,
          open: 13,
          managed: 16,
          fullWidth: 5,
          quickOpen: 17,
          anchorElement: 14,
          anchorCorner: 18,
          anchorMargin: 19,
          maxHeight: 20,
          horizontallyCenteredOnViewport: 21,
          openBottomBias: 22,
          neverRestoreFocus: 23,
          isOpen: 24,
          setOpen: 25,
          setAbsolutePosition: 26,
          setIsHoisted: 27,
          isFixed: 28,
          getElement: 29,
        },
        null,
        [-1, -1],
      );
  }
  get isOpen() {
    return this.$$.ctx[24];
  }
  get setOpen() {
    return this.$$.ctx[25];
  }
  get setAbsolutePosition() {
    return this.$$.ctx[26];
  }
  get setIsHoisted() {
    return this.$$.ctx[27];
  }
  get isFixed() {
    return this.$$.ctx[28];
  }
  get getElement() {
    return this.$$.ctx[29];
  }
};
var Uo,
  Wa = {
    MENU_SELECTED_LIST_ITEM: "mdc-menu-item--selected",
    MENU_SELECTION_GROUP: "mdc-menu__selection-group",
    ROOT: "mdc-menu",
  },
  Go = {
    ARIA_CHECKED_ATTR: "aria-checked",
    ARIA_DISABLED_ATTR: "aria-disabled",
    CHECKBOX_SELECTOR: "input[type=\"checkbox\"]",
    LIST_SELECTOR: ".mdc-list,.mdc-deprecated-list",
    SELECTED_EVENT: "MDCMenu:selected",
    SKIP_RESTORE_FOCUS: "data-menu-item-skip-restore-focus",
  },
  ky = { FOCUS_ROOT_INDEX: -1 };
(function(t) {
  t[t.NONE = 0] = "NONE",
    t[t.LIST_ROOT = 1] = "LIST_ROOT",
    t[t.FIRST_ITEM = 2] = "FIRST_ITEM",
    t[t.LAST_ITEM = 3] = "LAST_ITEM";
})(Uo || (Uo = {}));
var Ly = function(t) {
  function e(i) {
    var r = t.call(this, bi(bi({}, e.defaultAdapter), i)) || this;
    return r.closeAnimationEndTimerId = 0,
      r.defaultFocusState = Uo.LIST_ROOT,
      r.selectedIndex = -1,
      r;
  }
  return Sr(e, t),
    Object.defineProperty(e, "cssClasses", {
      get: function() {
        return Wa;
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e, "strings", {
      get: function() {
        return Go;
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e, "numbers", {
      get: function() {
        return ky;
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e, "defaultAdapter", {
      get: function() {
        return {
          addClassToElementAtIndex: function() {},
          removeClassFromElementAtIndex: function() {},
          addAttributeToElementAtIndex: function() {},
          removeAttributeFromElementAtIndex: function() {},
          getAttributeFromElementAtIndex: function() {
            return null;
          },
          elementContainsClass: function() {
            return !1;
          },
          closeSurface: function() {},
          getElementIndex: function() {
            return -1;
          },
          notifySelected: function() {},
          getMenuItemCount: function() {
            return 0;
          },
          focusItemAtIndex: function() {},
          focusListRoot: function() {},
          getSelectedSiblingOfItemAtIndex: function() {
            return -1;
          },
          isSelectableItemAtIndex: function() {
            return !1;
          },
        };
      },
      enumerable: !1,
      configurable: !0,
    }),
    e.prototype.destroy = function() {
      this.closeAnimationEndTimerId
      && clearTimeout(this.closeAnimationEndTimerId),
        this.adapter.closeSurface();
    },
    e.prototype.handleKeydown = function(i) {
      var r = i.key, n = i.keyCode;
      (r === "Tab" || n === 9) && this.adapter.closeSurface(!0);
    },
    e.prototype.handleItemAction = function(i) {
      var r = this, n = this.adapter.getElementIndex(i);
      if (!(n < 0)) {
        this.adapter.notifySelected({ index: n });
        var a =
          this.adapter.getAttributeFromElementAtIndex(n, Go.SKIP_RESTORE_FOCUS)
            === "true";
        this.adapter.closeSurface(a),
          this.closeAnimationEndTimerId = setTimeout(function() {
            var o = r.adapter.getElementIndex(i);
            o >= 0 && r.adapter.isSelectableItemAtIndex(o)
              && r.setSelectedIndex(o);
          }, cf.numbers.TRANSITION_CLOSE_DURATION);
      }
    },
    e.prototype.handleMenuSurfaceOpened = function() {
      switch (this.defaultFocusState) {
        case Uo.FIRST_ITEM:
          this.adapter.focusItemAtIndex(0);
          break;
        case Uo.LAST_ITEM:
          this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount() - 1);
          break;
        case Uo.NONE:
          break;
        default:
          this.adapter.focusListRoot();
      }
    },
    e.prototype.setDefaultFocusState = function(i) {
      this.defaultFocusState = i;
    },
    e.prototype.getSelectedIndex = function() {
      return this.selectedIndex;
    },
    e.prototype.setSelectedIndex = function(i) {
      if (this.validatedIndex(i), !this.adapter.isSelectableItemAtIndex(i)) {
        throw new Error(
          "MDCMenuFoundation: No selection group at specified index.",
        );
      }
      var r = this.adapter.getSelectedSiblingOfItemAtIndex(i);
      r >= 0
      && (this.adapter.removeAttributeFromElementAtIndex(
        r,
        Go.ARIA_CHECKED_ATTR,
      ),
        this.adapter.removeClassFromElementAtIndex(
          r,
          Wa.MENU_SELECTED_LIST_ITEM,
        )),
        this.adapter.addClassToElementAtIndex(i, Wa.MENU_SELECTED_LIST_ITEM),
        this.adapter.addAttributeToElementAtIndex(
          i,
          Go.ARIA_CHECKED_ATTR,
          "true",
        ),
        this.selectedIndex = i;
    },
    e.prototype.setEnabled = function(i, r) {
      this.validatedIndex(i),
        r
          ? (this.adapter.removeClassFromElementAtIndex(
            i,
            Jt.LIST_ITEM_DISABLED_CLASS,
          ),
            this.adapter.addAttributeToElementAtIndex(
              i,
              Go.ARIA_DISABLED_ATTR,
              "false",
            ))
          : (this.adapter.addClassToElementAtIndex(
            i,
            Jt.LIST_ITEM_DISABLED_CLASS,
          ),
            this.adapter.addAttributeToElementAtIndex(
              i,
              Go.ARIA_DISABLED_ATTR,
              "true",
            ));
    },
    e.prototype.validatedIndex = function(i) {
      var r = this.adapter.getMenuItemCount();
      if (!(i >= 0 && i < r)) {
        throw new Error("MDCMenuFoundation: No list item at specified index.");
      }
    },
    e;
}(Er);
function Gk(t) {
  let e, i = t[17].default, r = Ut(i, t, t[22], null);
  return {
    c() {
      r && r.c();
    },
    m(n, a) {
      r && r.m(n, a), e = !0;
    },
    p(n, a) {
      r && r.p && (!e || 4194304 & a)
        && Ht(r, i, n, n[22], e ? Gt(i, n[22], a, null) : jt(n[22]), null);
    },
    i(n) {
      e || (Te(r, n), e = !0);
    },
    o(n) {
      Re(r, n), e = !1;
    },
    d(n) {
      r && r.d(n);
    },
  };
}
function Hk(t) {
  let e,
    i,
    r,
    n = [{ use: t[5] }, { class: Ot({ [t[1]]: !0, "mdc-menu": !0 }) }, t[9]];
  function a(s) {
    t[19](s);
  }
  let o = { $$slots: { default: [Gk] }, $$scope: { ctx: t } };
  for (let s = 0; s < n.length; s += 1) o = st(o, n[s]);
  return t[0] !== void 0 && (o.open = t[0]),
    e = new uf({ props: o }),
    t[18](e),
    bt.push(() => Zr(e, "open", a)),
    e.$on("SMUIMenuSurface:mount", t[7]),
    e.$on("SMUIList:mount", t[8]),
    e.$on("SMUIMenuSurface:opened", t[20]),
    e.$on("keydown", t[6]),
    e.$on("SMUIList:action", t[21]),
    {
      c() {
        Qt(e.$$.fragment);
      },
      m(s, l) {
        Kt(e, s, l), r = !0;
      },
      p(s, [l]) {
        let d = 546 & l
          ? Vt(n, [
            32 & l && { use: s[5] },
            2 & l && { class: Ot({ [s[1]]: !0, "mdc-menu": !0 }) },
            512 & l && Ui(s[9]),
          ])
          : {};
        4194304 & l && (d.$$scope = { dirty: l, ctx: s }),
          !i && 1 & l && (i = !0, d.open = s[0], Kr(() => i = !1)),
          e.$set(d);
      },
      i(s) {
        r || (Te(e.$$.fragment, s), r = !0);
      },
      o(s) {
        Re(e.$$.fragment, s), r = !1;
      },
      d(s) {
        t[18](null), Zt(e, s);
      },
    };
}
function jk(t, e, i) {
  let r,
    n = [
      "use",
      "class",
      "open",
      "isOpen",
      "setOpen",
      "setDefaultFocusState",
      "getSelectedIndex",
      "getMenuSurface",
      "getElement",
    ],
    a = $t(e, n),
    { $$slots: o = {}, $$scope: s } = e,
    { closest: l } = zo,
    d = Li(ui()),
    c,
    u,
    f,
    h,
    { use: x = [] } = e,
    { class: S = "" } = e,
    { open: p = !1 } = e;
  function y() {
    return c.getElement();
  }
  return Bi(() => (i(
    3,
    u = new Ly({
      addClassToElementAtIndex: (E, g) => {
        h.addClassForElementIndex(E, g);
      },
      removeClassFromElementAtIndex: (E, g) => {
        h.removeClassForElementIndex(E, g);
      },
      addAttributeToElementAtIndex: (E, g, _) => {
        h.setAttributeForElementIndex(E, g, _);
      },
      removeAttributeFromElementAtIndex: (E, g) => {
        h.removeAttributeForElementIndex(E, g);
      },
      getAttributeFromElementAtIndex: (E, g) =>
        h.getAttributeFromElementIndex(E, g),
      elementContainsClass: (E, g) => E.classList.contains(g),
      closeSurface: E => {
        f.closeProgrammatic(E), xi(y(), "SMUIMenu:closedProgrammatically");
      },
      getElementIndex: E => h.getOrderedList().map(g => g.element).indexOf(E),
      notifySelected: E =>
        xi(
          y(),
          "SMUIMenu:selected",
          { index: E.index, item: h.getOrderedList()[E.index].element },
          void 0,
          !0,
        ),
      getMenuItemCount: () => h.items.length,
      focusItemAtIndex: E => h.focusItemAtIndex(E),
      focusListRoot: () => "focus" in h.element && h.element.focus(),
      isSelectableItemAtIndex: E =>
        !!l(h.getOrderedList()[E].element, `.${Wa.MENU_SELECTION_GROUP}`),
      getSelectedSiblingOfItemAtIndex: E => {
        let g = h.getOrderedList(),
          _ = l(g[E].element, `.${Wa.MENU_SELECTION_GROUP}`),
          $ = _?.querySelector(`.${Wa.MENU_SELECTED_LIST_ITEM}`);
        return $ ? g.map(z => z.element).indexOf($) : -1;
      },
    }),
  ),
    xi(y(), "SMUIMenu:mount", u),
    u.init(),
    () => {
      u.destroy();
    })
  ),
    t.$$set = E => {
      e = st(st({}, e), Ai(E)),
        i(9, a = $t(e, n)),
        "use" in E && i(10, x = E.use),
        "class" in E && i(1, S = E.class),
        "open" in E && i(0, p = E.open),
        "$$scope" in E && i(22, s = E.$$scope);
    },
    t.$$.update = () => {
      1024 & t.$$.dirty && i(5, r = [d, ...x]);
    },
    [
      p,
      S,
      c,
      u,
      h,
      r,
      function(E) {
        u && u.handleKeydown(E);
      },
      function(E) {
        f || (f = E.detail);
      },
      function(E) {
        h || i(4, h = E.detail);
      },
      a,
      x,
      function() {
        return p;
      },
      function(E) {
        i(0, p = E);
      },
      function(E) {
        u.setDefaultFocusState(E);
      },
      function() {
        return u.getSelectedIndex();
      },
      function() {
        return c;
      },
      y,
      o,
      function(E) {
        bt[E ? "unshift" : "push"](() => {
          c = E, i(2, c);
        });
      },
      function(E) {
        p = E, i(0, p);
      },
      () => u && u.handleMenuSurfaceOpened(),
      E => u && u.handleItemAction(h.getOrderedList()[E.detail.index].element),
      s,
    ];
}
var ff = class extends ri {
  constructor(e) {
    super(),
      si(this, e, jk, Hk, Xt, {
        use: 10,
        class: 1,
        open: 0,
        isOpen: 11,
        setOpen: 12,
        setDefaultFocusState: 13,
        getSelectedIndex: 14,
        getMenuSurface: 15,
        getElement: 16,
      });
  }
  get isOpen() {
    return this.$$.ctx[11];
  }
  get setOpen() {
    return this.$$.ctx[12];
  }
  get setDefaultFocusState() {
    return this.$$.ctx[13];
  }
  get getSelectedIndex() {
    return this.$$.ctx[14];
  }
  get getMenuSurface() {
    return this.$$.ctx[15];
  }
  get getElement() {
    return this.$$.ctx[16];
  }
};
function Vk(t) {
  let e,
    i,
    r,
    n,
    a,
    o,
    s = t[8].default,
    l = Ut(s, t, t[7], null),
    d = [{
      class: i = Ot({
        [t[1]]: !0,
        "mdc-deprecated-list-item__graphic": !0,
        "mdc-menu__selection-group-icon": t[4],
      }),
    }, t[5]],
    c = {};
  for (let u = 0; u < d.length; u += 1) c = st(c, d[u]);
  return {
    c() {
      e = Nt("span"), l && l.c(), pi(e, c);
    },
    m(u, f) {
      rt(u, e, f),
        l && l.m(e, null),
        t[9](e),
        n = !0,
        a
        || (o = [zt(r = Gi.call(null, e, t[0])), zt(t[3].call(null, e))],
          a = !0);
    },
    p(u, [f]) {
      l && l.p && (!n || 128 & f)
      && Ht(l, s, u, u[7], n ? Gt(s, u[7], f, null) : jt(u[7]), null),
        pi(
          e,
          c = Vt(d, [
            (!n
              || 2 & f
                && i
                  !== (i = Ot({
                    [u[1]]: !0,
                    "mdc-deprecated-list-item__graphic": !0,
                    "mdc-menu__selection-group-icon": u[4],
                  }))) && { class: i },
            32 & f && u[5],
          ]),
        ),
        r && oi(r.update) && 1 & f && r.update.call(null, u[0]);
    },
    i(u) {
      n || (Te(l, u), n = !0);
    },
    o(u) {
      Re(l, u), n = !1;
    },
    d(u) {
      u && it(e), l && l.d(u), t[9](null), a = !1, hi(o);
    },
  };
}
function qk(t, e, i) {
  let r = ["use", "class", "getElement"],
    n = $t(e, r),
    { $$slots: a = {}, $$scope: o } = e,
    s = Li(ui()),
    l,
    { use: d = [] } = e,
    { class: c = "" } = e,
    u = Ji("SMUI:list:graphic:menu-selection-group");
  return t.$$set = f => {
    e = st(st({}, e), Ai(f)),
      i(5, n = $t(e, r)),
      "use" in f && i(0, d = f.use),
      "class" in f && i(1, c = f.class),
      "$$scope" in f && i(7, o = f.$$scope);
  },
    [
      d,
      c,
      l,
      s,
      u,
      n,
      function() {
        return l;
      },
      o,
      a,
      function(f) {
        bt[f ? "unshift" : "push"](() => {
          l = f, i(2, l);
        });
      },
    ];
}
var mf = class extends ri {
  constructor(e) {
    super(), si(this, e, qk, Vk, Xt, { use: 0, class: 1, getElement: 6 });
  }
  get getElement() {
    return this.$$.ctx[6];
  }
};
cr({ class: "mdc-menu__selection-group-icon", component: mf });
function Wk(t) {
  let e, i;
  return {
    c() {
      e = wd("svg"),
        i = wd("path"),
        ci(i, "fill", "currentColor"),
        ci(
          i,
          "d",
          "M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",
        ),
        ci(e, "aria-hidden", "true"),
        ci(e, "focusable", "false"),
        ci(e, "data-prefix", "fas"),
        ci(e, "data-icon", "search"),
        ci(e, "class", "svg-inline--fa fa-search fa-w-16"),
        ci(e, "role", "img"),
        ci(e, "xmlns", "http://www.w3.org/2000/svg"),
        Yn(e, "width", "16px"),
        Yn(e, "height", "16px"),
        ci(e, "viewBox", "0 0 512 512");
    },
    m(r, n) {
      rt(r, e, n), Ni(e, i);
    },
    p: di,
    i: di,
    o: di,
    d(r) {
      r && it(e);
    },
  };
}
var hf = class extends ri {
  constructor(e) {
    super(), si(this, e, null, Wk, Xt, {});
  }
};
var Yk =
  ".mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:text;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);left:0;letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);line-height:1.15rem;overflow:hidden;position:absolute;text-align:left;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-overflow:ellipsis;text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit);-webkit-transform-origin:left top;transform-origin:left top;transition:transform .15s cubic-bezier(.4,0,.2,1),color .15s cubic-bezier(.4,0,.2,1);white-space:nowrap;will-change:transform}.mdc-floating-label[dir=rtl],[dir=rtl] .mdc-floating-label{left:auto;right:0;text-align:right;-webkit-transform-origin:right top;transform-origin:right top}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:after{content:\"*\";margin-left:1px;margin-right:0}.mdc-floating-label--required[dir=rtl]:after,[dir=rtl] .mdc-floating-label--required:after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(.75)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard .25s 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(0) translateY(-106%) scale(.75)}33%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(4%) translateY(-106%) scale(.75)}66%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(-4%) translateY(-106%) scale(.75)}to{transform:translateX(0) translateY(-106%) scale(.75)}}.smui-floating-label--remove-transition{transition:unset!important}.smui-floating-label--force-size{position:absolute!important;transform:unset!important}.mdc-line-ripple:after,.mdc-line-ripple:before{border-bottom-style:solid;bottom:0;content:\"\";left:0;position:absolute;width:100%}.mdc-line-ripple:before{border-bottom-width:1px;z-index:1}.mdc-line-ripple:after{border-bottom-width:2px;opacity:0;transform:scaleX(0);transition:transform .18s cubic-bezier(.4,0,.2,1),opacity .18s cubic-bezier(.4,0,.2,1);z-index:2}.mdc-line-ripple--active:after{opacity:1;transform:scaleX(1)}.mdc-line-ripple--deactivating:after{opacity:0}.mdc-deprecated-list{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background,rgba(0,0,0,.87));font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height,1.75rem);line-height:1.5rem;list-style-type:none;margin:0;padding:8px 0;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit)}.mdc-deprecated-list:focus{outline:none}.mdc-deprecated-list-item__secondary-text{color:rgba(0,0,0,.54);color:var(--mdc-theme-text-secondary-on-background,rgba(0,0,0,.54))}.mdc-deprecated-list-item__graphic{background-color:transparent;color:rgba(0,0,0,.38);color:var(--mdc-theme-text-icon-on-background,rgba(0,0,0,.38))}.mdc-deprecated-list-item__meta{color:rgba(0,0,0,.38);color:var(--mdc-theme-text-hint-on-background,rgba(0,0,0,.38))}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__text{opacity:.38}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__primary-text,.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__secondary-text,.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__text{color:#000;color:var(--mdc-theme-on-surface,#000)}.mdc-deprecated-list-item--activated,.mdc-deprecated-list-item--activated .mdc-deprecated-list-item__graphic,.mdc-deprecated-list-item--selected,.mdc-deprecated-list-item--selected .mdc-deprecated-list-item__graphic{color:#6200ee;color:var(--mdc-theme-primary,#6200ee)}.mdc-deprecated-list--dense{font-size:.812rem;padding-bottom:4px;padding-top:4px}.mdc-deprecated-list-item__wrapper{display:block}.mdc-deprecated-list-item{align-items:center;display:flex;height:48px;justify-content:flex-start;overflow:hidden;padding:0 16px;position:relative}.mdc-deprecated-list-item:focus{outline:none}.mdc-deprecated-list-item.mdc-ripple-upgraded--background-focused:before,.mdc-deprecated-list-item:not(.mdc-deprecated-list-item--selected):focus:before{border:1px solid transparent;border-radius:inherit;box-sizing:border-box;content:\"\";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}@media screen and (forced-colors:active){.mdc-deprecated-list-item.mdc-ripple-upgraded--background-focused:before,.mdc-deprecated-list-item:not(.mdc-deprecated-list-item--selected):focus:before{border-color:CanvasText}}.mdc-deprecated-list-item.mdc-deprecated-list-item--selected:before{border:3px double transparent;border-radius:inherit;box-sizing:border-box;content:\"\";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}@media screen and (forced-colors:active){.mdc-deprecated-list-item.mdc-deprecated-list-item--selected:before{border-color:CanvasText}}.mdc-deprecated-list-item[dir=rtl],[dir=rtl] .mdc-deprecated-list-item{padding-left:16px;padding-right:16px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-item{height:56px;padding-left:16px;padding-right:16px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-item[dir=rtl],[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-item{padding-left:16px;padding-right:16px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item{height:56px;padding-left:16px;padding-right:16px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item[dir=rtl],[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-item{padding-left:16px;padding-right:16px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item{height:56px;padding-left:16px;padding-right:16px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item[dir=rtl],[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item{padding-left:16px;padding-right:16px}.mdc-deprecated-list--image-list .mdc-deprecated-list-item{height:72px;padding-left:16px;padding-right:16px}.mdc-deprecated-list--image-list .mdc-deprecated-list-item[dir=rtl],[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-item{padding-left:16px;padding-right:16px}.mdc-deprecated-list--video-list .mdc-deprecated-list-item{height:72px;padding-left:0;padding-right:16px}.mdc-deprecated-list--video-list .mdc-deprecated-list-item[dir=rtl],[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-item{padding-left:16px;padding-right:0}.mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic{height:20px;margin-left:0;margin-right:16px;width:20px}.mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic{margin-left:16px;margin-right:0}.mdc-deprecated-list-item__graphic{fill:currentColor;align-items:center;flex-shrink:0;height:24px;justify-content:center;margin-left:0;margin-right:32px;object-fit:cover;width:24px}.mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list-item__graphic{margin-left:32px;margin-right:0}.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__graphic{height:24px;margin-left:0;margin-right:32px;width:24px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-item__graphic{margin-left:32px;margin-right:0}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__graphic{border-radius:50%;height:40px;margin-left:0;margin-right:16px;width:40px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__graphic{margin-left:16px;margin-right:0}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__graphic{height:40px;margin-left:0;margin-right:16px;width:40px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__graphic{margin-left:16px;margin-right:0}.mdc-deprecated-list--image-list .mdc-deprecated-list-item__graphic{height:56px;margin-left:0;margin-right:16px;width:56px}.mdc-deprecated-list--image-list .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-item__graphic{margin-left:16px;margin-right:0}.mdc-deprecated-list--video-list .mdc-deprecated-list-item__graphic{height:56px;margin-left:0;margin-right:16px;width:100px}.mdc-deprecated-list--video-list .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-item__graphic{margin-left:16px;margin-right:0}.mdc-deprecated-list .mdc-deprecated-list-item__graphic{display:inline-flex}.mdc-deprecated-list-item__meta{margin-left:auto;margin-right:0}.mdc-deprecated-list-item__meta:not(.material-icons){-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-caption-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.75rem;font-size:var(--mdc-typography-caption-font-size,.75rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight,400);letter-spacing:.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing,.0333333333em);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height,1.25rem);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform,inherit)}.mdc-deprecated-list-item[dir=rtl] .mdc-deprecated-list-item__meta,[dir=rtl] .mdc-deprecated-list-item .mdc-deprecated-list-item__meta{margin-left:0;margin-right:auto}.mdc-deprecated-list-item__text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mdc-deprecated-list-item__text[for]{pointer-events:none}.mdc-deprecated-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mdc-deprecated-list-item__primary-text:before{content:\"\";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-deprecated-list-item__primary-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__primary-text,.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__primary-text,.mdc-deprecated-list--image-list .mdc-deprecated-list-item__primary-text,.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__primary-text,.mdc-deprecated-list--video-list .mdc-deprecated-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__primary-text:before,.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__primary-text:before,.mdc-deprecated-list--image-list .mdc-deprecated-list-item__primary-text:before,.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__primary-text:before,.mdc-deprecated-list--video-list .mdc-deprecated-list-item__primary-text:before{content:\"\";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__primary-text:after,.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__primary-text:after,.mdc-deprecated-list--image-list .mdc-deprecated-list-item__primary-text:after,.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__primary-text:after,.mdc-deprecated-list--video-list .mdc-deprecated-list-item__primary-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-deprecated-list--dense .mdc-deprecated-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-deprecated-list--dense .mdc-deprecated-list-item__primary-text:before{content:\"\";display:inline-block;height:24px;vertical-align:0;width:0}.mdc-deprecated-list--dense .mdc-deprecated-list-item__primary-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-deprecated-list-item__secondary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-body2-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.875rem;font-size:var(--mdc-typography-body2-font-size,.875rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight,400);letter-spacing:.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing,.0178571429em);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height,1.25rem);line-height:normal;margin-top:0;overflow:hidden;text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration,inherit);text-overflow:ellipsis;text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform,inherit);white-space:nowrap}.mdc-deprecated-list-item__secondary-text:before{content:\"\";display:inline-block;height:20px;vertical-align:0;width:0}.mdc-deprecated-list--dense .mdc-deprecated-list-item__secondary-text{font-size:inherit}.mdc-deprecated-list--dense .mdc-deprecated-list-item{height:40px}.mdc-deprecated-list--two-line .mdc-deprecated-list-item__text{align-self:flex-start}.mdc-deprecated-list--two-line .mdc-deprecated-list-item{height:64px}.mdc-deprecated-list--two-line.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item,.mdc-deprecated-list--two-line.mdc-deprecated-list--icon-list .mdc-deprecated-list-item,.mdc-deprecated-list--two-line.mdc-deprecated-list--image-list .mdc-deprecated-list-item,.mdc-deprecated-list--two-line.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item,.mdc-deprecated-list--two-line.mdc-deprecated-list--video-list .mdc-deprecated-list-item{height:72px}.mdc-deprecated-list--two-line.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__graphic{align-self:flex-start;margin-top:16px}.mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense .mdc-deprecated-list-item,.mdc-deprecated-list--two-line.mdc-deprecated-list--dense .mdc-deprecated-list-item{height:60px}.mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic{height:36px;margin-left:0;margin-right:16px;width:36px}.mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic{margin-left:16px;margin-right:0}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item{cursor:pointer}a.mdc-deprecated-list-item{color:inherit;text-decoration:none}.mdc-deprecated-list-divider{border:none;border-bottom:1px solid;border-bottom-color:rgba(0,0,0,.12);height:0;margin:0}.mdc-deprecated-list-divider--padded{margin-left:16px;margin-right:0;width:calc(100% - 32px)}.mdc-deprecated-list-divider--padded[dir=rtl],[dir=rtl] .mdc-deprecated-list-divider--padded{margin-left:0;margin-right:16px}.mdc-deprecated-list-divider--inset{margin-left:72px;margin-right:0;width:calc(100% - 72px)}.mdc-deprecated-list-divider--inset[dir=rtl],[dir=rtl] .mdc-deprecated-list-divider--inset{margin-left:0;margin-right:72px}.mdc-deprecated-list-divider--inset.mdc-deprecated-list-divider--padded{margin-left:72px;margin-right:0;width:calc(100% - 88px)}.mdc-deprecated-list-divider--inset.mdc-deprecated-list-divider--padded[dir=rtl],[dir=rtl] .mdc-deprecated-list-divider--inset.mdc-deprecated-list-divider--padded{margin-left:0;margin-right:72px}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading{margin-left:16px;margin-right:0;width:calc(100% - 16px)}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading[dir=rtl],[dir=rtl] .mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading{margin-left:0;margin-right:16px}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:16px;margin-right:0;width:calc(100% - 32px)}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl],[dir=rtl] .mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:0;margin-right:16px}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl],[dir=rtl] .mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0;margin-right:16px}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl],[dir=rtl] .mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading{margin-left:72px;margin-right:0;width:calc(100% - 72px)}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading[dir=rtl],[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading{margin-left:0;margin-right:72px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:72px;margin-right:0;width:calc(100% - 88px)}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl],[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:0;margin-right:72px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading{margin-left:72px;margin-right:0;width:calc(100% - 72px)}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading[dir=rtl],[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading{margin-left:0;margin-right:72px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:72px;margin-right:0;width:calc(100% - 88px)}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl],[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:0;margin-right:72px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading{margin-left:72px;margin-right:0;width:calc(100% - 72px)}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading[dir=rtl],[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading{margin-left:0;margin-right:72px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:72px;margin-right:0;width:calc(100% - 88px)}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl],[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:0;margin-right:72px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading{margin-left:88px;margin-right:0;width:calc(100% - 88px)}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading[dir=rtl],[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading{margin-left:0;margin-right:88px}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:88px;margin-right:0;width:calc(100% - 104px)}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl],[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:0;margin-right:88px}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading{margin-left:116px;margin-right:0;width:calc(100% - 116px)}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading[dir=rtl],[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading{margin-left:0;margin-right:116px}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:116px;margin-right:0;width:calc(100% - 132px)}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl],[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:0;margin-right:116px}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0;margin-right:0;width:100%}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0;margin-right:0}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0;margin-right:0;width:calc(100% - 16px)}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0;margin-right:0}.mdc-deprecated-list-group .mdc-deprecated-list{padding:0}.mdc-deprecated-list-group__subheader{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height,1.75rem);margin:.75rem 16px;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit)}.mdc-list-item__primary-text{color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background,rgba(0,0,0,.87))}.mdc-list-item__secondary-text{color:rgba(0,0,0,.54);color:var(--mdc-theme-text-secondary-on-background,rgba(0,0,0,.54))}.mdc-list-item__overline-text{color:rgba(0,0,0,.38);color:var(--mdc-theme-text-hint-on-background,rgba(0,0,0,.38))}.mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-trailing-icon .mdc-list-item__end{background-color:transparent;color:rgba(0,0,0,.38);color:var(--mdc-theme-text-icon-on-background,rgba(0,0,0,.38))}.mdc-list-item__end{color:rgba(0,0,0,.38);color:var(--mdc-theme-text-hint-on-background,rgba(0,0,0,.38))}.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end,.mdc-list-item--disabled .mdc-list-item__start{opacity:.38}.mdc-list-item--disabled .mdc-list-item__overline-text,.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--disabled.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:#000;color:var(--mdc-theme-on-surface,#000)}.mdc-list-item--activated .mdc-list-item__primary-text,.mdc-list-item--activated.mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--selected .mdc-list-item__primary-text,.mdc-list-item--selected.mdc-list-item--with-leading-icon .mdc-list-item__start{color:#6200ee;color:var(--mdc-theme-primary,#6200ee)}.mdc-deprecated-list-group__subheader{color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background,rgba(0,0,0,.87))}@media (-ms-high-contrast:active),screen and (forced-colors:active){.mdc-list-divider:after{border-bottom:1px solid #fff;content:\"\";display:block}}.mdc-list{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height,1.75rem);line-height:1.5rem;list-style-type:none;margin:0;padding:8px 0;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit)}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{align-items:center;align-items:stretch;cursor:pointer;display:flex;justify-content:flex-start;overflow:hidden;padding:0;position:relative}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start,.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end,.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item.mdc-ripple-upgraded--background-focused:before,.mdc-list-item:not(.mdc-list-item--selected):focus:before{border:1px solid transparent;border-radius:inherit;box-sizing:border-box;content:\"\";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}@media screen and (forced-colors:active){.mdc-list-item.mdc-ripple-upgraded--background-focused:before,.mdc-list-item:not(.mdc-list-item--selected):focus:before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:before{border:3px double transparent;border-radius:inherit;box-sizing:border-box;content:\"\";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}@media screen and (forced-colors:active){.mdc-list-item.mdc-list-item--selected:before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus:before{border:3px solid transparent;border-radius:inherit;box-sizing:border-box;content:\"\";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}@media screen and (forced-colors:active){.mdc-list-item.mdc-list-item--selected:focus:before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor}.mdc-list-item__end,.mdc-list-item__start{flex-shrink:0;pointer-events:none}.mdc-list-item__content{align-self:center;flex:1;overflow:hidden;pointer-events:none;text-overflow:ellipsis;white-space:nowrap}.mdc-list-item--with-three-lines .mdc-list-item__content,.mdc-list-item--with-two-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height,1.75rem);overflow:hidden;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-overflow:ellipsis;text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit);white-space:nowrap}.mdc-list-item--with-three-lines .mdc-list-item__primary-text,.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-three-lines .mdc-list-item__primary-text:before,.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:\"\";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-three-lines .mdc-list-item__primary-text:after,.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item__secondary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-body2-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.875rem;font-size:var(--mdc-typography-body2-font-size,.875rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight,400);letter-spacing:.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing,.0178571429em);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height,1.25rem);line-height:normal;margin-top:0;overflow:hidden;text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration,inherit);text-overflow:ellipsis;text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform,inherit);white-space:nowrap}.mdc-list-item__secondary-text:before{content:\"\";display:inline-block;height:20px;vertical-align:0;width:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{line-height:20px;white-space:normal}.mdc-list-item--with-overline .mdc-list-item__secondary-text{line-height:auto;white-space:nowrap}.mdc-list-item__overline-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-overline-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.75rem;font-size:var(--mdc-typography-overline-font-size,.75rem);font-weight:500;font-weight:var(--mdc-typography-overline-font-weight,500);letter-spacing:.1666666667em;letter-spacing:var(--mdc-typography-overline-letter-spacing,.1666666667em);line-height:2rem;line-height:var(--mdc-typography-overline-line-height,2rem);overflow:hidden;text-decoration:none;text-decoration:var(--mdc-typography-overline-text-decoration,none);text-overflow:ellipsis;text-transform:uppercase;text-transform:var(--mdc-typography-overline-text-transform,uppercase);white-space:nowrap}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:\"\";display:inline-block;height:24px;vertical-align:0;width:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text:before{content:\"\";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{height:40px;width:40px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:\"\";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:\"\";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:\"\";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon .mdc-list-item__start{height:24px;width:24px}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:\"\";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:\"\";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:\"\";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{height:40px;width:40px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:\"\";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:\"\";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:\"\";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image .mdc-list-item__start{height:56px;width:56px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:\"\";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:\"\";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:\"\";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line,.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{height:56px;width:100px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:\"\";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:\"\";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:\"\";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line,.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{height:40px;width:40px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:\"\";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:\"\";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:\"\";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio .mdc-list-item__start{height:40px;width:40px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:\"\";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:\"\";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:\"\";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch .mdc-list-item__start{height:20px;width:36px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:\"\";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:\"\";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:\"\";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:\"\";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-icon .mdc-list-item__end{height:24px;width:24px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end:before{content:\"\";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end:before{content:\"\";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-caption-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.75rem;font-size:var(--mdc-typography-caption-font-size,.75rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight,400);letter-spacing:.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing,.0333333333em);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height,1.25rem);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform,inherit)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{height:40px;width:40px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio .mdc-list-item__end{height:40px;width:40px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch .mdc-list-item__end{height:20px;width:36px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:\"\";display:inline-block;height:20px;vertical-align:0;width:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text:before{content:\"\";display:inline-block;height:20px;vertical-align:0;width:0}.mdc-list-item,.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height,1.75rem);margin:.75rem 16px;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit)}.mdc-list-divider{background-clip:content-box;background-color:rgba(0,0,0,.12);height:1px;padding:0}.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset{padding-left:auto;padding-right:16px}.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl],[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:auto;padding-right:0}.mdc-list-divider[dir=rtl],[dir=rtl] .mdc-list-divider{padding:0}@keyframes mdc-ripple-fg-radius-in{0%{animation-timing-function:cubic-bezier(.4,0,.2,1);transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}}@keyframes mdc-ripple-fg-opacity-in{0%{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity,0)}}@keyframes mdc-ripple-fg-opacity-out{0%{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity,0)}to{opacity:0}}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:before{border-radius:50%;content:\"\";opacity:0;pointer-events:none;position:absolute}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple:before{transform:scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple:after{left:0;top:0;transform:scale(0);transform-origin:center center}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--unbounded .mdc-deprecated-list-item__ripple:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--foreground-activation .mdc-deprecated-list-item__ripple:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--foreground-deactivation .mdc-deprecated-list-item__ripple:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:before{border-radius:50%;content:\"\";opacity:0;pointer-events:none;position:absolute}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-list-item__ripple:before{transform:scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-list-item__ripple:after{left:0;top:0;transform:scale(0);transform-origin:center center}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--unbounded .mdc-list-item__ripple:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--foreground-activation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--foreground-deactivation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:before{height:200%;left:-50%;top:-50%;width:200%}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:before{height:200%;left:-50%;top:-50%;width:200%}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-list-item__ripple:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:before{background-color:#000;background-color:var(--mdc-ripple-color,#000)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-surface--hover .mdc-deprecated-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:hover .mdc-deprecated-list-item__ripple:before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity,.04)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--background-focused .mdc-deprecated-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded):focus .mdc-deprecated-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded) .mdc-deprecated-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded):active .mdc-deprecated-list-item__ripple:after{opacity:.12;opacity:var(--mdc-ripple-press-opacity,.12);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:before{background-color:#000;background-color:var(--mdc-ripple-color,#000)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-surface--hover .mdc-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:hover .mdc-list-item__ripple:before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity,.04)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded) .mdc-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple:after{opacity:.12;opacity:var(--mdc-ripple-press-opacity,.12);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-deprecated-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-activated-opacity,.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-deprecated-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-deprecated-list-item__ripple:before{background-color:#6200ee;background-color:var(--mdc-ripple-color,var(--mdc-theme-primary,#6200ee))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated.mdc-ripple-surface--hover .mdc-deprecated-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:hover .mdc-deprecated-list-item__ripple:before{opacity:.16;opacity:var(--mdc-ripple-hover-opacity,.16)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated.mdc-ripple-upgraded--background-focused .mdc-deprecated-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded):focus .mdc-deprecated-list-item__ripple:before{opacity:.24;opacity:var(--mdc-ripple-focus-opacity,.24);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded) .mdc-deprecated-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded):active .mdc-deprecated-list-item__ripple:after{opacity:.24;opacity:var(--mdc-ripple-press-opacity,.24);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-activated-opacity,.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-list-item__ripple:before{background-color:#6200ee;background-color:var(--mdc-ripple-color,var(--mdc-theme-primary,#6200ee))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated.mdc-ripple-surface--hover .mdc-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:hover .mdc-list-item__ripple:before{opacity:.16;opacity:var(--mdc-ripple-hover-opacity,.16)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.24;opacity:var(--mdc-ripple-focus-opacity,.24);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded) .mdc-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple:after{opacity:.24;opacity:var(--mdc-ripple-press-opacity,.24);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.24)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-deprecated-list-item__ripple:before{opacity:.08;opacity:var(--mdc-ripple-selected-opacity,.08)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-deprecated-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-deprecated-list-item__ripple:before{background-color:#6200ee;background-color:var(--mdc-ripple-color,var(--mdc-theme-primary,#6200ee))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected.mdc-ripple-surface--hover .mdc-deprecated-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:hover .mdc-deprecated-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-hover-opacity,.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected.mdc-ripple-upgraded--background-focused .mdc-deprecated-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):focus .mdc-deprecated-list-item__ripple:before{opacity:.2;opacity:var(--mdc-ripple-focus-opacity,.2);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded) .mdc-deprecated-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):active .mdc-deprecated-list-item__ripple:after{opacity:.2;opacity:var(--mdc-ripple-press-opacity,.2);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-list-item__ripple:before{opacity:.08;opacity:var(--mdc-ripple-selected-opacity,.08)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-list-item__ripple:before{background-color:#6200ee;background-color:var(--mdc-ripple-color,var(--mdc-theme-primary,#6200ee))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected.mdc-ripple-surface--hover .mdc-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:hover .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-hover-opacity,.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.2;opacity:var(--mdc-ripple-focus-opacity,.2);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded) .mdc-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple:after{opacity:.2;opacity:var(--mdc-ripple-press-opacity,.2);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.2)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.mdc-deprecated-list-item--disabled{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:after,.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:before{border-radius:50%;content:\"\";opacity:0;pointer-events:none;position:absolute}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple:before{transform:scale(var(--mdc-ripple-fg-scale,1))}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple:after{left:0;top:0;transform:scale(0);transform-origin:center center}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--unbounded .mdc-deprecated-list-item__ripple:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--foreground-activation .mdc-deprecated-list-item__ripple:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--foreground-deactivation .mdc-deprecated-list-item__ripple:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:after,.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:before{border-radius:50%;content:\"\";opacity:0;pointer-events:none;position:absolute}.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple:before{transform:scale(var(--mdc-ripple-fg-scale,1))}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple:after{left:0;top:0;transform:scale(0);transform-origin:center center}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--unbounded .mdc-list-item__ripple:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--foreground-activation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--foreground-deactivation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:after,.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:before{height:200%;left:-50%;top:-50%;width:200%}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:after,.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:before{height:200%;left:-50%;top:-50%;width:200%}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:after,.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:before,.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:after,.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:before{background-color:#000;background-color:var(--mdc-ripple-color,#000)}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--background-focused .mdc-deprecated-list-item__ripple:before,.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,.mdc-deprecated-list-item--disabled:not(.mdc-ripple-upgraded):focus .mdc-deprecated-list-item__ripple:before,.mdc-deprecated-list-item--disabled:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple,.mdc-deprecated-list-item--disabled .mdc-list-item__ripple{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}:not(.mdc-list-item--disabled).mdc-list-item{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:after,:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:before{border-radius:50%;content:\"\";opacity:0;pointer-events:none;position:absolute}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded .mdc-list-item__ripple:before{transform:scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded .mdc-list-item__ripple:after{left:0;top:0;transform:scale(0);transform-origin:center center}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--unbounded .mdc-list-item__ripple:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--foreground-activation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--foreground-deactivation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:after,:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:before{height:200%;left:-50%;top:-50%;width:200%}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded .mdc-list-item__ripple:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:after,:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:before{background-color:#000;background-color:var(--mdc-ripple-color,#000)}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-surface--hover .mdc-list-item__ripple:before,:not(.mdc-list-item--disabled).mdc-list-item:hover .mdc-list-item__ripple:before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity,.04)}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,:not(.mdc-list-item--disabled).mdc-list-item:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}:not(.mdc-list-item--disabled).mdc-list-item:not(.mdc-ripple-upgraded) .mdc-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-list-item--disabled).mdc-list-item:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple:after{opacity:.12;opacity:var(--mdc-ripple-press-opacity,.12);transition-duration:75ms}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.12)}:not(.mdc-list-item--disabled).mdc-list-item--activated .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-activated-opacity,.12)}:not(.mdc-list-item--disabled).mdc-list-item--activated .mdc-list-item__ripple:after,:not(.mdc-list-item--disabled).mdc-list-item--activated .mdc-list-item__ripple:before{background-color:#6200ee;background-color:var(--mdc-ripple-color,var(--mdc-theme-primary,#6200ee))}:not(.mdc-list-item--disabled).mdc-list-item--activated.mdc-ripple-surface--hover .mdc-list-item__ripple:before,:not(.mdc-list-item--disabled).mdc-list-item--activated:hover .mdc-list-item__ripple:before{opacity:.16;opacity:var(--mdc-ripple-hover-opacity,.16)}:not(.mdc-list-item--disabled).mdc-list-item--activated.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,:not(.mdc-list-item--disabled).mdc-list-item--activated:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.24;opacity:var(--mdc-ripple-focus-opacity,.24);transition-duration:75ms}:not(.mdc-list-item--disabled).mdc-list-item--activated:not(.mdc-ripple-upgraded) .mdc-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-list-item--disabled).mdc-list-item--activated:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple:after{opacity:.24;opacity:var(--mdc-ripple-press-opacity,.24);transition-duration:75ms}:not(.mdc-list-item--disabled).mdc-list-item--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.24)}:not(.mdc-list-item--disabled).mdc-list-item--selected .mdc-list-item__ripple:before{opacity:.08;opacity:var(--mdc-ripple-selected-opacity,.08)}:not(.mdc-list-item--disabled).mdc-list-item--selected .mdc-list-item__ripple:after,:not(.mdc-list-item--disabled).mdc-list-item--selected .mdc-list-item__ripple:before{background-color:#6200ee;background-color:var(--mdc-ripple-color,var(--mdc-theme-primary,#6200ee))}:not(.mdc-list-item--disabled).mdc-list-item--selected.mdc-ripple-surface--hover .mdc-list-item__ripple:before,:not(.mdc-list-item--disabled).mdc-list-item--selected:hover .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-hover-opacity,.12)}:not(.mdc-list-item--disabled).mdc-list-item--selected.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,:not(.mdc-list-item--disabled).mdc-list-item--selected:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.2;opacity:var(--mdc-ripple-focus-opacity,.2);transition-duration:75ms}:not(.mdc-list-item--disabled).mdc-list-item--selected:not(.mdc-ripple-upgraded) .mdc-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-list-item--disabled).mdc-list-item--selected:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple:after{opacity:.2;opacity:var(--mdc-ripple-press-opacity,.2);transition-duration:75ms}:not(.mdc-list-item--disabled).mdc-list-item--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.2)}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.mdc-list-item--disabled{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-list-item--disabled .mdc-list-item__ripple:after,.mdc-list-item--disabled .mdc-list-item__ripple:before{border-radius:50%;content:\"\";opacity:0;pointer-events:none;position:absolute}.mdc-list-item--disabled .mdc-list-item__ripple:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}.mdc-list-item--disabled .mdc-list-item__ripple:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}.mdc-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple:before{transform:scale(var(--mdc-ripple-fg-scale,1))}.mdc-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple:after{left:0;top:0;transform:scale(0);transform-origin:center center}.mdc-list-item--disabled.mdc-ripple-upgraded--unbounded .mdc-list-item__ripple:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}.mdc-list-item--disabled.mdc-ripple-upgraded--foreground-activation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-list-item--disabled.mdc-ripple-upgraded--foreground-deactivation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}.mdc-list-item--disabled .mdc-list-item__ripple:after,.mdc-list-item--disabled .mdc-list-item__ripple:before{height:200%;left:-50%;top:-50%;width:200%}.mdc-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}.mdc-list-item--disabled .mdc-list-item__ripple:after,.mdc-list-item--disabled .mdc-list-item__ripple:before{background-color:#000;background-color:var(--mdc-ripple-color,#000)}.mdc-list-item--disabled.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,.mdc-list-item--disabled:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}.mdc-list-item--disabled .mdc-list-item__ripple{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.mdc-ripple-surface{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:none;overflow:hidden;position:relative;will-change:transform,opacity}.mdc-ripple-surface:after,.mdc-ripple-surface:before{border-radius:50%;content:\"\";opacity:0;pointer-events:none;position:absolute}.mdc-ripple-surface:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}.mdc-ripple-surface:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}.mdc-ripple-surface.mdc-ripple-upgraded:before{transform:scale(var(--mdc-ripple-fg-scale,1))}.mdc-ripple-surface.mdc-ripple-upgraded:after{left:0;top:0;transform:scale(0);transform-origin:center center}.mdc-ripple-surface.mdc-ripple-upgraded--unbounded:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-activation:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-deactivation:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}.mdc-ripple-surface:after,.mdc-ripple-surface:before{height:200%;left:-50%;top:-50%;width:200%}.mdc-ripple-surface.mdc-ripple-upgraded:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}.mdc-ripple-surface[data-mdc-ripple-is-unbounded],.mdc-ripple-upgraded--unbounded{overflow:visible}.mdc-ripple-surface[data-mdc-ripple-is-unbounded]:after,.mdc-ripple-surface[data-mdc-ripple-is-unbounded]:before,.mdc-ripple-upgraded--unbounded:after,.mdc-ripple-upgraded--unbounded:before{height:100%;left:0;top:0;width:100%}.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded:after,.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded:before,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded:after,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded:before{height:var(--mdc-ripple-fg-size,100%);left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0);width:var(--mdc-ripple-fg-size,100%)}.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded:after,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}.mdc-ripple-surface:after,.mdc-ripple-surface:before{background-color:#000;background-color:var(--mdc-ripple-color,#000)}.mdc-ripple-surface.mdc-ripple-surface--hover:before,.mdc-ripple-surface:hover:before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity,.04)}.mdc-ripple-surface.mdc-ripple-upgraded--background-focused:before,.mdc-ripple-surface:not(.mdc-ripple-upgraded):focus:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}.mdc-ripple-surface:not(.mdc-ripple-upgraded):after{transition:opacity .15s linear}.mdc-ripple-surface:not(.mdc-ripple-upgraded):active:after{opacity:.12;opacity:var(--mdc-ripple-press-opacity,.12);transition-duration:75ms}.mdc-ripple-surface.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.12)}.smui-ripple-surface--primary:after,.smui-ripple-surface--primary:before{background-color:#6200ee;background-color:var(--mdc-ripple-color,var(--mdc-theme-primary,#6200ee))}.smui-ripple-surface--primary.mdc-ripple-surface--hover:before,.smui-ripple-surface--primary:hover:before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity,.04)}.smui-ripple-surface--primary.mdc-ripple-upgraded--background-focused:before,.smui-ripple-surface--primary:not(.mdc-ripple-upgraded):focus:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}.smui-ripple-surface--primary:not(.mdc-ripple-upgraded):after{transition:opacity .15s linear}.smui-ripple-surface--primary:not(.mdc-ripple-upgraded):active:after{opacity:.12;opacity:var(--mdc-ripple-press-opacity,.12);transition-duration:75ms}.smui-ripple-surface--primary.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.12)}.smui-ripple-surface--secondary:after,.smui-ripple-surface--secondary:before{background-color:#018786;background-color:var(--mdc-ripple-color,var(--mdc-theme-secondary,#018786))}.smui-ripple-surface--secondary.mdc-ripple-surface--hover:before,.smui-ripple-surface--secondary:hover:before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity,.04)}.smui-ripple-surface--secondary.mdc-ripple-upgraded--background-focused:before,.smui-ripple-surface--secondary:not(.mdc-ripple-upgraded):focus:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}.smui-ripple-surface--secondary:not(.mdc-ripple-upgraded):after{transition:opacity .15s linear}.smui-ripple-surface--secondary:not(.mdc-ripple-upgraded):active:after{opacity:.12;opacity:var(--mdc-ripple-press-opacity,.12);transition-duration:75ms}.smui-ripple-surface--secondary.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.12)}.smui-list--three-line .mdc-deprecated-list-item__text{align-self:flex-start}.smui-list--three-line .mdc-deprecated-list-item{height:88px}.smui-list--three-line.mdc-deprecated-list--dense .mdc-deprecated-list-item{height:76px}.mdc-deprecated-list-item.smui-menu-item--non-interactive{cursor:auto}.mdc-elevation-overlay{background-color:#fff;background-color:var(--mdc-elevation-overlay-color,#fff);border-radius:inherit;opacity:0;opacity:var(--mdc-elevation-overlay-opacity,0);pointer-events:none;position:absolute;transition:opacity .28s cubic-bezier(.4,0,.2,1)}.mdc-menu{min-width:112px;min-width:var(--mdc-menu-min-width,112px)}.mdc-menu .mdc-deprecated-list-item__graphic,.mdc-menu .mdc-deprecated-list-item__meta{color:rgba(0,0,0,.87)}.mdc-menu .mdc-menu-item--submenu-open .mdc-deprecated-list-item__ripple:before,.mdc-menu .mdc-menu-item--submenu-open .mdc-list-item__ripple:before{opacity:.04}.mdc-menu .mdc-deprecated-list{color:rgba(0,0,0,.87)}.mdc-menu .mdc-deprecated-list,.mdc-menu .mdc-list{position:relative}.mdc-menu .mdc-deprecated-list .mdc-elevation-overlay,.mdc-menu .mdc-list .mdc-elevation-overlay{height:100%;left:0;top:0;width:100%}.mdc-menu .mdc-deprecated-list-divider{margin:8px 0}.mdc-menu .mdc-deprecated-list-item{user-select:none}.mdc-menu .mdc-deprecated-list-item--disabled{cursor:auto}.mdc-menu a.mdc-deprecated-list-item .mdc-deprecated-list-item__graphic,.mdc-menu a.mdc-deprecated-list-item .mdc-deprecated-list-item__text{pointer-events:none}.mdc-menu__selection-group{fill:currentColor;padding:0}.mdc-menu__selection-group .mdc-deprecated-list-item{padding-left:56px;padding-right:16px}.mdc-menu__selection-group .mdc-deprecated-list-item[dir=rtl],[dir=rtl] .mdc-menu__selection-group .mdc-deprecated-list-item{padding-left:16px;padding-right:56px}.mdc-menu__selection-group .mdc-menu__selection-group-icon{display:none;left:16px;position:absolute;right:auto;top:50%;transform:translateY(-50%)}.mdc-menu__selection-group .mdc-menu__selection-group-icon[dir=rtl],[dir=rtl] .mdc-menu__selection-group .mdc-menu__selection-group-icon{left:auto;right:16px}.mdc-menu-item--selected .mdc-menu__selection-group-icon{display:inline}.mdc-menu-surface{transform-origin-left:top left;transform-origin-right:top right;background-color:#fff;background-color:var(--mdc-theme-surface,#fff);border-radius:4px;border-radius:var(--mdc-shape-medium,4px);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-sizing:border-box;color:#000;color:var(--mdc-theme-on-surface,#000);display:none;margin:0;max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height,calc(100vh - 32px));max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width,calc(100vw - 32px));opacity:0;overflow:auto;padding:0;position:absolute;transform:scale(1);transform-origin:top left;transition:opacity .03s linear,transform .12s cubic-bezier(0,0,.2,1),height .25s cubic-bezier(0,0,.2,1);will-change:transform,opacity;z-index:8}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;opacity:0;transform:scale(.8)}.mdc-menu-surface--open{display:inline-block;opacity:1;transform:scale(1)}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0;transition:opacity 75ms linear}.mdc-menu-surface[dir=rtl],[dir=rtl] .mdc-menu-surface{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{overflow:visible;position:relative}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.smui-menu-surface--static{display:inline-block;opacity:1;position:static;transform:scale(1);z-index:0}.mdc-menu__selection-group .mdc-list-item__graphic.mdc-menu__selection-group-icon{display:none}.mdc-menu-item--selected .mdc-list-item__graphic.mdc-menu__selection-group-icon{display:inline}.mdc-notched-outline{box-sizing:border-box;display:flex;height:100%;left:0;max-width:100%;pointer-events:none;position:absolute;right:0;text-align:left;top:0;width:100%}.mdc-notched-outline[dir=rtl],[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-bottom:1px solid;border-top:1px solid;box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}.mdc-notched-outline__leading[dir=rtl],.mdc-notched-outline__trailing,[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__trailing[dir=rtl],[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;max-width:calc(100% - 24px);width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;max-width:100%;position:relative}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{border-top:none;padding-left:0;padding-right:8px}.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl],[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-text-field--filled{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-text-field--filled .mdc-text-field__ripple:after,.mdc-text-field--filled .mdc-text-field__ripple:before{border-radius:50%;content:\"\";opacity:0;pointer-events:none;position:absolute}.mdc-text-field--filled .mdc-text-field__ripple:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}.mdc-text-field--filled .mdc-text-field__ripple:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple:before{transform:scale(var(--mdc-ripple-fg-scale,1))}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple:after{left:0;top:0;transform:scale(0);transform-origin:center center}.mdc-text-field--filled.mdc-ripple-upgraded--unbounded .mdc-text-field__ripple:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-activation .mdc-text-field__ripple:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-deactivation .mdc-text-field__ripple:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}.mdc-text-field--filled .mdc-text-field__ripple:after,.mdc-text-field--filled .mdc-text-field__ripple:before{height:200%;left:-50%;top:-50%;width:200%}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}.mdc-text-field__ripple{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.mdc-text-field{align-items:baseline;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small,4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small,4px);box-sizing:border-box;display:inline-flex;overflow:hidden;padding:0 16px;position:relative;will-change:opacity,transform,color}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(0,0,0,.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input{color:rgba(0,0,0,.87)}@media{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:rgba(0,0,0,.54)}}@media{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:rgba(0,0,0,.54)}}.mdc-text-field .mdc-text-field__input{caret-color:#6200ee;caret-color:var(--mdc-theme-primary,#6200ee)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field-character-counter,.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-character-counter,.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0,0,0,.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--leading,.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:rgba(0,0,0,.54)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix,.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:rgba(0,0,0,.6)}.mdc-text-field .mdc-floating-label{pointer-events:none;top:50%;transform:translateY(-50%)}.mdc-text-field__input{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;appearance:none;background:none;border:none;border-radius:0;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);height:28px;letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);min-width:0;padding:0;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit);transition:opacity .15s cubic-bezier(.4,0,.2,1) 0ms;width:100%}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media{.mdc-text-field__input::placeholder{opacity:0;transition:opacity 67ms cubic-bezier(.4,0,.2,1) 0ms}}@media{.mdc-text-field__input:-ms-input-placeholder{opacity:0;transition:opacity 67ms cubic-bezier(.4,0,.2,1) 0ms}}@media{.mdc-text-field--focused .mdc-text-field__input::placeholder,.mdc-text-field--no-label .mdc-text-field__input::placeholder{opacity:1;transition-delay:40ms;transition-duration:.11s}}@media{.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder{opacity:1;transition-delay:40ms;transition-duration:.11s}}.mdc-text-field__affix{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);height:28px;letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);opacity:0;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit);transition:opacity .15s cubic-bezier(.4,0,.2,1) 0ms;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens:none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}.mdc-text-field__affix--prefix[dir=rtl],[dir=rtl] .mdc-text-field__affix--prefix{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl],.mdc-text-field__affix--suffix,[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix[dir=rtl],[dir=rtl] .mdc-text-field__affix--suffix{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl],[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled .mdc-text-field__ripple:after,.mdc-text-field--filled .mdc-text-field__ripple:before{background-color:rgba(0,0,0,.87);background-color:var(--mdc-ripple-color,rgba(0,0,0,.87))}.mdc-text-field--filled.mdc-ripple-surface--hover .mdc-text-field__ripple:before,.mdc-text-field--filled:hover .mdc-text-field__ripple:before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity,.04)}.mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple:before,.mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}.mdc-text-field--filled:before{content:\"\";display:inline-block;height:40px;vertical-align:0;width:0}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#f5f5f5}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom-color:rgba(0,0,0,.42)}.mdc-text-field--filled:not(.mdc-text-field--disabled):hover .mdc-line-ripple:before{border-bottom-color:rgba(0,0,0,.87)}.mdc-text-field--filled .mdc-line-ripple:after{border-bottom-color:#6200ee;border-bottom-color:var(--mdc-theme-primary,#6200ee)}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}.mdc-text-field--filled .mdc-floating-label[dir=rtl],[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--no-label:before{display:none}@supports(-webkit-hyphens:none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem;transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem;transform:translateY(-34.75px) scale(.75)}.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined .25s 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(0) translateY(-34.75px) scale(.75)}33%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(4%) translateY(-34.75px) scale(.75)}66%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(-4%) translateY(-34.75px) scale(.75)}to{transform:translateX(0) translateY(-34.75px) scale(.75)}}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:rgba(0,0,0,.38)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:rgba(0,0,0,.87)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#6200ee;border-color:var(--mdc-theme-primary,#6200ee)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small,4px);border-bottom-right-radius:0;border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small,4px);border-top-right-radius:0}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl],[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-bottom-left-radius:0;border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small,4px);border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small,4px)}@supports(top:max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small,4px))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-bottom-left-radius:0;border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small,4px);border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small,4px)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl],[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small,4px);border-bottom-right-radius:0;border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small,4px);border-top-right-radius:0}@supports(top:max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small,4px))}.mdc-text-field--outlined,.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small,4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top:max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small,4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl],[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:0}@supports(top:max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl],[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:max(16px,var(--mdc-shape-small,4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top:max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl],[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:0}@supports(top:max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl],[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-text-field__ripple:after,.mdc-text-field--outlined .mdc-text-field__ripple:before{background-color:transparent;background-color:var(--mdc-ripple-color,transparent)}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}.mdc-text-field--outlined .mdc-floating-label[dir=rtl],[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--outlined .mdc-text-field__input{background-color:transparent;border:none!important;display:flex}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{align-items:center;flex-direction:column;height:auto;padding:0;transition:none;width:auto}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{box-sizing:border-box;flex-grow:1;height:auto;line-height:1.5rem;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;padding:0 16px;resize:none}.mdc-text-field--textarea.mdc-text-field--filled:before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled .25s 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(0) translateY(-10.25px) scale(.75)}33%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(4%) translateY(-10.25px) scale(.75)}66%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(-4%) translateY(-10.25px) scale(.75)}to{transform:translateX(0) translateY(-10.25px) scale(.75)}}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-bottom:9px;margin-top:23px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-bottom:16px;margin-top:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem;transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem;transform:translateY(-24.75px) scale(.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined .25s 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(0) translateY(-24.75px) scale(.75)}33%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(4%) translateY(-24.75px) scale(.75)}66%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(-4%) translateY(-24.75px) scale(.75)}to{transform:translateX(0) translateY(-24.75px) scale(.75)}}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-bottom:16px;margin-top:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter:after{content:\"\";display:inline-block;height:16px;vertical-align:-16px;width:0}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter:before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl],[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input{transform:translateX(1px) translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}.mdc-text-field--with-leading-icon[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{left:48px;max-width:calc(100% - 48px);right:auto}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{left:auto;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(133.33333% - 85.33333px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:auto}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:auto;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(32px) scale(.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon .25s 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(-32px) translateY(-34.75px) scale(.75)}33%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(.75)}66%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(.75)}to{transform:translateX(-32px) translateY(-34.75px) scale(.75)}}.mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon .25s 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(32px) translateY(-34.75px) scale(.75)}33%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(calc(4% + 32px)) translateY(-34.75px) scale(.75)}66%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(calc(-4% + 32px)) translateY(-34.75px) scale(.75)}to{transform:translateX(32px) translateY(-34.75px) scale(.75)}}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}.mdc-text-field--with-trailing-icon[dir=rtl],[dir=rtl] .mdc-text-field--with-trailing-icon{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(133.33333% - 85.33333px)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(133.33333% - 128px)}.mdc-text-field-helper-line{box-sizing:border-box;display:flex;justify-content:space-between}.mdc-text-field+.mdc-text-field-helper-line{padding-left:16px;padding-right:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(98,0,238,.87)}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:after,.mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-line-ripple:before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error,#b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{color:#b00020;color:var(--mdc-theme-error,#b00020)}.mdc-text-field--invalid .mdc-text-field__input{caret-color:#b00020;caret-color:var(--mdc-theme-error,#b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:#b00020;color:var(--mdc-theme-error,#b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error,#b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error,#b00020)}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}.mdc-text-field--disabled .mdc-text-field__input{color:rgba(0,0,0,.38)}@media{.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:rgba(0,0,0,.38)}}@media{.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:rgba(0,0,0,.38)}}.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0,0,0,.38)}.mdc-text-field--disabled .mdc-text-field__icon--leading,.mdc-text-field--disabled .mdc-text-field__icon--trailing{color:rgba(0,0,0,.3)}.mdc-text-field--disabled .mdc-text-field__affix--prefix,.mdc-text-field--disabled .mdc-text-field__affix--suffix{color:rgba(0,0,0,.38)}.mdc-text-field--disabled .mdc-line-ripple:before{border-bottom-color:rgba(0,0,0,.06)}.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:rgba(0,0,0,.06)}@media (-ms-high-contrast:active),screen and (forced-colors:active){.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:GrayText}}@media (-ms-high-contrast:active),screen and (forced-colors:active){.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:GrayText}}@media (-ms-high-contrast:active),screen and (forced-colors:active){.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled .mdc-text-field__affix--prefix,.mdc-text-field--disabled .mdc-text-field__affix--suffix,.mdc-text-field--disabled .mdc-text-field__icon--leading,.mdc-text-field--disabled .mdc-text-field__icon--trailing,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:GrayText}.mdc-text-field--disabled .mdc-line-ripple:before{border-bottom-color:GrayText}.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:GrayText}}@media screen and (forced-colors:active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled{background-color:#fafafa}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl],[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input{text-align:left}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input{direction:ltr}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading{order:1}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix{order:2}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input{order:3}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix{order:4}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing{order:5}.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix,[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-right:12px}.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix,[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px}.smui-text-field--standard{height:56px;padding:0}.smui-text-field--standard:before{content:\"\";display:inline-block;height:40px;vertical-align:0;width:0}.smui-text-field--standard:not(.mdc-text-field--disabled){background-color:transparent}.smui-text-field--standard:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom-color:rgba(0,0,0,.42)}.smui-text-field--standard:not(.mdc-text-field--disabled):hover .mdc-line-ripple:before{border-bottom-color:rgba(0,0,0,.87)}.smui-text-field--standard .mdc-line-ripple:after{border-bottom-color:#6200ee;border-bottom-color:var(--mdc-theme-primary,#6200ee)}.smui-text-field--standard .mdc-floating-label{left:0;right:auto}.smui-text-field--standard .mdc-floating-label[dir=rtl],[dir=rtl] .smui-text-field--standard .mdc-floating-label{left:auto;right:0}.smui-text-field--standard .mdc-floating-label--float-above{transform:translateY(-106%) scale(.75)}.smui-text-field--standard.mdc-text-field--no-label .mdc-text-field__input{height:100%}.smui-text-field--standard.mdc-text-field--no-label .mdc-floating-label,.smui-text-field--standard.mdc-text-field--no-label:before{display:none}@supports(-webkit-hyphens:none){.smui-text-field--standard.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--with-leading-icon.smui-text-field--standard .mdc-floating-label{left:32px;max-width:calc(100% - 32px);right:auto}.mdc-text-field--with-leading-icon.smui-text-field--standard .mdc-floating-label[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.smui-text-field--standard .mdc-floating-label{left:auto;right:32px}.mdc-text-field--with-leading-icon.smui-text-field--standard .mdc-floating-label--float-above{max-width:calc(133.33333% - 64px)}.mdc-text-field--with-trailing-icon.smui-text-field--standard .mdc-floating-label{max-width:calc(100% - 36px)}.mdc-text-field--with-trailing-icon.smui-text-field--standard .mdc-floating-label--float-above{max-width:calc(133.33333% - 48px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.smui-text-field--standard .mdc-floating-label{max-width:calc(100% - 68px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.smui-text-field--standard .mdc-floating-label--float-above{max-width:calc(133.33333% - 90.66667px)}.mdc-text-field+.mdc-text-field-helper-line{padding-left:0;padding-right:0}.mdc-text-field-character-counter{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-caption-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.75rem;font-size:var(--mdc-typography-caption-font-size,.75rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight,400);letter-spacing:.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing,.0333333333em);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height,1.25rem);line-height:normal;margin-left:auto;margin-right:0;margin-top:0;padding-left:16px;padding-right:0;text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform,inherit);white-space:nowrap}.mdc-text-field-character-counter:before{content:\"\";display:inline-block;height:16px;vertical-align:0;width:0}.mdc-text-field-character-counter[dir=rtl],[dir=rtl] .mdc-text-field-character-counter{margin-left:0;margin-right:auto;padding-left:0;padding-right:16px}.mdc-text-field-helper-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-caption-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.75rem;font-size:var(--mdc-typography-caption-font-size,.75rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight,400);letter-spacing:.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing,.0333333333em);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height,1.25rem);line-height:normal;margin:0;opacity:0;text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform,inherit);transition:opacity .15s cubic-bezier(.4,0,.2,1) 0ms;will-change:opacity}.mdc-text-field-helper-text:before{content:\"\";display:inline-block;height:16px;vertical-align:0;width:0}.mdc-text-field-helper-text--persistent{opacity:1;transition:none;will-change:auto}.mdc-text-field__icon{align-self:center;cursor:pointer}.mdc-text-field__icon:not([tabindex]),.mdc-text-field__icon[tabindex=\"-1\"]{cursor:default;pointer-events:none}.mdc-text-field__icon svg{display:block}.mdc-text-field__icon--leading{margin-left:16px;margin-right:8px}.mdc-text-field__icon--leading[dir=rtl],[dir=rtl] .mdc-text-field__icon--leading{margin-left:8px;margin-right:16px}.mdc-text-field__icon--trailing{margin-left:0;margin-right:0;padding:12px}.mdc-text-field__icon--trailing[dir=rtl],[dir=rtl] .mdc-text-field__icon--trailing{margin-left:0;margin-right:0}.smui-text-field--standard .mdc-text-field__icon--leading{margin-left:0;margin-right:8px}.smui-text-field--standard .mdc-text-field__icon--leading[dir=rtl],[dir=rtl] .smui-text-field--standard .mdc-text-field__icon--leading{margin-left:8px;margin-right:0}.smui-text-field--standard .mdc-text-field__icon--trailing{margin-left:0;margin-right:0;padding:12px 0 12px 12px}.smui-text-field--standard .mdc-text-field__icon--trailing[dir=rtl],[dir=rtl] .smui-text-field--standard .mdc-text-field__icon--trailing{margin-left:0;margin-right:0;padding-left:0;padding-right:12px}";
qn(Yk, {});
var Xk =
  ":root *{--scrollbar-background:hsla(0,0%,100%,.1);scrollbar-track-color:transparent;scrollbar-face-color:var(--scrollbar-background);scrollbar-color:var(--scrollbar-background) transparent;scrollbar-width:thin;text-underline-offset:.5px}:root ::-webkit-scrollbar{border-radius:.3rem;height:5px;width:5px}:root ::-webkit-scrollbar-track{border-radius:.3rem}:root ::-webkit-scrollbar-corner{background:none!important}:root ::-webkit-scrollbar-thumb{background-color:var(--scrollbar-background);border:3px solid var(--scrollbar-background);border-radius:20px;transition:background-color .5s}";
qn(Xk, {});
var Kk =
  ":root{--cosmograph-search-text-color:#fff;--cosmograph-search-list-background:#222;--cosmograph-search-font-family:inherit;--cosmograph-search-input-background:#222;--cosmograph-search-mark-background:hsla(0,0%,100%,.2);--cosmograph-search-accessor-background:hsla(0,0%,100%,.2);--cosmograph-search-interactive-background:hsla(0,0%,100%,.4);--cosmograph-search-hover-color:hsla(0,0%,100%,.05)}.search-icon.svelte-1xknafk.svelte-1xknafk{color:var(--cosmograph-search-text-color)!important;opacity:.6}.search.svelte-1xknafk .cosmograph-search-accessor{align-content:center;background-color:var(--cosmograph-search-accessor-background);border-radius:10px;color:var(--cosmograph-search-text-color);cursor:pointer;display:flex;display:block;font-size:12px;font-style:normal;justify-content:center;line-height:1;margin-right:.5rem;overflow:hidden;padding:5px 8px;text-overflow:ellipsis;transition:background .15s linear;white-space:nowrap;z-index:1}.search.svelte-1xknafk .cosmograph-search-accessor.active,.search.svelte-1xknafk .cosmograph-search-accessor:hover{background-color:var(--cosmograph-search-interactive-background)}.search.svelte-1xknafk .disabled{cursor:default;pointer-events:none}.search.svelte-1xknafk.svelte-1xknafk{background:var(--cosmograph-search-input-background);display:flex;flex-direction:column;font-family:var(--cosmograph-search-font-family),sans-serif;text-align:left;width:100%}.search.svelte-1xknafk mark{background:var(--cosmograph-search-mark-background);border-radius:2px;color:var(--cosmograph-search-text-color);padding:1px 0}.search.svelte-1xknafk .cosmograph-search-match{-webkit-box-orient:vertical;cursor:pointer;display:-webkit-box;line-height:1.35;overflow:hidden;padding:calc(var(--margin-v)*1px) calc(var(--margin-h)*1px);text-overflow:ellipsis;white-space:normal}.search.svelte-1xknafk .cosmograph-search-match:hover{background:var(--cosmograph-search-hover-color)}.search.svelte-1xknafk .cosmograph-search-result{display:inline;font-size:12px;font-weight:600;text-transform:uppercase}.search.svelte-1xknafk .cosmograph-search-result>span{font-weight:400;letter-spacing:1;margin-left:4px}.search.svelte-1xknafk .cosmograph-search-result>span>t{margin-right:4px}.search.svelte-1xknafk .mdc-menu-surface{background-color:var(--cosmograph-search-list-background)!important;max-height:none!important}.search.svelte-1xknafk .openListUpwards.svelte-1xknafk .mdc-menu-surface{bottom:55px!important;top:unset!important}.search.svelte-1xknafk .mdc-text-field__input{caret-color:var(--cosmograph-search-text-color)!important;height:100%;letter-spacing:-.01em;line-height:2;line-height:2!important;padding-top:15px!important}.search.svelte-1xknafk .mdc-floating-label,.search.svelte-1xknafk .mdc-text-field__input{color:var(--cosmograph-search-text-color)!important;font-family:var(--cosmograph-search-font-family),sans-serif!important}.search.svelte-1xknafk .mdc-floating-label{opacity:.65;pointer-events:none!important}.search.svelte-1xknafk .mdc-line-ripple:after,.search.svelte-1xknafk .mdc-line-ripple:before{border-bottom-color:var(--cosmograph-search-text-color)!important;opacity:.1}.search.svelte-1xknafk .mdc-deprecated-list{background:var(--cosmograph-search-list-background);color:var(--cosmograph-search-text-color)!important;font-size:14px!important;padding-top:4px!important}.search.svelte-1xknafk .mdc-deprecated-list-item{height:28px!important}.search.svelte-1xknafk .mdc-text-field__icon--leading{margin-right:10px!important}.search.svelte-1xknafk .mdc-floating-label--float-above{left:26px!important;pointer-events:none!important}.search.svelte-1xknafk .mdc-text-field__icon--trailing{cursor:default!important;max-width:35%}.search.svelte-1xknafk .cosmograph-search-first-field{font-size:12.5px;font-weight:400;opacity:.8;text-transform:uppercase}";
qn(Kk, {});
function Oy(t, e, i) {
  let r = t.slice();
  return r[53] = e[i], r[52] = i, r;
}
function Ry(t, e, i) {
  let r = t.slice();
  return r[50] = e[i], r[52] = i, r;
}
function Zk(t) {
  let e, i, r;
  return i = new hf({}), {
    c() {
      e = Nt("div"),
        Qt(i.$$.fragment),
        ci(e, "class", "search-icon svelte-1xknafk");
    },
    m(n, a) {
      rt(n, e, a), Kt(i, e, null), r = !0;
    },
    p: di,
    i(n) {
      r || (Te(i.$$.fragment, n), r = !0);
    },
    o(n) {
      Re(i.$$.fragment, n), r = !1;
    },
    d(n) {
      n && it(e), Zt(i);
    },
  };
}
function Jk(t) {
  let e, i;
  return e = new Id({
    props: {
      slot: "leadingIcon",
      $$slots: { default: [Zk] },
      $$scope: { ctx: t },
    },
  }),
    {
      c() {
        Qt(e.$$.fragment);
      },
      m(r, n) {
        Kt(e, r, n), i = !0;
      },
      p(r, n) {
        let a = {};
        16777216 & n[1] && (a.$$scope = { dirty: n, ctx: r }), e.$set(a);
      },
      i(r) {
        i || (Te(e.$$.fragment, r), i = !0);
      },
      o(r) {
        Re(e.$$.fragment, r), i = !1;
      },
      d(r) {
        Zt(e, r);
      },
    };
}
function Fy(t) {
  let e, i, r = t[11].label + "";
  return {
    c() {
      e = Nt("div"),
        i = nn(r),
        ci(e, "class", "cosmograph-search-accessor"),
        ma(e, "active", t[2]),
        ma(e, "disabled", !t[9]);
    },
    m(n, a) {
      rt(n, e, a), Ni(e, i);
    },
    p(n, a) {
      2048 & a[0] && r !== (r = n[11].label + "") && Wn(i, r),
        4 & a[0] && ma(e, "active", n[2]),
        512 & a[0] && ma(e, "disabled", !n[9]);
    },
    d(n) {
      n && it(e);
    },
  };
}
function Qk(t) {
  let e, i = t[11] && Fy(t);
  return {
    c() {
      i && i.c(), e = Vi();
    },
    m(r, n) {
      i && i.m(r, n), rt(r, e, n);
    },
    p(r, n) {
      r[11] ? i ? i.p(r, n) : (i = Fy(r), i.c(), i.m(e.parentNode, e))
      : i && (i.d(1), i = null);
    },
    d(r) {
      i && i.d(r), r && it(e);
    },
  };
}
function e6(t) {
  let e, i;
  return e = new Id({
    props: {
      role: "button",
      style: "display: flex;",
      slot: "trailingIcon",
      $$slots: { default: [Qk] },
      $$scope: { ctx: t },
    },
  }),
    e.$on("SMUITextField:icon", t[14]),
    {
      c() {
        Qt(e.$$.fragment);
      },
      m(r, n) {
        Kt(e, r, n), i = !0;
      },
      p(r, n) {
        let a = {};
        2564 & n[0] | 16777216 & n[1] && (a.$$scope = { dirty: n, ctx: r }),
          e.$set(a);
      },
      i(r) {
        i || (Te(e.$$.fragment, r), i = !0);
      },
      o(r) {
        Re(e.$$.fragment, r), i = !1;
      },
      d(r) {
        Zt(e, r);
      },
    };
}
function t6(t) {
  let e, i, r;
  return i = new Hs({
    props: { $$slots: { default: [a6] }, $$scope: { ctx: t } },
  }),
    {
      c() {
        e = Nt("div"), Qt(i.$$.fragment), Yn(e, "pointer-events", "none");
      },
      m(n, a) {
        rt(n, e, a), Kt(i, e, null), r = !0;
      },
      p(n, a) {
        let o = {};
        16777216 & a[1] && (o.$$scope = { dirty: a, ctx: n }), i.$set(o);
      },
      i(n) {
        r || (Te(i.$$.fragment, n), r = !0);
      },
      o(n) {
        Re(i.$$.fragment, n), r = !1;
      },
      d(n) {
        n && it(e), Zt(i);
      },
    };
}
function i6(t) {
  let e, i = [], r = new Map(), n = t[4], a = o => o[52];
  for (let o = 0; o < n.length; o += 1) {
    let s = Oy(t, n, o), l = a(s);
    r.set(l, i[o] = Dy(l, s));
  }
  return {
    c() {
      for (let o = 0; o < i.length; o += 1) i[o].c();
      e = Vi();
    },
    m(o, s) {
      for (let l = 0; l < i.length; l += 1) i[l] && i[l].m(o, s);
      rt(o, e, s);
    },
    p(o, s) {
      655376 & s[0]
        && (n = o[4], i = Ip(i, s, a, 1, o, n, r, e.parentNode, m1, Dy, e, Oy));
    },
    i: di,
    o: di,
    d(o) {
      for (let s = 0; s < i.length; s += 1) i[s].d(o);
      o && it(e);
    },
  };
}
function r6(t) {
  let e, i, r = t[1]?.accessors?.length && $y(t);
  return {
    c() {
      r && r.c(), e = Vi();
    },
    m(n, a) {
      r && r.m(n, a), rt(n, e, a), i = !0;
    },
    p(n, a) {
      n[1]?.accessors?.length
        ? r ? (r.p(n, a), 2 & a[0] && Te(r, 1))
        : (r = $y(n), r.c(), Te(r, 1), r.m(e.parentNode, e))
        : r && (Ci(),
          Re(r, 1, 1, () => {
            r = null;
          }),
          ki());
    },
    i(n) {
      i || (Te(r), i = !0);
    },
    o(n) {
      Re(r), i = !1;
    },
    d(n) {
      r && r.d(n), n && it(e);
    },
  };
}
function n6(t) {
  let e;
  return {
    c() {
      e = nn("No matches found");
    },
    m(i, r) {
      rt(i, e, r);
    },
    d(i) {
      i && it(e);
    },
  };
}
function a6(t) {
  let e, i;
  return e = new Np({
    props: { $$slots: { default: [n6] }, $$scope: { ctx: t } },
  }),
    {
      c() {
        Qt(e.$$.fragment);
      },
      m(r, n) {
        Kt(e, r, n), i = !0;
      },
      p(r, n) {
        let a = {};
        16777216 & n[1] && (a.$$scope = { dirty: n, ctx: r }), e.$set(a);
      },
      i(r) {
        i || (Te(e.$$.fragment, r), i = !0);
      },
      o(r) {
        Re(e.$$.fragment, r), i = !1;
      },
      d(r) {
        Zt(e, r);
      },
    };
}
function Dy(t, e) {
  let i, r, n, a, o, s = e[19](e[53]) + "";
  return {
    key: t,
    first: null,
    c() {
      i = Nt("div"),
        r = Nt("div"),
        n = Ii(),
        ci(i, "class", "cosmograph-search-match"),
        Yn(i, "--margin-v", f6),
        Yn(i, "--margin-h", m6),
        this.first = i;
    },
    m(l, d) {
      rt(l, i, d),
        Ni(i, r),
        r.innerHTML = s,
        Ni(i, n),
        a || (o = [
          _i(i, "click", function() {
            oi(e[17](e[53])) && e[17](e[53]).apply(this, arguments);
          }),
          _i(i, "keydown", function() {
            oi(e[17](e[53])) && e[17](e[53]).apply(this, arguments);
          }),
        ],
          a = !0);
    },
    p(l, d) {
      e = l, 16 & d[0] && s !== (s = e[19](e[53]) + "") && (r.innerHTML = s);
    },
    d(l) {
      l && it(i), a = !1, hi(o);
    },
  };
}
function $y(t) {
  let e, i, r, n, a, o = [], s = new Map();
  i = new Hs({ props: { $$slots: { default: [o6] }, $$scope: { ctx: t } } });
  let l = t[1]?.accessors, d = c => c[52];
  for (let c = 0; c < l.length; c += 1) {
    let u = Ry(t, l, c), f = d(u);
    s.set(f, o[c] = My(f, u));
  }
  return {
    c() {
      e = Nt("div"), Qt(i.$$.fragment), r = Ii();
      for (let c = 0; c < o.length; c += 1) o[c].c();
      n = Vi(), Yn(e, "pointer-events", "none"), Yn(e, "font-size", "10px", 1);
    },
    m(c, u) {
      rt(c, e, u), Kt(i, e, null), rt(c, r, u);
      for (let f = 0; f < o.length; f += 1) o[f] && o[f].m(c, u);
      rt(c, n, u), a = !0;
    },
    p(c, u) {
      let f = {};
      16777216 & u[1] && (f.$$scope = { dirty: u, ctx: c }),
        i.$set(f),
        8194 & u[0]
        && (l = c[1]?.accessors,
          Ci(),
          o = Ip(o, u, d, 1, c, l, s, n.parentNode, h1, My, n, Ry),
          ki());
    },
    i(c) {
      if (!a) {
        Te(i.$$.fragment, c);
        for (let u = 0; u < l.length; u += 1) Te(o[u]);
        a = !0;
      }
    },
    o(c) {
      Re(i.$$.fragment, c);
      for (let u = 0; u < o.length; u += 1) Re(o[u]);
      a = !1;
    },
    d(c) {
      c && it(e), Zt(i), c && it(r);
      for (let u = 0; u < o.length; u += 1) o[u].d(c);
      c && it(n);
    },
  };
}
function o6(t) {
  let e;
  return {
    c() {
      e = Nt("div"),
        e.textContent = "select accessor to search",
        ci(e, "class", "cosmograph-search-result");
    },
    m(i, r) {
      rt(i, e, r);
    },
    p: di,
    d(i) {
      i && it(e);
    },
  };
}
function s6(t) {
  let e, i = t[50].label + "";
  return {
    c() {
      e = nn(i);
    },
    m(r, n) {
      rt(r, e, n);
    },
    p(r, n) {
      2 & n[0] && i !== (i = r[50].label + "") && Wn(e, i);
    },
    d(r) {
      r && it(e);
    },
  };
}
function l6(t) {
  let e, i, r;
  return e = new Np({
    props: { $$slots: { default: [s6] }, $$scope: { ctx: t } },
  }),
    {
      c() {
        Qt(e.$$.fragment), i = Ii();
      },
      m(n, a) {
        Kt(e, n, a), rt(n, i, a), r = !0;
      },
      p(n, a) {
        let o = {};
        2 & a[0] | 16777216 & a[1] && (o.$$scope = { dirty: a, ctx: n }),
          e.$set(o);
      },
      i(n) {
        r || (Te(e.$$.fragment, n), r = !0);
      },
      o(n) {
        Re(e.$$.fragment, n), r = !1;
      },
      d(n) {
        Zt(e, n), n && it(i);
      },
    };
}
function My(t, e) {
  let i, r, n;
  return r = new Hs({
    props: { $$slots: { default: [l6] }, $$scope: { ctx: e } },
  }),
    r.$on("click", function() {
      oi(e[13](e[50], e[52])) && e[13](e[50], e[52]).apply(this, arguments);
    }),
    {
      key: t,
      first: null,
      c() {
        i = Vi(), Qt(r.$$.fragment), this.first = i;
      },
      m(a, o) {
        rt(a, i, o), Kt(r, a, o), n = !0;
      },
      p(a, o) {
        e = a;
        let s = {};
        2 & o[0] | 16777216 & o[1] && (s.$$scope = { dirty: o, ctx: e }),
          r.$set(s);
      },
      i(a) {
        n || (Te(r.$$.fragment, a), n = !0);
      },
      o(a) {
        Re(r.$$.fragment, a), n = !1;
      },
      d(a) {
        a && it(i), Zt(r, a);
      },
    };
}
function d6(t) {
  let e, i, r, n, a = [r6, i6, t6], o = [];
  function s(l, d) {
    return l[2] ? 0 : l[4].length ? 1 : 2;
  }
  return i = s(t), r = o[i] = a[i](t), {
    c() {
      e = Nt("div"), r.c();
    },
    m(l, d) {
      rt(l, e, d), o[i].m(e, null), t[28](e), n = !0;
    },
    p(l, d) {
      let c = i;
      i = s(l),
        i === c ? o[i].p(l, d) : (Ci(),
          Re(o[c], 1, 1, () => {
            o[c] = null;
          }),
          ki(),
          r = o[i],
          r ? r.p(l, d) : (r = o[i] = a[i](l), r.c()),
          Te(r, 1),
          r.m(e, null));
    },
    i(l) {
      n || (Te(r), n = !0);
    },
    o(l) {
      Re(r), n = !1;
    },
    d(l) {
      l && it(e), o[i].d(), t[28](null);
    },
  };
}
function c6(t) {
  let e, i;
  return e = new Qu({
    props: {
      style: "max-height: " + t[8] + "px; transition: max-height 0.1s linear;",
      $$slots: { default: [d6] },
      $$scope: { ctx: t },
    },
  }),
    {
      c() {
        Qt(e.$$.fragment);
      },
      m(r, n) {
        Kt(e, r, n), i = !0;
      },
      p(r, n) {
        let a = {};
        256 & n[0]
        && (a.style = "max-height: " + r[8]
          + "px; transition: max-height 0.1s linear;"),
          86 & n[0] | 16777216 & n[1] && (a.$$scope = { dirty: n, ctx: r }),
          e.$set(a);
      },
      i(r) {
        i || (Te(e.$$.fragment, r), i = !0);
      },
      o(r) {
        Re(e.$$.fragment, r), i = !1;
      },
      d(r) {
        Zt(e, r);
      },
    };
}
function u6(t) {
  let e, i, r, n, a, o, s, l, d;
  function c(S) {
    t[26](S);
  }
  function u(S) {
    t[27](S);
  }
  let f = {
    style: "opacity: " + (t[1].isDisabled ? .5 : 1),
    label: t[1].placeholder,
    $$slots: { trailingIcon: [e6], leadingIcon: [Jk] },
    $$scope: { ctx: t },
  };
  function h(S) {
    t[29](S);
  }
  t[0] !== void 0 && (f.value = t[0]),
    t[12] !== void 0 && (f.disabled = t[12]),
    i = new df({ props: f }),
    t[25](i),
    bt.push(() => Zr(i, "value", c)),
    bt.push(() => Zr(i, "disabled", u)),
    i.$on("click", t[18]),
    i.$on("focus", t[20]),
    i.$on("input", t[16]),
    i.$on("keydown", t[15]);
  let x = {
    style: "width: 100%; bottom: initial;",
    $$slots: { default: [c6] },
    $$scope: { ctx: t },
  };
  return t[3] !== void 0 && (x.open = t[3]),
    s = new ff({ props: x }),
    bt.push(() => Zr(s, "open", h)),
    t[30](s),
    {
      c() {
        e = Nt("div"),
          Qt(i.$$.fragment),
          a = Ii(),
          o = Nt("div"),
          Qt(s.$$.fragment),
          Yn(o, "position", "relative"),
          ci(o, "class", "svelte-1xknafk"),
          ma(o, "openListUpwards", t[1].openListUpwards),
          ma(o, "accessors", t[2]),
          ci(e, "class", "search svelte-1xknafk");
      },
      m(S, p) {
        rt(S, e, p),
          Kt(i, e, null),
          Ni(e, a),
          Ni(e, o),
          Kt(s, o, null),
          t[31](e),
          d = !0;
      },
      p(S, p) {
        let y = {};
        2 & p[0] && (y.style = "opacity: " + (S[1].isDisabled ? .5 : 1)),
          2 & p[0] && (y.label = S[1].placeholder),
          2564 & p[0] | 16777216 & p[1] && (y.$$scope = { dirty: p, ctx: S }),
          !r && 1 & p[0] && (r = !0, y.value = S[0], Kr(() => r = !1)),
          !n && 4096 & p[0] && (n = !0, y.disabled = S[12], Kr(() => n = !1)),
          i.$set(y);
        let E = {};
        342 & p[0] | 16777216 & p[1] && (E.$$scope = { dirty: p, ctx: S }),
          !l && 8 & p[0] && (l = !0, E.open = S[3], Kr(() => l = !1)),
          s.$set(E),
          (!d || 2 & p[0]) && ma(o, "openListUpwards", S[1].openListUpwards),
          (!d || 4 & p[0]) && ma(o, "accessors", S[2]);
      },
      i(S) {
        d || (Te(i.$$.fragment, S), Te(s.$$.fragment, S), d = !0);
      },
      o(S) {
        Re(i.$$.fragment, S), Re(s.$$.fragment, S), d = !1;
      },
      d(S) {
        S && it(e), t[25](null), Zt(i), t[30](null), Zt(s), t[31](null);
      },
    };
}
var f6 = 4, m6 = 12;
function h6(t, e, i) {
  let r;
  var n, a;
  let o = l1(),
    s,
    l,
    d,
    c,
    u,
    f,
    { config: h } = e,
    { data: x = [] } = e,
    { textInput: S = "" } = e,
    p = !0,
    y = !1,
    E = !1,
    g = [],
    _ = new Set(),
    $ = new DOMParser(),
    z,
    I = R => {
      if (!x) return;
      if (!R.trim()) return void i(4, g = []);
      let A = 0, X = new RegExp(Zu(R), "i"), G = te => String(z.accessor(te));
      i(
        4,
        g = x.filter(te => {
          if (h.limitSuggestions && A >= h.limitSuggestions) return !1;
          let De = G(te).match(X);
          return De && (A += 1), De;
        }),
      ),
        g.length > 0 && g.sort((te, De) => {
          let Se = G(te).toLowerCase(),
            Fe = G(De).toLowerCase(),
            Be = R.toLowerCase();
          if (Se === Be && Fe !== Be) return -1;
          if (Fe === Be && Se !== Be) return 1;
          let We = Se.indexOf(Be), me = Fe.indexOf(Be);
          return We !== me ? We - me : Se.localeCompare(Fe);
        }),
        o(hn.Input, g);
    },
    D = R => {
      return RegExp.prototype.test.bind(/(<([^>]+)>)/i)(R)
        ? (A = R,
          $.parseFromString(A, "text/html").documentElement.textContent || "")
        : R;
      var A;
    },
    V = R =>
      R.replace(
        /[&<>]/g,
        A => ({ "&": "&amp;", "<": "&lt;", ">": "&gt;" })[A] || A,
      ),
    ue = (R, A) => {
      let X = D(R),
        G = h && h.truncateValues ? h.truncateValues : X.length,
        te = (gt => new RegExp(Zu(gt), "i"))(S),
        De = A ? ((gt, St) => gt.search(St))(X, te) : -1;
      if (De === -1) return X.substring(0, +G) + (X.length > G ? "..." : "");
      let { startPosition: Se, endPosition: Fe } = ((gt, St, ft) => {
          let xt = Math.max(0, gt - Math.floor(St / 2)),
            _e = Math.min(ft, xt + St);
          return _e - gt < St / 2 && (xt = Math.max(0, _e - St)),
            { startPosition: xt, endPosition: _e };
        })(De, +G, X.length),
        Be = X.substring(Se, Fe),
        We = Se > 0 ? "..." : "",
        me = Fe < X.length ? "..." : "";
      return `${We}${A ? Be.replace(te, gt => `<mark>${gt}</mark>`) : Be}${me}`;
    },
    ne = () => {
      setTimeout(() => {
        var R;
        let A,
          X = 0,
          G = (R = h.maxVisibleItems) !== null && R !== void 0
            ? R
            : No.maxVisibleItems;
        l.querySelectorAll(`.cosmograph-search-match:nth-child(-n+${G})`)
          .forEach(te => {
            X += te.offsetHeight;
          }),
          X = g.length ? X + 6 : 46,
          A = h.openListUpwards
            ? d.getBoundingClientRect().top - window.scrollY - 60
            : window.innerHeight - d.getBoundingClientRect().bottom - 60,
          X > A && (X = A),
          i(8, u = X);
      }, 0);
    },
    ee = () => {
      setTimeout(() => {
        var R;
        let A = 0,
          X = (R = h.maxVisibleItems) !== null && R !== void 0
            ? R
            : No.maxVisibleItems;
        l.querySelectorAll(`li:nth-child(-n+${X})`).forEach(G => {
          A += G.offsetHeight;
        }), i(8, u = A + 24);
      }, 0);
    };
  return Bi(() => {
    c = new Ga(() => {
      c && l && (g && ne(), y && ee());
    }), c.observe(d);
  }),
    Xr(() => {
      c.disconnect();
    }),
    t.$$set = R => {
      "config" in R && i(1, h = R.config),
        "data" in R && i(21, x = R.data),
        "textInput" in R && i(0, S = R.textInput);
    },
    t.$$.update = () => {
      if (25165826 & t.$$.dirty[0]) {
        i(
          11,
          z = (() => {
            var A, X, G;
            return h.activeAccessorIndex != null
                && (!((A = h.accessors) === null || A === void 0)
                  && A[h.activeAccessorIndex])
              ? h.accessors[h.activeAccessorIndex]
              : z && h.accessors
              ? h.accessors.find(te => te === z)
                || ((X = h.accessors) === null || X === void 0 ? void 0 : X[0])
              : (G = h.accessors) === null || G === void 0
              ? void 0
              : G[0];
          })(),
        );
        let R = i(
                24,
                a = i(23, n = h.accessors) === null || n === void 0
                  ? void 0
                  : n.length,
              ) !== null && a !== void 0
          ? a
          : 0;
        i(9, p = R > 1);
      }
      12 & t.$$.dirty[0] && y && !E && setTimeout(() => {
        i(2, y = !1);
      }, 100),
        2097158 & t.$$.dirty[0] && i(12, r = !x.length || y || !!h.isDisabled),
        16 & t.$$.dirty[0] && g && ne(),
        4 & t.$$.dirty[0] && y && ee();
    },
    [
      S,
      h,
      y,
      E,
      g,
      s,
      l,
      d,
      u,
      p,
      f,
      z,
      r,
      (R, A) => {
        h.activeAccessorIndex === void 0 && i(11, z = R),
          f?.setOpen(!1),
          setTimeout(() => {
            i(2, y = !1);
          }, 100),
          o(hn.AccessorSelect, { index: A, accessor: z });
      },
      () => {
        p && (i(0, S = ""),
          f?.setOpen(!1),
          setTimeout(() => {
            f?.setOpen(!0), i(2, y = !0);
          }, 100));
      },
      R => {
        R.key === "Enter" && h.minMatch !== void 0 && S.length >= h.minMatch
          && o(hn.Enter, { textInput: S, accessor: z });
      },
      R => {
        let A = R?.target;
        y
          || (h.minMatch !== void 0 && A.value.length < h.minMatch
            ? f?.setOpen(!1)
            : (f?.setOpen(!0), I(A.value)));
      },
      R => A => {
        document.activeElement !== null && document.activeElement.blur(),
          f.setOpen(!1),
          _.size >= 5 && _.delete(_.values().next().value),
          _.add(R),
          o(hn.Select, R);
      },
      () => {
        setTimeout(() => {
          y || E || S.length !== 0
            || (_.size
              ? i(4, g = Array.from(_))
              : x.length && i(4, g = x.slice(0, h.maxVisibleItems)),
              f.setOpen(!0));
        }, 110);
      },
      R =>
        (A => {
          var X;
          let { [z.label]: G, ...te } = A;
          if (Object.keys(te).length > 0) {
            let De = (X = h.matchPalette) !== null && X !== void 0
                ? X
                : No.matchPalette,
              Se = Be => `color: ${De[Be % De.length]}`,
              Fe = Object.entries(te).map(([Be, We], me) => {
                let gt = ue(
                  typeof We == "object" ? JSON.stringify(We) : String(We),
                );
                return `<span style="${Se(me)}"><t>\xB7</t><b>${
                  V(Be)
                }</b>: ${gt}</span>`;
              });
            return `
      <span class="cosmograph-search-first-field"><b>${V(z.label)}</b>:</span>
      ${ue(String(G), !0)}
      <div class='cosmograph-search-result'>
        ${Fe.join("")} 
      </div>
    `;
          }
          return ue(String(G), !0);
        })((A => {
          let X = {}, G = Object.keys(A), te = z.accessor(A);
          if (
            te && (X[z.label] = te),
              !h.ordering || !h.ordering.order && !h.ordering.include
          ) {
            let Fe = Object.entries(A).findIndex(([Be, We]) =>
              z.accessor({ [Be]: We })
            );
            Fe !== -1 && G.splice(Fe, 1);
            for (let Be of G) X[Be] = A[Be];
            return X;
          }
          let De = h.ordering.order || [],
            Se = h.ordering.include ? new Set(h.ordering.include) : null;
          if (Se || (Se = new Set(G)), De.length > 0) {
            for (let Fe of De) Fe in A && (X[Fe] = A[Fe]);
          }
          for (let Fe in A) {
            !Object.prototype.hasOwnProperty.call(X, Fe) && Se.has(Fe)
              && (X[Fe] = A[Fe]);
          }
          return X;
        })(R)),
      R => {
        R.preventDefault();
      },
      x,
      R => {
        f?.setOpen(R);
      },
      n,
      a,
      function(R) {
        bt[R ? "unshift" : "push"](() => {
          s = R, i(5, s);
        });
      },
      function(R) {
        S = R, i(0, S);
      },
      function(R) {
        r = R, i(12, r), i(21, x), i(2, y), i(1, h), i(3, E);
      },
      function(R) {
        bt[R ? "unshift" : "push"](() => {
          l = R, i(6, l);
        });
      },
      function(R) {
        E = R, i(3, E);
      },
      function(R) {
        bt[R ? "unshift" : "push"](() => {
          f = R, i(10, f);
        });
      },
      function(R) {
        bt[R ? "unshift" : "push"](() => {
          d = R, i(7, d);
        });
      },
    ];
}
var pf = class extends ri {
  constructor(e) {
    super(),
      si(
        this,
        e,
        h6,
        u6,
        Xt,
        { config: 1, data: 21, textInput: 0, setListState: 22 },
        null,
        [-1, -1],
      );
  }
  get setListState() {
    return this.$$.ctx[22];
  }
};
var Cd = class {
  constructor(e, i) {
    this._config = {},
      this._containerNode = e,
      this._config = wr(No, i ?? {}),
      this._search = new pf({ target: e, props: { config: this._config } }),
      this._search.$on(hn.Input, ({ detail: r }) => {
        var n, a;
        return (a = (n = this._config.events) === null || n === void 0
                ? void 0
                : n.onSearch) === null || a === void 0
          ? void 0
          : a.call(n, r);
      }),
      this._search.$on(hn.Select, ({ detail: r }) => {
        var n, a;
        return (a = (n = this._config.events) === null || n === void 0
                ? void 0
                : n.onSelect) === null || a === void 0
          ? void 0
          : a.call(n, r);
      }),
      this._search.$on(hn.Enter, ({ detail: r }) => {
        var n, a;
        return (a = (n = this._config.events) === null || n === void 0
                ? void 0
                : n.onEnter) === null || a === void 0
          ? void 0
          : a.call(n, r);
      }),
      this._search.$on(hn.AccessorSelect, ({ detail: r }) => {
        var n, a;
        return (a = (n = this._config.events) === null || n === void 0
                ? void 0
                : n.onAccessorSelect) === null || a === void 0
          ? void 0
          : a.call(n, r);
      });
  }
  setData(e) {
    this._search.$set({ data: e, textInput: "" });
  }
  setConfig(e) {
    this._config = wr(No, e ?? {}),
      this._search.$set({ config: this._config, textInput: "" });
  }
  setListState(e) {
    this._search.setListState(e);
  }
  clearInput() {
    this._search.$set({ textInput: "" });
  }
  getConfig() {
    return this._config;
  }
  destroy() {
    this._containerNode.innerHTML = "";
  }
};
var Ny =
  "<svg fill=\"currentColor\" height=\"11\" viewBox=\"0 0 163 11\" width=\"163\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"currentColor\"><path d=\"m2.45674 8-1.925002-5.379h.924002l1.617 4.73h.154l1.617-4.73h.924l-1.925 5.379z\"/><path d=\"m7.02243 8v-5.379h.869v5.379zm.44-6.215c-.19067 0-.352-.06233-.484-.187-.12467-.12467-.187-.28233-.187-.473 0-.198.06233-.359333.187-.484.132-.124667.29333-.187.484-.187.19066 0 .34833.062333.473.187.12466.124667.187.286.187.484 0 .19067-.06234.34833-.187.473-.12467.12467-.28234.187-.473.187z\"/><path d=\"m11.8857 8.154c-.6673 0-1.232-.154-1.694-.462-.45465-.308-.72965-.79567-.82499-1.463l.82499-.187c.0587.352.1687.63067.33.836.1613.198.3593.341.594.429.242.08067.4987.121.77.121.4033 0 .7223-.08067.957-.242s.352-.37767.352-.649c0-.27867-.1137-.473-.341-.583-.22-.11733-.5243-.21267-.913-.286l-.451-.077c-.3447-.05867-.66-.15033-.946-.275s-.5133-.29333-.68199-.506c-.16866-.21267-.25299-.48033-.25299-.803 0-.484.18699-.86167.56098-1.133.374-.27133.869-.407 1.485-.407.6087 0 1.1.13933 1.474.418.3813.27133.627.65633.737 1.155l-.814.209c-.066-.38867-.2237-.66-.473-.814-.2493-.16133-.5573-.242-.924-.242s-.6563.06967-.869.209c-.2127.132-.319.33-.319.594 0 .25667.099.44733.297.572.2053.11733.4767.20533.814.264l.451.077c.3813.066.7223.15767 1.023.275.308.11.55.27133.726.484.1833.21267.275.49133.275.836 0 .528-.198.935-.594 1.221-.3887.286-.913.429-1.573.429z\"/><path d=\"m17.5765 8.099c-.3887 0-.748-.08433-1.078-.253-.3227-.16867-.5793-.418-.77-.748-.1833-.33733-.275-.74433-.275-1.221v-3.256h.869v3.19c0 .53533.132.924.396 1.166.2713.242.6343.363 1.089.363.5133 0 .935-.16867 1.265-.506s.495-.83967.495-1.507v-2.706h.869v5.379h-.847v-.913h-.154c-.1173.25667-.319.49133-.605.704-.286.20533-.704.308-1.254.308z\"/><path d=\"m23.9048 8.154c-.374 0-.715-.066-1.023-.198s-.55-.32267-.726-.572-.264-.55367-.264-.913c0-.36667.088-.66733.264-.902.176-.242.418-.42167.726-.539.308-.12467.6527-.187 1.034-.187h1.815v-.396c0-.38133-.1136-.682-.341-.902-.22-.22-.55-.33-.99-.33-.4326 0-.77.10633-1.012.319-.242.20533-.407.484-.495.836l-.814-.264c.088-.30067.2274-.572.418-.814.1907-.24933.4437-.44733.759-.594.3227-.154.7077-.231 1.155-.231.6894 0 1.2247.17967 1.606.539.3814.352.572.85067.572 1.496v2.431c0 .22.1027.33.308.33h.495v.737h-.759c-.242 0-.4363-.066-.583-.198-.1466-.13933-.22-.32267-.22-.55v-.055h-.132c-.0806.13933-.1906.286-.33.44-.132.14667-.3153.26767-.55.363-.2346.10267-.539.154-.913.154zm.099-.748c.5134 0 .9277-.15033 1.243-.451.3227-.308.484-.737.484-1.287v-.121h-1.782c-.3446 0-.6306.077-.858.231-.22.14667-.33.37033-.33.671s.1137.53533.341.704c.2347.16867.5354.253.902.253z\"/><path d=\"m28.582 8v-7.7h.869v7.7z\"/><path d=\"m31.2783 8v-5.379h.869v5.379zm.44-6.215c-.1907 0-.352-.06233-.484-.187-.1247-.12467-.187-.28233-.187-.473 0-.198.0623-.359333.187-.484.132-.124667.2933-.187.484-.187s.3483.062333.473.187.187.286.187.484c0 .19067-.0623.34833-.187.473s-.2823.187-.473.187z\"/><path d=\"m33.7326 8v-1.122l3.421-3.377v-.121h-3.311v-.759h4.224v1.122l-3.432 3.377v.132h3.52v.748z\"/><path d=\"m41.9601 8.154c-.5427 0-1.0194-.11367-1.43-.341-.4107-.23467-.7297-.561-.957-.979-.2274-.418-.341-.902-.341-1.452v-.132c0-.55733.1136-1.045.341-1.463.2273-.418.5426-.74067.946-.968.4033-.23467.8653-.352 1.386-.352.506 0 .9533.11 1.342.33.3886.21267.693.52067.913.924s.33.87633.33 1.419v.396h-4.389c.022.57933.209 1.034.561 1.364.352.32267.792.484 1.32.484.462 0 .8176-.10633 1.067-.319.2493-.21267.44-.46567.572-.759l.748.363c-.11.22733-.264.45467-.462.682-.1907.22733-.4437.418-.759.572-.308.154-.704.231-1.188.231zm-1.848-3.333h3.498c-.0294-.49867-.2017-.88733-.517-1.166-.308-.27867-.704-.418-1.188-.418-.4914 0-.8947.13933-1.21.418-.3154.27867-.5097.66733-.583 1.166z\"/><path d=\"m48.2828 8.154c-.462 0-.8873-.11-1.276-.33-.3886-.22-.6966-.539-.924-.957-.2273-.418-.341-.913-.341-1.485v-.143c0-.572.1137-1.06333.341-1.474.2274-.418.5317-.737.913-.957.3887-.22733.8177-.341 1.287-.341.374 0 .6894.05133.946.154.264.09533.4767.22.638.374.1614.14667.286.30433.374.473h.154v-3.168h.869v7.7h-.847v-.891h-.154c-.1466.27133-.374.51333-.682.726s-.7406.319-1.298.319zm.231-.77c.5574 0 1.0084-.176 1.353-.528.352-.35933.528-.858.528-1.496v-.099c0-.638-.176-1.133-.528-1.485-.3446-.35933-.7956-.539-1.353-.539-.55 0-1.0046.17967-1.364.539-.352.352-.528.847-.528 1.485v.099c0 .638.176 1.13667.528 1.496.3594.352.814.528 1.364.528z\"/><path d=\"m58.8911 8.154c-.5573 0-.9936-.10633-1.309-.319-.308-.21267-.5316-.45467-.671-.726h-.154v.891h-.847v-7.7h.869v3.168h.154c.088-.16867.2127-.32633.374-.473.1614-.154.3704-.27867.627-.374.264-.10267.583-.154.957-.154.4694 0 .8947.11367 1.276.341.3887.22.6967.539.924.957.2274.41067.341.902.341 1.474v.143c0 .572-.1173 1.067-.352 1.485-.2273.418-.5353.737-.924.957-.3813.22-.803.33-1.265.33zm-.231-.77c.5574 0 1.0084-.176 1.353-.528.352-.35933.528-.858.528-1.496v-.099c0-.638-.176-1.133-.528-1.485-.3446-.35933-.7956-.539-1.353-.539-.55 0-1.0046.17967-1.364.539-.352.352-.528.847-.528 1.485v.099c0 .638.176 1.13667.528 1.496.3594.352.814.528 1.364.528z\"/><path d=\"m63.6382 10.2v-.77h3.08c.2127 0 .319-.11.319-.33v-1.958h-.154c-.0733.154-.187.308-.341.462-.1466.14667-.341.26767-.583.363-.242.088-.5463.132-.913.132-.3886 0-.748-.08433-1.078-.253-.3226-.16867-.5793-.418-.77-.748-.1833-.33-.275-.73333-.275-1.21v-3.267h.869v3.201c0 .528.132.913.396 1.155.2714.242.6344.363 1.089.363.5134 0 .935-.16867 1.265-.506s.495-.83967.495-1.507v-2.706h.869v6.633c0 .29333-.0843.52433-.253.693-.1613.1687-.3996.253-.715.253z\"/><path d=\"m75.2998 8.154c-.9167 0-1.6464-.264-2.189-.792-.5427-.53533-.814-1.31267-.814-2.332v-1.76c0-1.01933.2713-1.793.814-2.321.5426-.535333 1.2723-.803 2.189-.803.9093 0 1.606.253 2.09.759.4913.506.737 1.199.737 2.079v.055h-.913v-.088c0-.57933-.1577-1.05233-.473-1.419-.308-.374-.7884-.561-1.441-.561-.6527 0-1.1624.20167-1.529.605-.3667.396-.55.95333-.55 1.672v1.804c0 .71867.1833 1.27967.55 1.683.3666.396.8763.594 1.529.594.6526 0 1.133-.18333 1.441-.55.3153-.374.473-.85067.473-1.43v-.176h.913v.143c0 .88-.2457 1.573-.737 2.079-.484.506-1.1807.759-2.09.759z\"/><path d=\"m82.0934 8.154c-.5427 0-1.023-.11367-1.441-.341-.4107-.22733-.7333-.54633-.968-.957-.2273-.418-.341-.90933-.341-1.474v-.143c0-.55733.1137-1.045.341-1.463.2347-.418.5573-.74067.968-.968.418-.22733.8983-.341 1.441-.341s1.0193.11367 1.43.341c.418.22733.7407.55.968.968.2347.418.352.90567.352 1.463v.143c0 .56467-.1173 1.056-.352 1.474-.2273.41067-.55.72967-.968.957-.4107.22733-.8873.341-1.43.341zm0-.781c.572 0 1.0267-.17967 1.364-.539.3447-.36667.517-.858.517-1.474v-.099c0-.616-.1723-1.10367-.517-1.463-.3373-.36667-.792-.55-1.364-.55-.5647 0-1.0193.18333-1.364.55-.3447.35933-.517.847-.517 1.463v.099c0 .616.1723 1.10733.517 1.474.3447.35933.7993.539 1.364.539z\"/><path d=\"m88.5742 8.154c-.6673 0-1.232-.154-1.694-.462-.4547-.308-.7297-.79567-.825-1.463l.825-.187c.0587.352.1687.63067.33.836.1613.198.3593.341.594.429.242.08067.4987.121.77.121.4033 0 .7223-.08067.957-.242s.352-.37767.352-.649c0-.27867-.1137-.473-.341-.583-.22-.11733-.5243-.21267-.913-.286l-.451-.077c-.3447-.05867-.66-.15033-.946-.275s-.5133-.29333-.682-.506-.253-.48033-.253-.803c0-.484.187-.86167.561-1.133s.869-.407 1.485-.407c.6087 0 1.1.13933 1.474.418.3813.27133.627.65633.737 1.155l-.814.209c-.066-.38867-.2237-.66-.473-.814-.2493-.16133-.5573-.242-.924-.242s-.6563.06967-.869.209c-.2127.132-.319.33-.319.594 0 .25667.099.44733.297.572.2053.11733.4767.20533.814.264l.451.077c.3813.066.7223.15767 1.023.275.308.11.55.27133.726.484.1833.21267.275.49133.275.836 0 .528-.198.935-.594 1.221-.3887.286-.913.429-1.573.429z\"/><path d=\"m92.208 8v-5.379h.847v.671h.154c.1026-.19067.2713-.36667.506-.528.2346-.16133.5646-.242.99-.242.418 0 .7553.09167 1.012.275.264.18333.4546.407.572.671h.154c.1246-.264.3116-.48767.561-.671.2566-.18333.6123-.275 1.067-.275.3593 0 .6746.07333.946.22.2713.14667.484.35933.638.638.1613.27133.242.59767.242.979v3.641h-.869v-3.564c0-.35933-.1064-.64167-.319-.847-.2054-.21267-.495-.319-.869-.319-.396 0-.7224.12833-.979.385-.2494.25667-.374.627-.374 1.111v3.234h-.869v-3.564c0-.35933-.1064-.64167-.319-.847-.2054-.21267-.495-.319-.869-.319-.396 0-.7224.12833-.979.385-.2494.25667-.374.627-.374 1.111v3.234z\"/><path d=\"m104.158 8.154c-.543 0-1.023-.11367-1.441-.341-.411-.22733-.733-.54633-.968-.957-.227-.418-.341-.90933-.341-1.474v-.143c0-.55733.114-1.045.341-1.463.235-.418.557-.74067.968-.968.418-.22733.898-.341 1.441-.341s1.019.11367 1.43.341c.418.22733.741.55.968.968.235.418.352.90567.352 1.463v.143c0 .56467-.117 1.056-.352 1.474-.227.41067-.55.72967-.968.957-.411.22733-.887.341-1.43.341zm0-.781c.572 0 1.027-.17967 1.364-.539.345-.36667.517-.858.517-1.474v-.099c0-.616-.172-1.10367-.517-1.463-.337-.36667-.792-.55-1.364-.55-.565 0-1.019.18333-1.364.55-.345.35933-.517.847-.517 1.463v.099c0 .616.172 1.10733.517 1.474.345.35933.799.539 1.364.539z\"/><path d=\"m108.208 5.338v-.154c0-.56467.113-1.04867.341-1.452.227-.40333.535-.715.924-.935.388-.22.814-.33 1.276-.33.564 0 .997.11 1.298.33.308.21267.535.451.682.715h.154v-.891h.825v6.633c0 .29333-.081.52433-.242.693-.162.1687-.396.253-.704.253h-3.652v-.77h3.421c.22 0 .33-.11.33-.33v-2.046h-.154c-.088.16133-.213.319-.374.473-.162.154-.371.28233-.627.385-.257.09533-.576.143-.957.143-.462 0-.888-.11-1.276-.33-.389-.22-.697-.53167-.924-.935-.228-.41067-.341-.89467-.341-1.452zm2.772 1.947c.557 0 1.008-.176 1.353-.528.352-.352.528-.836.528-1.452v-.088c0-.62333-.176-1.10733-.528-1.452-.345-.352-.796-.528-1.353-.528-.55 0-1.005.176-1.364.528-.352.34467-.528.82867-.528 1.452v.088c0 .616.176 1.1.528 1.452.359.352.814.528 1.364.528z\"/><path d=\"m115.529 8v-5.379h.847v.66h.154c.096-.23467.242-.407.44-.517s.459-.165.781-.165h.638v.792h-.693c-.388 0-.704.11-.946.33-.234.21267-.352.54633-.352 1.001v3.278z\"/><path d=\"m121.143 8.154c-.374 0-.715-.066-1.023-.198s-.55-.32267-.726-.572-.264-.55367-.264-.913c0-.36667.088-.66733.264-.902.176-.242.418-.42167.726-.539.308-.12467.653-.187 1.034-.187h1.815v-.396c0-.38133-.114-.682-.341-.902-.22-.22-.55-.33-.99-.33-.433 0-.77.10633-1.012.319-.242.20533-.407.484-.495.836l-.814-.264c.088-.30067.227-.572.418-.814.191-.24933.444-.44733.759-.594.323-.154.708-.231 1.155-.231.689 0 1.225.17967 1.606.539.381.352.572.85067.572 1.496v2.431c0 .22.103.33.308.33h.495v.737h-.759c-.242 0-.436-.066-.583-.198-.147-.13933-.22-.32267-.22-.55v-.055h-.132c-.081.13933-.191.286-.33.44-.132.14667-.315.26767-.55.363-.235.10267-.539.154-.913.154zm.099-.748c.513 0 .928-.15033 1.243-.451.323-.308.484-.737.484-1.287v-.121h-1.782c-.345 0-.631.077-.858.231-.22.14667-.33.37033-.33.671s.114.53533.341.704c.235.16867.535.253.902.253z\"/><path d=\"m125.82 10.2v-7.579h.847v.891h.154c.14-.27133.363-.51333.671-.726.316-.21267.752-.319 1.309-.319.462 0 .884.11367 1.265.341.389.22.697.53533.924.946.235.41067.352.90567.352 1.485v.143c0 .572-.113 1.067-.341 1.485-.227.418-.535.737-.924.957-.381.22-.806.33-1.276.33-.374 0-.693-.05133-.957-.154-.256-.09533-.465-.22-.627-.374-.161-.154-.286-.31167-.374-.473h-.154v3.047zm2.75-2.816c.558 0 1.009-.176 1.353-.528.352-.35933.528-.858.528-1.496v-.099c0-.638-.176-1.133-.528-1.485-.344-.35933-.795-.539-1.353-.539-.55 0-1.004.17967-1.364.539-.352.352-.528.847-.528 1.485v.099c0 .638.176 1.13667.528 1.496.36.352.814.528 1.364.528z\"/><path d=\"m132.899 8v-7.7h.869v3.179h.154c.074-.16133.184-.31167.33-.451.154-.14667.349-.26767.583-.363.242-.09533.547-.143.913-.143.404 0 .763.088 1.078.264.323.16867.58.418.77.748.191.32267.286.726.286 1.21v3.256h-.869v-3.19c0-.53533-.135-.924-.407-1.166-.264-.242-.623-.363-1.078-.363-.52 0-.946.16867-1.276.506-.322.33733-.484.83967-.484 1.507v2.706z\"/><path d=\"m140.118 8.154c-.212 0-.392-.06967-.539-.209-.139-.13933-.209-.319-.209-.539s.07-.39967.209-.539c.147-.13933.327-.209.539-.209.22 0 .4.06967.539.209.14.13933.209.319.209.539s-.069.39967-.209.539c-.139.13933-.319.209-.539.209z\"/><path d=\"m144.078 8.154c-.374 0-.715-.066-1.023-.198s-.55-.32267-.726-.572-.264-.55367-.264-.913c0-.36667.088-.66733.264-.902.176-.242.418-.42167.726-.539.308-.12467.652-.187 1.034-.187h1.815v-.396c0-.38133-.114-.682-.341-.902-.22-.22-.55-.33-.99-.33-.433 0-.77.10633-1.012.319-.242.20533-.407.484-.495.836l-.814-.264c.088-.30067.227-.572.418-.814.19-.24933.443-.44733.759-.594.322-.154.707-.231 1.155-.231.689 0 1.224.17967 1.606.539.381.352.572.85067.572 1.496v2.431c0 .22.102.33.308.33h.495v.737h-.759c-.242 0-.437-.066-.583-.198-.147-.13933-.22-.32267-.22-.55v-.055h-.132c-.081.13933-.191.286-.33.44-.132.14667-.316.26767-.55.363-.235.10267-.539.154-.913.154zm.099-.748c.513 0 .927-.15033 1.243-.451.322-.308.484-.737.484-1.287v-.121h-1.782c-.345 0-.631.077-.858.231-.22.14667-.33.37033-.33.671s.113.53533.341.704c.234.16867.535.253.902.253z\"/><path d=\"m148.755 10.2v-7.579h.847v.891h.154c.139-.27133.363-.51333.671-.726.315-.21267.752-.319 1.309-.319.462 0 .884.11367 1.265.341.389.22.697.53533.924.946.235.41067.352.90567.352 1.485v.143c0 .572-.114 1.067-.341 1.485s-.535.737-.924.957c-.381.22-.807.33-1.276.33-.374 0-.693-.05133-.957-.154-.257-.09533-.466-.22-.627-.374s-.286-.31167-.374-.473h-.154v3.047zm2.75-2.816c.557 0 1.008-.176 1.353-.528.352-.35933.528-.858.528-1.496v-.099c0-.638-.176-1.133-.528-1.485-.345-.35933-.796-.539-1.353-.539-.55 0-1.005.17967-1.364.539-.352.352-.528.847-.528 1.485v.099c0 .638.176 1.13667.528 1.496.359.352.814.528 1.364.528z\"/><path d=\"m155.834 10.2v-7.579h.847v.891h.154c.139-.27133.363-.51333.671-.726.315-.21267.752-.319 1.309-.319.462 0 .884.11367 1.265.341.389.22.697.53533.924.946.235.41067.352.90567.352 1.485v.143c0 .572-.114 1.067-.341 1.485s-.535.737-.924.957c-.381.22-.807.33-1.276.33-.374 0-.693-.05133-.957-.154-.257-.09533-.466-.22-.627-.374s-.286-.31167-.374-.473h-.154v3.047zm2.75-2.816c.557 0 1.008-.176 1.353-.528.352-.35933.528-.858.528-1.496v-.099c0-.638-.176-1.133-.528-1.485-.345-.35933-.796-.539-1.353-.539-.55 0-1.005.17967-1.364.539-.352.352-.528.847-.528 1.485v.099c0 .638.176 1.13667.528 1.496.359.352.814.528 1.364.528z\"/><path d=\"m71.6368 9.375h90.3682v.55h-90.3682z\"/></g></svg>";
var Py = t => {
  let e;
  return t
    ? e = t
    : typeof fetch > "u"
    ? e = (...i) =>
      Promise.resolve().then(() => (Ya(), Ws)).then(({ default: r }) => r(...i))
    : e = fetch,
    (...i) => e(...i);
};
var Ld = class extends Error {
    constructor(e, i = "FunctionsError", r) {
      super(e), this.name = i, this.context = r;
    }
  },
  gf = class extends Ld {
    constructor(e) {
      super(
        "Failed to send a request to the Edge Function",
        "FunctionsFetchError",
        e,
      );
    }
  },
  vf = class extends Ld {
    constructor(e) {
      super("Relay Error invoking the Edge Function", "FunctionsRelayError", e);
    }
  },
  _f = class extends Ld {
    constructor(e) {
      super(
        "Edge Function returned a non-2xx status code",
        "FunctionsHttpError",
        e,
      );
    }
  },
  xf;
(function(t) {
  t.Any = "any",
    t.ApNortheast1 = "ap-northeast-1",
    t.ApNortheast2 = "ap-northeast-2",
    t.ApSouth1 = "ap-south-1",
    t.ApSoutheast1 = "ap-southeast-1",
    t.ApSoutheast2 = "ap-southeast-2",
    t.CaCentral1 = "ca-central-1",
    t.EuCentral1 = "eu-central-1",
    t.EuWest1 = "eu-west-1",
    t.EuWest2 = "eu-west-2",
    t.EuWest3 = "eu-west-3",
    t.SaEast1 = "sa-east-1",
    t.UsEast1 = "us-east-1",
    t.UsWest1 = "us-west-1",
    t.UsWest2 = "us-west-2";
})(xf || (xf = {}));
var x6 = function(t, e, i, r) {
    function n(a) {
      return a instanceof i ? a : new i(function(o) {
        o(a);
      });
    }
    return new (i || (i = Promise))(function(a, o) {
      function s(c) {
        try {
          d(r.next(c));
        }
        catch (u) {
          o(u);
        }
      }
      function l(c) {
        try {
          d(r.throw(c));
        }
        catch (u) {
          o(u);
        }
      }
      function d(c) {
        c.done ? a(c.value) : n(c.value).then(s, l);
      }
      d((r = r.apply(t, e || [])).next());
    });
  },
  Od = class {
    constructor(
      e,
      { headers: i = {}, customFetch: r, region: n = xf.Any } = {},
    ) {
      this.url = e, this.headers = i, this.region = n, this.fetch = Py(r);
    }
    setAuth(e) {
      this.headers.Authorization = `Bearer ${e}`;
    }
    invoke(e, i = {}) {
      var r;
      return x6(this, void 0, void 0, function*() {
        try {
          let { headers: n, method: a, body: o } = i, s = {}, { region: l } = i;
          l || (l = this.region), l && l !== "any" && (s["x-region"] = l);
          let d;
          o && (n && !Object.prototype.hasOwnProperty.call(n, "Content-Type")
            || !n)
            && (typeof Blob < "u" && o instanceof Blob
                || o instanceof ArrayBuffer
              ? (s["Content-Type"] = "application/octet-stream", d = o)
              : typeof o == "string"
              ? (s["Content-Type"] = "text/plain", d = o)
              : typeof FormData < "u" && o instanceof FormData
              ? d = o
              : (s["Content-Type"] = "application/json",
                d = JSON.stringify(o)));
          let c = yield this.fetch(`${this.url}/${e}`, {
              method: a || "POST",
              headers: Object.assign(
                Object.assign(Object.assign({}, s), this.headers),
                n,
              ),
              body: d,
            }).catch(x => {
              throw new gf(x);
            }),
            u = c.headers.get("x-relay-error");
          if (u && u === "true") throw new vf(c);
          if (!c.ok) throw new _f(c);
          let f = ((r = c.headers.get("Content-Type")) !== null && r !== void 0
              ? r
              : "text/plain").split(";")[0].trim(),
            h;
          return f === "application/json"
            ? h = yield c.json()
            : f === "application/octet-stream"
            ? h = yield c.blob()
            : f === "text/event-stream"
            ? h = c
            : f === "multipart/form-data"
            ? h = yield c.formData()
            : h = yield c.text(),
            { data: h, error: null };
        }
        catch (n) {
          return { data: null, error: n };
        }
      });
    }
  };
Ya();
var Rd = class extends Error {
  constructor(e) {
    super(e.message),
      this.name = "PostgrestError",
      this.details = e.details,
      this.hint = e.hint,
      this.code = e.code;
  }
};
var Ys = class {
  constructor(e) {
    this.shouldThrowOnError = !1,
      this.method = e.method,
      this.url = e.url,
      this.headers = e.headers,
      this.schema = e.schema,
      this.body = e.body,
      this.shouldThrowOnError = e.shouldThrowOnError,
      this.signal = e.signal,
      this.isMaybeSingle = e.isMaybeSingle,
      e.fetch
        ? this.fetch = e.fetch
        : typeof fetch > "u"
        ? this.fetch = kd
        : this.fetch = fetch;
  }
  throwOnError() {
    return this.shouldThrowOnError = !0, this;
  }
  then(e, i) {
    this.schema === void 0
    || (["GET", "HEAD"].includes(this.method)
      ? this.headers["Accept-Profile"] = this.schema
      : this.headers["Content-Profile"] = this.schema),
      this.method !== "GET" && this.method !== "HEAD"
      && (this.headers["Content-Type"] = "application/json");
    let r = this.fetch,
      n = r(this.url.toString(), {
        method: this.method,
        headers: this.headers,
        body: JSON.stringify(this.body),
        signal: this.signal,
      }).then(async a => {
        var o, s, l;
        let d = null, c = null, u = null, f = a.status, h = a.statusText;
        if (a.ok) {
          if (this.method !== "HEAD") {
            let y = await a.text();
            y === ""
              || (this.headers.Accept === "text/csv"
                  || this.headers.Accept
                    && this.headers.Accept.includes(
                      "application/vnd.pgrst.plan+text",
                    )
                ? c = y
                : c = JSON.parse(y));
          }
          let S = (o = this.headers.Prefer) === null || o === void 0
              ? void 0
              : o.match(/count=(exact|planned|estimated)/),
            p = (s = a.headers.get("content-range")) === null || s === void 0
              ? void 0
              : s.split("/");
          S && p && p.length > 1 && (u = parseInt(p[1])),
            this.isMaybeSingle && this.method === "GET" && Array.isArray(c)
            && (c.length > 1
              ? (d = {
                code: "PGRST116",
                details:
                  `Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,
                hint: null,
                message:
                  "JSON object requested, multiple (or no) rows returned",
              },
                c = null,
                u = null,
                f = 406,
                h = "Not Acceptable")
              : c.length === 1
              ? c = c[0]
              : c = null);
        }
        else {
          let S = await a.text();
          try {
            d = JSON.parse(S),
              Array.isArray(d) && a.status === 404
              && (c = [], d = null, f = 200, h = "OK");
          }
          catch {
            a.status === 404 && S === ""
              ? (f = 204, h = "No Content")
              : d = { message: S };
          }
          if (
            d && this.isMaybeSingle
            && (!((l = d?.details) === null || l === void 0)
              && l.includes("0 rows"))
            && (d = null, f = 200, h = "OK"), d && this.shouldThrowOnError
          ) {
            throw new Rd(d);
          }
        }
        return { error: d, data: c, count: u, status: f, statusText: h };
      });
    return this.shouldThrowOnError || (n = n.catch(a => {
      var o, s, l;
      return {
        error: {
          message: `${
            (o = a?.name) !== null && o !== void 0
              ? o
              : "FetchError"
          }: ${a?.message}`,
          details: `${
            (s = a?.stack) !== null && s !== void 0
              ? s
              : ""
          }`,
          hint: "",
          code: `${(l = a?.code) !== null && l !== void 0 ? l : ""}`,
        },
        data: null,
        count: null,
        status: 0,
        statusText: "",
      };
    })),
      n.then(e, i);
  }
};
var Xs = class extends Ys {
  select(e) {
    let i = !1,
      r = (e ?? "*").split("").map(n =>
        /\s/.test(n) && !i ? "" : (n === "\"" && (i = !i), n)
      ).join("");
    return this.url.searchParams.set("select", r),
      this.headers.Prefer && (this.headers.Prefer += ","),
      this.headers.Prefer += "return=representation",
      this;
  }
  order(
    e,
    {
      ascending: i = !0,
      nullsFirst: r,
      foreignTable: n,
      referencedTable: a = n,
    } = {},
  ) {
    let o = a ? `${a}.order` : "order", s = this.url.searchParams.get(o);
    return this.url.searchParams.set(
      o,
      `${s ? `${s},` : ""}${e}.${i ? "asc" : "desc"}${
        r === void 0 ? "" : r ? ".nullsfirst" : ".nullslast"
      }`,
    ),
      this;
  }
  limit(e, { foreignTable: i, referencedTable: r = i } = {}) {
    let n = typeof r > "u" ? "limit" : `${r}.limit`;
    return this.url.searchParams.set(n, `${e}`), this;
  }
  range(e, i, { foreignTable: r, referencedTable: n = r } = {}) {
    let a = typeof n > "u" ? "offset" : `${n}.offset`,
      o = typeof n > "u" ? "limit" : `${n}.limit`;
    return this.url.searchParams.set(a, `${e}`),
      this.url.searchParams.set(o, `${i - e + 1}`),
      this;
  }
  abortSignal(e) {
    return this.signal = e, this;
  }
  single() {
    return this.headers.Accept = "application/vnd.pgrst.object+json", this;
  }
  maybeSingle() {
    return this.method === "GET"
      ? this.headers.Accept = "application/json"
      : this.headers.Accept = "application/vnd.pgrst.object+json",
      this.isMaybeSingle = !0,
      this;
  }
  csv() {
    return this.headers.Accept = "text/csv", this;
  }
  geojson() {
    return this.headers.Accept = "application/geo+json", this;
  }
  explain(
    {
      analyze: e = !1,
      verbose: i = !1,
      settings: r = !1,
      buffers: n = !1,
      wal: a = !1,
      format: o = "text",
    } = {},
  ) {
    var s;
    let l = [
        e ? "analyze" : null,
        i ? "verbose" : null,
        r ? "settings" : null,
        n ? "buffers" : null,
        a ? "wal" : null,
      ].filter(Boolean).join("|"),
      d = (s = this.headers.Accept) !== null && s !== void 0
        ? s
        : "application/json";
    return this.headers.Accept =
      `application/vnd.pgrst.plan+${o}; for="${d}"; options=${l};`,
      o === "json" ? this : this;
  }
  rollback() {
    var e;
    return ((e = this.headers.Prefer) !== null && e !== void 0 ? e : "").trim()
        .length > 0
      ? this.headers.Prefer += ",tx=rollback"
      : this.headers.Prefer = "tx=rollback",
      this;
  }
  returns() {
    return this;
  }
};
var pn = class extends Xs {
  eq(e, i) {
    return this.url.searchParams.append(e, `eq.${i}`), this;
  }
  neq(e, i) {
    return this.url.searchParams.append(e, `neq.${i}`), this;
  }
  gt(e, i) {
    return this.url.searchParams.append(e, `gt.${i}`), this;
  }
  gte(e, i) {
    return this.url.searchParams.append(e, `gte.${i}`), this;
  }
  lt(e, i) {
    return this.url.searchParams.append(e, `lt.${i}`), this;
  }
  lte(e, i) {
    return this.url.searchParams.append(e, `lte.${i}`), this;
  }
  like(e, i) {
    return this.url.searchParams.append(e, `like.${i}`), this;
  }
  likeAllOf(e, i) {
    return this.url.searchParams.append(e, `like(all).{${i.join(",")}}`), this;
  }
  likeAnyOf(e, i) {
    return this.url.searchParams.append(e, `like(any).{${i.join(",")}}`), this;
  }
  ilike(e, i) {
    return this.url.searchParams.append(e, `ilike.${i}`), this;
  }
  ilikeAllOf(e, i) {
    return this.url.searchParams.append(e, `ilike(all).{${i.join(",")}}`), this;
  }
  ilikeAnyOf(e, i) {
    return this.url.searchParams.append(e, `ilike(any).{${i.join(",")}}`), this;
  }
  is(e, i) {
    return this.url.searchParams.append(e, `is.${i}`), this;
  }
  in(e, i) {
    let r = Array.from(new Set(i)).map(n =>
      typeof n == "string" && new RegExp("[,()]").test(n) ? `"${n}"` : `${n}`
    ).join(",");
    return this.url.searchParams.append(e, `in.(${r})`), this;
  }
  contains(e, i) {
    return typeof i == "string"
      ? this.url.searchParams.append(e, `cs.${i}`)
      : Array.isArray(i)
      ? this.url.searchParams.append(e, `cs.{${i.join(",")}}`)
      : this.url.searchParams.append(e, `cs.${JSON.stringify(i)}`),
      this;
  }
  containedBy(e, i) {
    return typeof i == "string"
      ? this.url.searchParams.append(e, `cd.${i}`)
      : Array.isArray(i)
      ? this.url.searchParams.append(e, `cd.{${i.join(",")}}`)
      : this.url.searchParams.append(e, `cd.${JSON.stringify(i)}`),
      this;
  }
  rangeGt(e, i) {
    return this.url.searchParams.append(e, `sr.${i}`), this;
  }
  rangeGte(e, i) {
    return this.url.searchParams.append(e, `nxl.${i}`), this;
  }
  rangeLt(e, i) {
    return this.url.searchParams.append(e, `sl.${i}`), this;
  }
  rangeLte(e, i) {
    return this.url.searchParams.append(e, `nxr.${i}`), this;
  }
  rangeAdjacent(e, i) {
    return this.url.searchParams.append(e, `adj.${i}`), this;
  }
  overlaps(e, i) {
    return typeof i == "string"
      ? this.url.searchParams.append(e, `ov.${i}`)
      : this.url.searchParams.append(e, `ov.{${i.join(",")}}`),
      this;
  }
  textSearch(e, i, { config: r, type: n } = {}) {
    let a = "";
    n === "plain"
      ? a = "pl"
      : n === "phrase"
      ? a = "ph"
      : n === "websearch" && (a = "w");
    let o = r === void 0 ? "" : `(${r})`;
    return this.url.searchParams.append(e, `${a}fts${o}.${i}`), this;
  }
  match(e) {
    return Object.entries(e).forEach(([i, r]) => {
      this.url.searchParams.append(i, `eq.${r}`);
    }),
      this;
  }
  not(e, i, r) {
    return this.url.searchParams.append(e, `not.${i}.${r}`), this;
  }
  or(e, { foreignTable: i, referencedTable: r = i } = {}) {
    let n = r ? `${r}.or` : "or";
    return this.url.searchParams.append(n, `(${e})`), this;
  }
  filter(e, i, r) {
    return this.url.searchParams.append(e, `${i}.${r}`), this;
  }
};
var Ks = class {
  constructor(e, { headers: i = {}, schema: r, fetch: n }) {
    this.url = e, this.headers = i, this.schema = r, this.fetch = n;
  }
  select(e, { head: i = !1, count: r } = {}) {
    let n = i ? "HEAD" : "GET",
      a = !1,
      o = (e ?? "*").split("").map(s =>
        /\s/.test(s) && !a ? "" : (s === "\"" && (a = !a), s)
      ).join("");
    return this.url.searchParams.set("select", o),
      r && (this.headers.Prefer = `count=${r}`),
      new pn({
        method: n,
        url: this.url,
        headers: this.headers,
        schema: this.schema,
        fetch: this.fetch,
        allowEmpty: !1,
      });
  }
  insert(e, { count: i, defaultToNull: r = !0 } = {}) {
    let n = "POST", a = [];
    if (
      this.headers.Prefer && a.push(this.headers.Prefer),
        i && a.push(`count=${i}`),
        r || a.push("missing=default"),
        this.headers.Prefer = a.join(","),
        Array.isArray(e)
    ) {
      let o = e.reduce((s, l) => s.concat(Object.keys(l)), []);
      if (o.length > 0) {
        let s = [...new Set(o)].map(l => `"${l}"`);
        this.url.searchParams.set("columns", s.join(","));
      }
    }
    return new pn({
      method: n,
      url: this.url,
      headers: this.headers,
      schema: this.schema,
      body: e,
      fetch: this.fetch,
      allowEmpty: !1,
    });
  }
  upsert(
    e,
    {
      onConflict: i,
      ignoreDuplicates: r = !1,
      count: n,
      defaultToNull: a = !0,
    } = {},
  ) {
    let o = "POST", s = [`resolution=${r ? "ignore" : "merge"}-duplicates`];
    if (
      i !== void 0 && this.url.searchParams.set("on_conflict", i),
        this.headers.Prefer && s.push(this.headers.Prefer),
        n && s.push(`count=${n}`),
        a || s.push("missing=default"),
        this.headers.Prefer = s.join(","),
        Array.isArray(e)
    ) {
      let l = e.reduce((d, c) => d.concat(Object.keys(c)), []);
      if (l.length > 0) {
        let d = [...new Set(l)].map(c => `"${c}"`);
        this.url.searchParams.set("columns", d.join(","));
      }
    }
    return new pn({
      method: o,
      url: this.url,
      headers: this.headers,
      schema: this.schema,
      body: e,
      fetch: this.fetch,
      allowEmpty: !1,
    });
  }
  update(e, { count: i } = {}) {
    let r = "PATCH", n = [];
    return this.headers.Prefer && n.push(this.headers.Prefer),
      i && n.push(`count=${i}`),
      this.headers.Prefer = n.join(","),
      new pn({
        method: r,
        url: this.url,
        headers: this.headers,
        schema: this.schema,
        body: e,
        fetch: this.fetch,
        allowEmpty: !1,
      });
  }
  delete({ count: e } = {}) {
    let i = "DELETE", r = [];
    return e && r.push(`count=${e}`),
      this.headers.Prefer && r.unshift(this.headers.Prefer),
      this.headers.Prefer = r.join(","),
      new pn({
        method: i,
        url: this.url,
        headers: this.headers,
        schema: this.schema,
        fetch: this.fetch,
        allowEmpty: !1,
      });
  }
};
var zy = "1.15.2";
var By = { "X-Client-Info": `postgrest-js/${zy}` };
var Zs = class t {
  constructor(e, { headers: i = {}, schema: r, fetch: n } = {}) {
    this.url = e,
      this.headers = Object.assign(Object.assign({}, By), i),
      this.schemaName = r,
      this.fetch = n;
  }
  from(e) {
    let i = new URL(`${this.url}/${e}`);
    return new Ks(i, {
      headers: Object.assign({}, this.headers),
      schema: this.schemaName,
      fetch: this.fetch,
    });
  }
  schema(e) {
    return new t(this.url, {
      headers: this.headers,
      schema: e,
      fetch: this.fetch,
    });
  }
  rpc(e, i = {}, { head: r = !1, get: n = !1, count: a } = {}) {
    let o, s = new URL(`${this.url}/rpc/${e}`), l;
    r || n
      ? (o = r ? "HEAD" : "GET",
        Object.entries(i).filter(([c, u]) => u !== void 0).map((
          [c, u],
        ) => [c, Array.isArray(u) ? `{${u.join(",")}}` : `${u}`]).forEach(
          ([c, u]) => {
            s.searchParams.append(c, u);
          },
        ))
      : (o = "POST", l = i);
    let d = Object.assign({}, this.headers);
    return a && (d.Prefer = `count=${a}`),
      new pn({
        method: o,
        url: s,
        headers: d,
        schema: this.schemaName,
        body: l,
        fetch: this.fetch,
        allowEmpty: !1,
      });
  }
};
var Uy = "2.9.4";
var Gy = { "X-Client-Info": `realtime-js/${Uy}` },
  Hy = "1.0.0",
  yf = 1e4,
  jy = 1e3,
  Ho;
(function(t) {
  t[t.connecting = 0] = "connecting",
    t[t.open = 1] = "open",
    t[t.closing = 2] = "closing",
    t[t.closed = 3] = "closed";
})(Ho || (Ho = {}));
var Qr;
(function(t) {
  t.closed = "closed",
    t.errored = "errored",
    t.joined = "joined",
    t.joining = "joining",
    t.leaving = "leaving";
})(Qr || (Qr = {}));
var an;
(function(t) {
  t.close = "phx_close",
    t.error = "phx_error",
    t.join = "phx_join",
    t.reply = "phx_reply",
    t.leave = "phx_leave",
    t.access_token = "access_token";
})(an || (an = {}));
var bf;
(function(t) {
  t.websocket = "websocket";
})(bf || (bf = {}));
var Xa;
(function(t) {
  t.Connecting = "connecting",
    t.Open = "open",
    t.Closing = "closing",
    t.Closed = "closed";
})(Xa || (Xa = {}));
var jo = class {
  constructor(e, i) {
    this.callback = e,
      this.timerCalc = i,
      this.timer = void 0,
      this.tries = 0,
      this.callback = e,
      this.timerCalc = i;
  }
  reset() {
    this.tries = 0, clearTimeout(this.timer);
  }
  scheduleTimeout() {
    clearTimeout(this.timer),
      this.timer = setTimeout(() => {
        this.tries = this.tries + 1, this.callback();
      }, this.timerCalc(this.tries + 1));
  }
};
var Fd = class {
  constructor() {
    this.HEADER_LENGTH = 1;
  }
  decode(e, i) {
    return e.constructor === ArrayBuffer
      ? i(this._binaryDecode(e))
      : i(typeof e == "string" ? JSON.parse(e) : {});
  }
  _binaryDecode(e) {
    let i = new DataView(e), r = new TextDecoder();
    return this._decodeBroadcast(e, i, r);
  }
  _decodeBroadcast(e, i, r) {
    let n = i.getUint8(1),
      a = i.getUint8(2),
      o = this.HEADER_LENGTH + 2,
      s = r.decode(e.slice(o, o + n));
    o = o + n;
    let l = r.decode(e.slice(o, o + a));
    o = o + a;
    let d = JSON.parse(r.decode(e.slice(o, e.byteLength)));
    return { ref: null, topic: s, event: l, payload: d };
  }
};
var Vo = class {
  constructor(e, i, r = {}, n = yf) {
    this.channel = e,
      this.event = i,
      this.payload = r,
      this.timeout = n,
      this.sent = !1,
      this.timeoutTimer = void 0,
      this.ref = "",
      this.receivedResp = null,
      this.recHooks = [],
      this.refEvent = null;
  }
  resend(e) {
    this.timeout = e,
      this._cancelRefEvent(),
      this.ref = "",
      this.refEvent = null,
      this.receivedResp = null,
      this.sent = !1,
      this.send();
  }
  send() {
    this._hasReceived("timeout")
      || (this.startTimeout(),
        this.sent = !0,
        this.channel.socket.push({
          topic: this.channel.topic,
          event: this.event,
          payload: this.payload,
          ref: this.ref,
          join_ref: this.channel._joinRef(),
        }));
  }
  updatePayload(e) {
    this.payload = Object.assign(Object.assign({}, this.payload), e);
  }
  receive(e, i) {
    var r;
    return this._hasReceived(e)
      && i(
        (r = this.receivedResp) === null || r === void 0 ? void 0 : r.response,
      ),
      this.recHooks.push({ status: e, callback: i }),
      this;
  }
  startTimeout() {
    if (this.timeoutTimer) return;
    this.ref = this.channel.socket._makeRef(),
      this.refEvent = this.channel._replyEventName(this.ref);
    let e = i => {
      this._cancelRefEvent(),
        this._cancelTimeout(),
        this.receivedResp = i,
        this._matchReceive(i);
    };
    this.channel._on(this.refEvent, {}, e),
      this.timeoutTimer = setTimeout(() => {
        this.trigger("timeout", {});
      }, this.timeout);
  }
  trigger(e, i) {
    this.refEvent
      && this.channel._trigger(this.refEvent, { status: e, response: i });
  }
  destroy() {
    this._cancelRefEvent(), this._cancelTimeout();
  }
  _cancelRefEvent() {
    this.refEvent && this.channel._off(this.refEvent, {});
  }
  _cancelTimeout() {
    clearTimeout(this.timeoutTimer), this.timeoutTimer = void 0;
  }
  _matchReceive({ status: e, response: i }) {
    this.recHooks.filter(r => r.status === e).forEach(r => r.callback(i));
  }
  _hasReceived(e) {
    return this.receivedResp && this.receivedResp.status === e;
  }
};
var Gp;
(function(t) {
  t.SYNC = "sync", t.JOIN = "join", t.LEAVE = "leave";
})(Gp || (Gp = {}));
var Js = class t {
  constructor(e, i) {
    this.channel = e,
      this.state = {},
      this.pendingDiffs = [],
      this.joinRef = null,
      this.caller = { onJoin: () => {}, onLeave: () => {}, onSync: () => {} };
    let r = i?.events || { state: "presence_state", diff: "presence_diff" };
    this.channel._on(r.state, {}, n => {
      let { onJoin: a, onLeave: o, onSync: s } = this.caller;
      this.joinRef = this.channel._joinRef(),
        this.state = t.syncState(this.state, n, a, o),
        this.pendingDiffs.forEach(l => {
          this.state = t.syncDiff(this.state, l, a, o);
        }),
        this.pendingDiffs = [],
        s();
    }),
      this.channel._on(r.diff, {}, n => {
        let { onJoin: a, onLeave: o, onSync: s } = this.caller;
        this.inPendingSyncState()
          ? this.pendingDiffs.push(n)
          : (this.state = t.syncDiff(this.state, n, a, o), s());
      }),
      this.onJoin((n, a, o) => {
        this.channel._trigger("presence", {
          event: "join",
          key: n,
          currentPresences: a,
          newPresences: o,
        });
      }),
      this.onLeave((n, a, o) => {
        this.channel._trigger("presence", {
          event: "leave",
          key: n,
          currentPresences: a,
          leftPresences: o,
        });
      }),
      this.onSync(() => {
        this.channel._trigger("presence", { event: "sync" });
      });
  }
  static syncState(e, i, r, n) {
    let a = this.cloneDeep(e), o = this.transformState(i), s = {}, l = {};
    return this.map(a, (d, c) => {
      o[d] || (l[d] = c);
    }),
      this.map(o, (d, c) => {
        let u = a[d];
        if (u) {
          let f = c.map(p => p.presence_ref),
            h = u.map(p => p.presence_ref),
            x = c.filter(p => h.indexOf(p.presence_ref) < 0),
            S = u.filter(p => f.indexOf(p.presence_ref) < 0);
          x.length > 0 && (s[d] = x), S.length > 0 && (l[d] = S);
        }
        else s[d] = c;
      }),
      this.syncDiff(a, { joins: s, leaves: l }, r, n);
  }
  static syncDiff(e, i, r, n) {
    let { joins: a, leaves: o } = {
      joins: this.transformState(i.joins),
      leaves: this.transformState(i.leaves),
    };
    return r || (r = () => {}),
      n || (n = () => {}),
      this.map(a, (s, l) => {
        var d;
        let c = (d = e[s]) !== null && d !== void 0 ? d : [];
        if (e[s] = this.cloneDeep(l), c.length > 0) {
          let u = e[s].map(h => h.presence_ref),
            f = c.filter(h => u.indexOf(h.presence_ref) < 0);
          e[s].unshift(...f);
        }
        r(s, c, l);
      }),
      this.map(o, (s, l) => {
        let d = e[s];
        if (!d) return;
        let c = l.map(u => u.presence_ref);
        d = d.filter(u => c.indexOf(u.presence_ref) < 0),
          e[s] = d,
          n(s, d, l),
          d.length === 0 && delete e[s];
      }),
      e;
  }
  static map(e, i) {
    return Object.getOwnPropertyNames(e).map(r => i(r, e[r]));
  }
  static transformState(e) {
    return e = this.cloneDeep(e),
      Object.getOwnPropertyNames(e).reduce((i, r) => {
        let n = e[r];
        return "metas" in n
          ? i[r] = n.metas.map(
            a => (a.presence_ref = a.phx_ref,
              delete a.phx_ref,
              delete a.phx_ref_prev,
              a)
          )
          : i[r] = n,
          i;
      }, {});
  }
  static cloneDeep(e) {
    return JSON.parse(JSON.stringify(e));
  }
  onJoin(e) {
    this.caller.onJoin = e;
  }
  onLeave(e) {
    this.caller.onLeave = e;
  }
  onSync(e) {
    this.caller.onSync = e;
  }
  inPendingSyncState() {
    return !this.joinRef || this.joinRef !== this.channel._joinRef();
  }
};
var Di;
(function(t) {
  t.abstime = "abstime",
    t.bool = "bool",
    t.date = "date",
    t.daterange = "daterange",
    t.float4 = "float4",
    t.float8 = "float8",
    t.int2 = "int2",
    t.int4 = "int4",
    t.int4range = "int4range",
    t.int8 = "int8",
    t.int8range = "int8range",
    t.json = "json",
    t.jsonb = "jsonb",
    t.money = "money",
    t.numeric = "numeric",
    t.oid = "oid",
    t.reltime = "reltime",
    t.text = "text",
    t.time = "time",
    t.timestamp = "timestamp",
    t.timestamptz = "timestamptz",
    t.timetz = "timetz",
    t.tsrange = "tsrange",
    t.tstzrange = "tstzrange";
})(Di || (Di = {}));
var jp = (t, e, i = {}) => {
    var r;
    let n = (r = i.skipTypes) !== null && r !== void 0 ? r : [];
    return Object.keys(e).reduce((a, o) => (a[o] = b6(o, t, e, n), a), {});
  },
  b6 = (t, e, i, r) => {
    let n = e.find(s => s.name === t), a = n?.type, o = i[t];
    return a && !r.includes(a) ? Vy(a, o) : Hp(o);
  },
  Vy = (t, e) => {
    if (t.charAt(0) === "_") {
      let i = t.slice(1, t.length);
      return E6(e, i);
    }
    switch (t) {
      case Di.bool:
        return y6(e);
      case Di.float4:
      case Di.float8:
      case Di.int2:
      case Di.int4:
      case Di.int8:
      case Di.numeric:
      case Di.oid:
        return w6(e);
      case Di.json:
      case Di.jsonb:
        return S6(e);
      case Di.timestamp:
        return T6(e);
      case Di.abstime:
      case Di.date:
      case Di.daterange:
      case Di.int4range:
      case Di.int8range:
      case Di.money:
      case Di.reltime:
      case Di.text:
      case Di.time:
      case Di.timestamptz:
      case Di.timetz:
      case Di.tsrange:
      case Di.tstzrange:
        return Hp(e);
      default:
        return Hp(e);
    }
  },
  Hp = t => t,
  y6 = t => {
    switch (t) {
      case "t":
        return !0;
      case "f":
        return !1;
      default:
        return t;
    }
  },
  w6 = t => {
    if (typeof t == "string") {
      let e = parseFloat(t);
      if (!Number.isNaN(e)) return e;
    }
    return t;
  },
  S6 = t => {
    if (typeof t == "string") {try {
        return JSON.parse(t);
      }
      catch (e) {
        return console.log(`JSON parse error: ${e}`), t;
      }}
    return t;
  },
  E6 = (t, e) => {
    if (typeof t != "string") return t;
    let i = t.length - 1, r = t[i];
    if (t[0] === "{" && r === "}") {
      let a, o = t.slice(1, i);
      try {
        a = JSON.parse("[" + o + "]");
      }
      catch {
        a = o ? o.split(",") : [];
      }
      return a.map(s => Vy(e, s));
    }
    return t;
  },
  T6 = t => typeof t == "string" ? t.replace(" ", "T") : t;
var Vp;
(function(t) {
  t.ALL = "*", t.INSERT = "INSERT", t.UPDATE = "UPDATE", t.DELETE = "DELETE";
})(Vp || (Vp = {}));
var qp;
(function(t) {
  t.BROADCAST = "broadcast",
    t.PRESENCE = "presence",
    t.POSTGRES_CHANGES = "postgres_changes";
})(qp || (qp = {}));
var Wp;
(function(t) {
  t.SUBSCRIBED = "SUBSCRIBED",
    t.TIMED_OUT = "TIMED_OUT",
    t.CLOSED = "CLOSED",
    t.CHANNEL_ERROR = "CHANNEL_ERROR";
})(Wp || (Wp = {}));
var Qs = class t {
  constructor(e, i = { config: {} }, r) {
    this.topic = e,
      this.params = i,
      this.socket = r,
      this.bindings = {},
      this.state = Qr.closed,
      this.joinedOnce = !1,
      this.pushBuffer = [],
      this.subTopic = e.replace(/^realtime:/i, ""),
      this.params.config = Object.assign({
        broadcast: { ack: !1, self: !1 },
        presence: { key: "" },
      }, i.config),
      this.timeout = this.socket.timeout,
      this.joinPush = new Vo(this, an.join, this.params, this.timeout),
      this.rejoinTimer = new jo(
        () => this._rejoinUntilConnected(),
        this.socket.reconnectAfterMs,
      ),
      this.joinPush.receive("ok", () => {
        this.state = Qr.joined,
          this.rejoinTimer.reset(),
          this.pushBuffer.forEach(n => n.send()),
          this.pushBuffer = [];
      }),
      this._onClose(() => {
        this.rejoinTimer.reset(),
          this.socket.log("channel", `close ${this.topic} ${this._joinRef()}`),
          this.state = Qr.closed,
          this.socket._remove(this);
      }),
      this._onError(n => {
        this._isLeaving() || this._isClosed()
          || (this.socket.log("channel", `error ${this.topic}`, n),
            this.state = Qr.errored,
            this.rejoinTimer.scheduleTimeout());
      }),
      this.joinPush.receive("timeout", () => {
        this._isJoining()
          && (this.socket.log(
            "channel",
            `timeout ${this.topic}`,
            this.joinPush.timeout,
          ),
            this.state = Qr.errored,
            this.rejoinTimer.scheduleTimeout());
      }),
      this._on(an.reply, {}, (n, a) => {
        this._trigger(this._replyEventName(a), n);
      }),
      this.presence = new Js(this),
      this.broadcastEndpointURL = this._broadcastEndpointURL();
  }
  subscribe(e, i = this.timeout) {
    var r, n;
    if (this.socket.isConnected() || this.socket.connect(), this.joinedOnce) {
      throw "tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";
    }
    {
      let { config: { broadcast: a, presence: o } } = this.params;
      this._onError(d => e && e("CHANNEL_ERROR", d)),
        this._onClose(() => e && e("CLOSED"));
      let s = {},
        l = {
          broadcast: a,
          presence: o,
          postgres_changes:
            (n = (r = this.bindings.postgres_changes) === null || r === void 0
                  ? void 0
                  : r.map(d => d.filter)) !== null && n !== void 0
              ? n
              : [],
        };
      this.socket.accessToken && (s.access_token = this.socket.accessToken),
        this.updateJoinPayload(Object.assign({ config: l }, s)),
        this.joinedOnce = !0,
        this._rejoin(i),
        this.joinPush.receive("ok", ({ postgres_changes: d }) => {
          var c;
          if (
            this.socket.accessToken
            && this.socket.setAuth(this.socket.accessToken), d === void 0
          ) {
            e && e("SUBSCRIBED");
            return;
          }
          else {
            let u = this.bindings.postgres_changes,
              f = (c = u?.length) !== null && c !== void 0 ? c : 0,
              h = [];
            for (let x = 0; x < f; x++) {
              let S = u[x],
                { filter: { event: p, schema: y, table: E, filter: g } } = S,
                _ = d && d[x];
              if (
                _ && _.event === p && _.schema === y && _.table === E
                && _.filter === g
              ) {
                h.push(Object.assign(Object.assign({}, S), { id: _.id }));
              }
              else {
                this.unsubscribe(),
                  e
                  && e(
                    "CHANNEL_ERROR",
                    new Error(
                      "mismatch between server and client bindings for postgres changes",
                    ),
                  );
                return;
              }
            }
            this.bindings.postgres_changes = h, e && e("SUBSCRIBED");
            return;
          }
        }).receive("error", d => {
          e && e(
            "CHANNEL_ERROR",
            new Error(JSON.stringify(Object.values(d).join(", ") || "error")),
          );
        }).receive("timeout", () => {
          e && e("TIMED_OUT");
        });
    }
    return this;
  }
  presenceState() {
    return this.presence.state;
  }
  async track(e, i = {}) {
    return await this.send(
      { type: "presence", event: "track", payload: e },
      i.timeout || this.timeout,
    );
  }
  async untrack(e = {}) {
    return await this.send({ type: "presence", event: "untrack" }, e);
  }
  on(e, i, r) {
    return this._on(e, i, r);
  }
  async send(e, i = {}) {
    var r, n;
    if (!this._canPush() && e.type === "broadcast") {
      let { event: a, payload: o } = e,
        s = {
          method: "POST",
          headers: {
            apikey: (r = this.socket.apiKey) !== null && r !== void 0 ? r : "",
            "Content-Type": "application/json",
          },
          body: JSON.stringify({
            messages: [{ topic: this.subTopic, event: a, payload: o }],
          }),
        };
      try {
        return (await this._fetchWithTimeout(
            this.broadcastEndpointURL,
            s,
            (n = i.timeout) !== null && n !== void 0 ? n : this.timeout,
          )).ok
          ? "ok"
          : "error";
      }
      catch (l) {
        return l.name === "AbortError" ? "timed out" : "error";
      }
    }
    else {
      return new Promise(a => {
        var o, s, l;
        let d = this._push(e.type, e, i.timeout || this.timeout);
        e.type === "broadcast"
        && !(!((l = (s = (o = this.params) === null || o === void 0
                    ? void 0
                    : o.config) === null || s === void 0
              ? void 0
              : s.broadcast) === null || l === void 0) && l.ack)
        && a("ok"),
          d.receive("ok", () => a("ok")),
          d.receive("error", () => a("error")),
          d.receive("timeout", () => a("timed out"));
      });
    }
  }
  updateJoinPayload(e) {
    this.joinPush.updatePayload(e);
  }
  unsubscribe(e = this.timeout) {
    this.state = Qr.leaving;
    let i = () => {
      this.socket.log("channel", `leave ${this.topic}`),
        this._trigger(an.close, "leave", this._joinRef());
    };
    return this.rejoinTimer.reset(),
      this.joinPush.destroy(),
      new Promise(r => {
        let n = new Vo(this, an.leave, {}, e);
        n.receive("ok", () => {
          i(), r("ok");
        }).receive("timeout", () => {
          i(), r("timed out");
        }).receive("error", () => {
          r("error");
        }),
          n.send(),
          this._canPush() || n.trigger("ok", {});
      });
  }
  _broadcastEndpointURL() {
    let e = this.socket.endPoint;
    return e = e.replace(/^ws/i, "http"),
      e = e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i, ""),
      e.replace(/\/+$/, "") + "/api/broadcast";
  }
  async _fetchWithTimeout(e, i, r) {
    let n = new AbortController(),
      a = setTimeout(() => n.abort(), r),
      o = await this.socket.fetch(
        e,
        Object.assign(Object.assign({}, i), { signal: n.signal }),
      );
    return clearTimeout(a), o;
  }
  _push(e, i, r = this.timeout) {
    if (!this.joinedOnce) {
      throw `tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;
    }
    let n = new Vo(this, e, i, r);
    return this._canPush()
      ? n.send()
      : (n.startTimeout(), this.pushBuffer.push(n)),
      n;
  }
  _onMessage(e, i, r) {
    return i;
  }
  _isMember(e) {
    return this.topic === e;
  }
  _joinRef() {
    return this.joinPush.ref;
  }
  _trigger(e, i, r) {
    var n, a;
    let o = e.toLocaleLowerCase(),
      { close: s, error: l, leave: d, join: c } = an;
    if (r && [s, l, d, c].indexOf(o) >= 0 && r !== this._joinRef()) return;
    let f = this._onMessage(o, i, r);
    if (i && !f) {
      throw "channel onMessage callbacks must return the payload, modified or unmodified";
    }
    ["insert", "update", "delete"].includes(o)
      ? (n = this.bindings.postgres_changes) === null || n === void 0
        || n.filter(h => {
          var x, S, p;
          return ((x = h.filter) === null || x === void 0 ? void 0 : x.event)
              === "*"
            || ((p = (S = h.filter) === null || S === void 0 ? void 0 : S.event)
                    === null || p === void 0
                ? void 0
                : p.toLocaleLowerCase()) === o;
        }).map(h => h.callback(f, r))
      : (a = this.bindings[o]) === null || a === void 0 || a.filter(h => {
        var x, S, p, y, E, g;
        if (["broadcast", "presence", "postgres_changes"].includes(o)) {
          if ("id" in h) {
            let _ = h.id,
              $ = (x = h.filter) === null || x === void 0 ? void 0 : x.event;
            return _ && ((S = i.ids) === null || S === void 0
              ? void 0
              : S.includes(_))
              && ($ === "*"
                || $?.toLocaleLowerCase()
                  === ((p = i.data) === null || p === void 0
                    ? void 0
                    : p.type.toLocaleLowerCase()));
          }
          else {
            let _ = (E = (y = h?.filter) === null || y === void 0
                    ? void 0
                    : y.event) === null || E === void 0
              ? void 0
              : E.toLocaleLowerCase();
            return _ === "*"
              || _
                === ((g = i?.event) === null || g === void 0
                  ? void 0
                  : g.toLocaleLowerCase());
          }
        }
        else return h.type.toLocaleLowerCase() === o;
      }).map(h => {
        if (typeof f == "object" && "ids" in f) {
          let x = f.data,
            { schema: S, table: p, commit_timestamp: y, type: E, errors: g } =
              x;
          f = Object.assign(
            Object.assign({}, {
              schema: S,
              table: p,
              commit_timestamp: y,
              eventType: E,
              new: {},
              old: {},
              errors: g,
            }),
            this._getPayloadRecords(x),
          );
        }
        h.callback(f, r);
      });
  }
  _isClosed() {
    return this.state === Qr.closed;
  }
  _isJoined() {
    return this.state === Qr.joined;
  }
  _isJoining() {
    return this.state === Qr.joining;
  }
  _isLeaving() {
    return this.state === Qr.leaving;
  }
  _replyEventName(e) {
    return `chan_reply_${e}`;
  }
  _on(e, i, r) {
    let n = e.toLocaleLowerCase(), a = { type: n, filter: i, callback: r };
    return this.bindings[n] ? this.bindings[n].push(a) : this.bindings[n] = [a],
      this;
  }
  _off(e, i) {
    let r = e.toLocaleLowerCase();
    return this.bindings[r] = this.bindings[r].filter(n => {
      var a;
      return !(((a = n.type) === null || a === void 0
            ? void 0
            : a.toLocaleLowerCase()) === r && t.isEqual(n.filter, i));
    }),
      this;
  }
  static isEqual(e, i) {
    if (Object.keys(e).length !== Object.keys(i).length) return !1;
    for (let r in e) if (e[r] !== i[r]) return !1;
    return !0;
  }
  _rejoinUntilConnected() {
    this.rejoinTimer.scheduleTimeout(),
      this.socket.isConnected() && this._rejoin();
  }
  _onClose(e) {
    this._on(an.close, {}, e);
  }
  _onError(e) {
    this._on(an.error, {}, i => e(i));
  }
  _canPush() {
    return this.socket.isConnected() && this._isJoined();
  }
  _rejoin(e = this.timeout) {
    this._isLeaving()
      || (this.socket._leaveOpenTopic(this.topic),
        this.state = Qr.joining,
        this.joinPush.resend(e));
  }
  _getPayloadRecords(e) {
    let i = { new: {}, old: {} };
    return (e.type === "INSERT" || e.type === "UPDATE")
      && (i.new = jp(e.columns, e.record)),
      (e.type === "UPDATE" || e.type === "DELETE")
      && (i.old = jp(e.columns, e.old_record)),
      i;
  }
};
var I6 = () => {},
  C6 = typeof WebSocket < "u",
  el = class {
    constructor(e, i) {
      var r;
      this.accessToken = null,
        this.apiKey = null,
        this.channels = [],
        this.endPoint = "",
        this.headers = Gy,
        this.params = {},
        this.timeout = yf,
        this.heartbeatIntervalMs = 3e4,
        this.heartbeatTimer = void 0,
        this.pendingHeartbeatRef = null,
        this.ref = 0,
        this.logger = I6,
        this.conn = null,
        this.sendBuffer = [],
        this.serializer = new Fd(),
        this.stateChangeCallbacks = {
          open: [],
          close: [],
          error: [],
          message: [],
        },
        this._resolveFetch = a => {
          let o;
          return a
            ? o = a
            : typeof fetch > "u"
            ? o = (...s) =>
              Promise.resolve().then(() => (Ya(), Ws)).then(({ default: l }) =>
                l(...s)
              )
            : o = fetch,
            (...s) => o(...s);
        },
        this.endPoint = `${e}/${bf.websocket}`,
        i?.transport ? this.transport = i.transport : this.transport = null,
        i?.params && (this.params = i.params),
        i?.headers
        && (this.headers = Object.assign(
          Object.assign({}, this.headers),
          i.headers,
        )),
        i?.timeout && (this.timeout = i.timeout),
        i?.logger && (this.logger = i.logger),
        i?.heartbeatIntervalMs
        && (this.heartbeatIntervalMs = i.heartbeatIntervalMs);
      let n = (r = i?.params) === null || r === void 0 ? void 0 : r.apikey;
      n && (this.accessToken = n, this.apiKey = n),
        this.reconnectAfterMs = i?.reconnectAfterMs
          ? i.reconnectAfterMs
          : a => [1e3, 2e3, 5e3, 1e4][a - 1] || 1e4,
        this.encode = i?.encode ? i.encode : (a, o) => o(JSON.stringify(a)),
        this.decode = i?.decode
          ? i.decode
          : this.serializer.decode.bind(this.serializer),
        this.reconnectTimer = new jo(async () => {
          this.disconnect(), this.connect();
        }, this.reconnectAfterMs),
        this.fetch = this._resolveFetch(i?.fetch);
    }
    connect() {
      if (!this.conn) {
        if (this.transport) {
          this.conn = new this.transport(this._endPointURL(), void 0, {
            headers: this.headers,
          });
          return;
        }
        if (C6) {
          this.conn = new WebSocket(this._endPointURL()),
            this.setupConnection();
          return;
        }
        this.conn = new Yp(this._endPointURL(), void 0, {
          close: () => {
            this.conn = null;
          },
        }),
          Promise.resolve().then(() => Dm(Wy())).then(({ default: e }) => {
            this.conn = new e(this._endPointURL(), void 0, {
              headers: this.headers,
            }), this.setupConnection();
          });
      }
    }
    disconnect(e, i) {
      this.conn
        && (this.conn.onclose = function() {},
          e ? this.conn.close(e, i ?? "") : this.conn.close(),
          this.conn = null,
          this.heartbeatTimer && clearInterval(this.heartbeatTimer),
          this.reconnectTimer.reset());
    }
    getChannels() {
      return this.channels;
    }
    async removeChannel(e) {
      let i = await e.unsubscribe();
      return this.channels.length === 0 && this.disconnect(), i;
    }
    async removeAllChannels() {
      let e = await Promise.all(this.channels.map(i => i.unsubscribe()));
      return this.disconnect(), e;
    }
    log(e, i, r) {
      this.logger(e, i, r);
    }
    connectionState() {
      switch (this.conn && this.conn.readyState) {
        case Ho.connecting:
          return Xa.Connecting;
        case Ho.open:
          return Xa.Open;
        case Ho.closing:
          return Xa.Closing;
        default:
          return Xa.Closed;
      }
    }
    isConnected() {
      return this.connectionState() === Xa.Open;
    }
    channel(e, i = { config: {} }) {
      let r = new Qs(`realtime:${e}`, i, this);
      return this.channels.push(r), r;
    }
    push(e) {
      let { topic: i, event: r, payload: n, ref: a } = e,
        o = () => {
          this.encode(e, s => {
            var l;
            (l = this.conn) === null || l === void 0 || l.send(s);
          });
        };
      this.log("push", `${i} ${r} (${a})`, n),
        this.isConnected() ? o() : this.sendBuffer.push(o);
    }
    setAuth(e) {
      this.accessToken = e,
        this.channels.forEach(i => {
          e && i.updateJoinPayload({ access_token: e }),
            i.joinedOnce && i._isJoined()
            && i._push(an.access_token, { access_token: e });
        });
    }
    _makeRef() {
      let e = this.ref + 1;
      return e === this.ref ? this.ref = 0 : this.ref = e, this.ref.toString();
    }
    _leaveOpenTopic(e) {
      let i = this.channels.find(r =>
        r.topic === e && (r._isJoined() || r._isJoining())
      );
      i
        && (this.log("transport", `leaving duplicate topic "${e}"`),
          i.unsubscribe());
    }
    _remove(e) {
      this.channels = this.channels.filter(i => i._joinRef() !== e._joinRef());
    }
    setupConnection() {
      this.conn
        && (this.conn.binaryType = "arraybuffer",
          this.conn.onopen = () => this._onConnOpen(),
          this.conn.onerror = e => this._onConnError(e),
          this.conn.onmessage = e => this._onConnMessage(e),
          this.conn.onclose = e => this._onConnClose(e));
    }
    _endPointURL() {
      return this._appendParams(
        this.endPoint,
        Object.assign({}, this.params, { vsn: Hy }),
      );
    }
    _onConnMessage(e) {
      this.decode(e.data, i => {
        let { topic: r, event: n, payload: a, ref: o } = i;
        (o && o === this.pendingHeartbeatRef || n === a?.type)
        && (this.pendingHeartbeatRef = null),
          this.log(
            "receive",
            `${a.status || ""} ${r} ${n} ${o && "(" + o + ")" || ""}`,
            a,
          ),
          this.channels.filter(s => s._isMember(r)).forEach(s =>
            s._trigger(n, a, o)
          ),
          this.stateChangeCallbacks.message.forEach(s => s(i));
      });
    }
    _onConnOpen() {
      this.log("transport", `connected to ${this._endPointURL()}`),
        this._flushSendBuffer(),
        this.reconnectTimer.reset(),
        this.heartbeatTimer && clearInterval(this.heartbeatTimer),
        this.heartbeatTimer = setInterval(
          () => this._sendHeartbeat(),
          this.heartbeatIntervalMs,
        ),
        this.stateChangeCallbacks.open.forEach(e => e());
    }
    _onConnClose(e) {
      this.log("transport", "close", e),
        this._triggerChanError(),
        this.heartbeatTimer && clearInterval(this.heartbeatTimer),
        this.reconnectTimer.scheduleTimeout(),
        this.stateChangeCallbacks.close.forEach(i => i(e));
    }
    _onConnError(e) {
      this.log("transport", e.message),
        this._triggerChanError(),
        this.stateChangeCallbacks.error.forEach(i => i(e));
    }
    _triggerChanError() {
      this.channels.forEach(e => e._trigger(an.error));
    }
    _appendParams(e, i) {
      if (Object.keys(i).length === 0) return e;
      let r = e.match(/\?/) ? "&" : "?", n = new URLSearchParams(i);
      return `${e}${r}${n}`;
    }
    _flushSendBuffer() {
      this.isConnected() && this.sendBuffer.length > 0
        && (this.sendBuffer.forEach(e => e()), this.sendBuffer = []);
    }
    _sendHeartbeat() {
      var e;
      if (this.isConnected()) {
        if (this.pendingHeartbeatRef) {
          this.pendingHeartbeatRef = null,
            this.log(
              "transport",
              "heartbeat timeout. Attempting to re-establish connection",
            ),
            (e = this.conn) === null || e === void 0
            || e.close(jy, "hearbeat timeout");
          return;
        }
        this.pendingHeartbeatRef = this._makeRef(),
          this.push({
            topic: "phoenix",
            event: "heartbeat",
            payload: {},
            ref: this.pendingHeartbeatRef,
          }),
          this.setAuth(this.accessToken);
      }
    }
  },
  Yp = class {
    constructor(e, i, r) {
      this.binaryType = "arraybuffer",
        this.onclose = () => {},
        this.onerror = () => {},
        this.onmessage = () => {},
        this.onopen = () => {},
        this.readyState = Ho.connecting,
        this.send = () => {},
        this.url = null,
        this.url = e,
        this.close = r.close;
    }
  };
var tl = class extends Error {
  constructor(e) {
    super(e), this.__isStorageError = !0, this.name = "StorageError";
  }
};
function Ar(t) {
  return typeof t == "object" && t !== null && "__isStorageError" in t;
}
var wf = class extends tl {
    constructor(e, i) {
      super(e), this.name = "StorageApiError", this.status = i;
    }
    toJSON() {
      return { name: this.name, message: this.message, status: this.status };
    }
  },
  Dd = class extends tl {
    constructor(e, i) {
      super(e), this.name = "StorageUnknownError", this.originalError = i;
    }
  };
var k6 = function(t, e, i, r) {
    function n(a) {
      return a instanceof i ? a : new i(function(o) {
        o(a);
      });
    }
    return new (i || (i = Promise))(function(a, o) {
      function s(c) {
        try {
          d(r.next(c));
        }
        catch (u) {
          o(u);
        }
      }
      function l(c) {
        try {
          d(r.throw(c));
        }
        catch (u) {
          o(u);
        }
      }
      function d(c) {
        c.done ? a(c.value) : n(c.value).then(s, l);
      }
      d((r = r.apply(t, e || [])).next());
    });
  },
  Sf = t => {
    let e;
    return t
      ? e = t
      : typeof fetch > "u"
      ? e = (...i) =>
        Promise.resolve().then(() => (Ya(), Ws)).then(({ default: r }) =>
          r(...i)
        )
      : e = fetch,
      (...i) => e(...i);
  },
  Yy = () =>
    k6(void 0, void 0, void 0, function*() {
      return typeof Response > "u"
        ? (yield Promise.resolve().then(() => (Ya(), Ws))).Response
        : Response;
    });
var il = function(t, e, i, r) {
    function n(a) {
      return a instanceof i ? a : new i(function(o) {
        o(a);
      });
    }
    return new (i || (i = Promise))(function(a, o) {
      function s(c) {
        try {
          d(r.next(c));
        }
        catch (u) {
          o(u);
        }
      }
      function l(c) {
        try {
          d(r.throw(c));
        }
        catch (u) {
          o(u);
        }
      }
      function d(c) {
        c.done ? a(c.value) : n(c.value).then(s, l);
      }
      d((r = r.apply(t, e || [])).next());
    });
  },
  Xp = t =>
    t.msg || t.message || t.error_description || t.error || JSON.stringify(t),
  L6 = (t, e) =>
    il(void 0, void 0, void 0, function*() {
      let i = yield Yy();
      t instanceof i
        ? t.json().then(r => {
          e(new wf(Xp(r), t.status || 500));
        }).catch(r => {
          e(new Dd(Xp(r), r));
        })
        : e(new Dd(Xp(t), t));
    }),
  O6 = (t, e, i, r) => {
    let n = { method: t, headers: e?.headers || {} };
    return t === "GET"
      ? n
      : (n.headers = Object.assign(
        { "Content-Type": "application/json" },
        e?.headers,
      ),
        n.body = JSON.stringify(r),
        Object.assign(Object.assign({}, n), i));
  };
function Ef(t, e, i, r, n, a) {
  return il(this, void 0, void 0, function*() {
    return new Promise((o, s) => {
      t(i, O6(e, r, n, a)).then(l => {
        if (!l.ok) throw l;
        return r?.noResolveJson ? l : l.json();
      }).then(l => o(l)).catch(l => L6(l, s));
    });
  });
}
function $d(t, e, i, r) {
  return il(this, void 0, void 0, function*() {
    return Ef(t, "GET", e, i, r);
  });
}
function Kn(t, e, i, r, n) {
  return il(this, void 0, void 0, function*() {
    return Ef(t, "POST", e, r, n, i);
  });
}
function Xy(t, e, i, r, n) {
  return il(this, void 0, void 0, function*() {
    return Ef(t, "PUT", e, r, n, i);
  });
}
function Tf(t, e, i, r, n) {
  return il(this, void 0, void 0, function*() {
    return Ef(t, "DELETE", e, r, n, i);
  });
}
var gn = function(t, e, i, r) {
    function n(a) {
      return a instanceof i ? a : new i(function(o) {
        o(a);
      });
    }
    return new (i || (i = Promise))(function(a, o) {
      function s(c) {
        try {
          d(r.next(c));
        }
        catch (u) {
          o(u);
        }
      }
      function l(c) {
        try {
          d(r.throw(c));
        }
        catch (u) {
          o(u);
        }
      }
      function d(c) {
        c.done ? a(c.value) : n(c.value).then(s, l);
      }
      d((r = r.apply(t, e || [])).next());
    });
  },
  R6 = { limit: 100, offset: 0, sortBy: { column: "name", order: "asc" } },
  Ky = {
    cacheControl: "3600",
    contentType: "text/plain;charset=UTF-8",
    upsert: !1,
  },
  Md = class {
    constructor(e, i = {}, r, n) {
      this.url = e, this.headers = i, this.bucketId = r, this.fetch = Sf(n);
    }
    uploadOrUpdate(e, i, r, n) {
      return gn(this, void 0, void 0, function*() {
        try {
          let a,
            o = Object.assign(Object.assign({}, Ky), n),
            s = Object.assign(
              Object.assign({}, this.headers),
              e === "POST" && { "x-upsert": String(o.upsert) },
            );
          typeof Blob < "u" && r instanceof Blob
            ? (a = new FormData(),
              a.append("cacheControl", o.cacheControl),
              a.append("", r))
            : typeof FormData < "u" && r instanceof FormData
            ? (a = r, a.append("cacheControl", o.cacheControl))
            : (a = r,
              s["cache-control"] = `max-age=${o.cacheControl}`,
              s["content-type"] = o.contentType);
          let l = this._removeEmptyFolders(i),
            d = this._getFinalPath(l),
            c = yield this.fetch(
              `${this.url}/object/${d}`,
              Object.assign(
                { method: e, body: a, headers: s },
                o?.duplex ? { duplex: o.duplex } : {},
              ),
            ),
            u = yield c.json();
          return c.ok
            ? { data: { path: l, id: u.Id, fullPath: u.Key }, error: null }
            : { data: null, error: u };
        }
        catch (a) {
          if (Ar(a)) return { data: null, error: a };
          throw a;
        }
      });
    }
    upload(e, i, r) {
      return gn(this, void 0, void 0, function*() {
        return this.uploadOrUpdate("POST", e, i, r);
      });
    }
    uploadToSignedUrl(e, i, r, n) {
      return gn(this, void 0, void 0, function*() {
        let a = this._removeEmptyFolders(e),
          o = this._getFinalPath(a),
          s = new URL(this.url + `/object/upload/sign/${o}`);
        s.searchParams.set("token", i);
        try {
          let l,
            d = Object.assign({ upsert: Ky.upsert }, n),
            c = Object.assign(Object.assign({}, this.headers), {
              "x-upsert": String(d.upsert),
            });
          typeof Blob < "u" && r instanceof Blob
            ? (l = new FormData(),
              l.append("cacheControl", d.cacheControl),
              l.append("", r))
            : typeof FormData < "u" && r instanceof FormData
            ? (l = r, l.append("cacheControl", d.cacheControl))
            : (l = r,
              c["cache-control"] = `max-age=${d.cacheControl}`,
              c["content-type"] = d.contentType);
          let u = yield this.fetch(s.toString(), {
              method: "PUT",
              body: l,
              headers: c,
            }),
            f = yield u.json();
          return u.ok
            ? { data: { path: a, fullPath: f.Key }, error: null }
            : { data: null, error: f };
        }
        catch (l) {
          if (Ar(l)) return { data: null, error: l };
          throw l;
        }
      });
    }
    createSignedUploadUrl(e) {
      return gn(this, void 0, void 0, function*() {
        try {
          let i = this._getFinalPath(e),
            r = yield Kn(
              this.fetch,
              `${this.url}/object/upload/sign/${i}`,
              {},
              { headers: this.headers },
            ),
            n = new URL(this.url + r.url),
            a = n.searchParams.get("token");
          if (!a) throw new tl("No token returned by API");
          return {
            data: { signedUrl: n.toString(), path: e, token: a },
            error: null,
          };
        }
        catch (i) {
          if (Ar(i)) return { data: null, error: i };
          throw i;
        }
      });
    }
    update(e, i, r) {
      return gn(this, void 0, void 0, function*() {
        return this.uploadOrUpdate("PUT", e, i, r);
      });
    }
    move(e, i) {
      return gn(this, void 0, void 0, function*() {
        try {
          return {
            data: yield Kn(this.fetch, `${this.url}/object/move`, {
              bucketId: this.bucketId,
              sourceKey: e,
              destinationKey: i,
            }, { headers: this.headers }),
            error: null,
          };
        }
        catch (r) {
          if (Ar(r)) return { data: null, error: r };
          throw r;
        }
      });
    }
    copy(e, i) {
      return gn(this, void 0, void 0, function*() {
        try {
          return {
            data: {
              path:
                (yield Kn(this.fetch, `${this.url}/object/copy`, {
                  bucketId: this.bucketId,
                  sourceKey: e,
                  destinationKey: i,
                }, { headers: this.headers })).Key,
            },
            error: null,
          };
        }
        catch (r) {
          if (Ar(r)) return { data: null, error: r };
          throw r;
        }
      });
    }
    createSignedUrl(e, i, r) {
      return gn(this, void 0, void 0, function*() {
        try {
          let n = this._getFinalPath(e),
            a = yield Kn(
              this.fetch,
              `${this.url}/object/sign/${n}`,
              Object.assign(
                { expiresIn: i },
                r?.transform ? { transform: r.transform } : {},
              ),
              { headers: this.headers },
            ),
            o = r?.download
              ? `&download=${r.download === !0 ? "" : r.download}`
              : "";
          return a = { signedUrl: encodeURI(`${this.url}${a.signedURL}${o}`) },
            { data: a, error: null };
        }
        catch (n) {
          if (Ar(n)) return { data: null, error: n };
          throw n;
        }
      });
    }
    createSignedUrls(e, i, r) {
      return gn(this, void 0, void 0, function*() {
        try {
          let n = yield Kn(
              this.fetch,
              `${this.url}/object/sign/${this.bucketId}`,
              { expiresIn: i, paths: e },
              { headers: this.headers },
            ),
            a = r?.download
              ? `&download=${r.download === !0 ? "" : r.download}`
              : "";
          return {
            data: n.map(o =>
              Object.assign(Object.assign({}, o), {
                signedUrl: o.signedURL
                  ? encodeURI(`${this.url}${o.signedURL}${a}`)
                  : null,
              })
            ),
            error: null,
          };
        }
        catch (n) {
          if (Ar(n)) return { data: null, error: n };
          throw n;
        }
      });
    }
    download(e, i) {
      return gn(this, void 0, void 0, function*() {
        let n = typeof i?.transform < "u"
            ? "render/image/authenticated"
            : "object",
          a = this.transformOptsToQueryString(i?.transform || {}),
          o = a ? `?${a}` : "";
        try {
          let s = this._getFinalPath(e);
          return {
            data:
              yield (yield $d(this.fetch, `${this.url}/${n}/${s}${o}`, {
                headers: this.headers,
                noResolveJson: !0,
              })).blob(),
            error: null,
          };
        }
        catch (s) {
          if (Ar(s)) return { data: null, error: s };
          throw s;
        }
      });
    }
    getPublicUrl(e, i) {
      let r = this._getFinalPath(e),
        n = [],
        a = i?.download ? `download=${i.download === !0 ? "" : i.download}`
        : "";
      a !== "" && n.push(a);
      let s = typeof i?.transform < "u" ? "render/image" : "object",
        l = this.transformOptsToQueryString(i?.transform || {});
      l !== "" && n.push(l);
      let d = n.join("&");
      return d !== "" && (d = `?${d}`),
        { data: { publicUrl: encodeURI(`${this.url}/${s}/public/${r}${d}`) } };
    }
    remove(e) {
      return gn(this, void 0, void 0, function*() {
        try {
          return {
            data: yield Tf(this.fetch, `${this.url}/object/${this.bucketId}`, {
              prefixes: e,
            }, { headers: this.headers }),
            error: null,
          };
        }
        catch (i) {
          if (Ar(i)) return { data: null, error: i };
          throw i;
        }
      });
    }
    list(e, i, r) {
      return gn(this, void 0, void 0, function*() {
        try {
          let n = Object.assign(Object.assign(Object.assign({}, R6), i), {
            prefix: e || "",
          });
          return {
            data: yield Kn(
              this.fetch,
              `${this.url}/object/list/${this.bucketId}`,
              n,
              { headers: this.headers },
              r,
            ),
            error: null,
          };
        }
        catch (n) {
          if (Ar(n)) return { data: null, error: n };
          throw n;
        }
      });
    }
    _getFinalPath(e) {
      return `${this.bucketId}/${e}`;
    }
    _removeEmptyFolders(e) {
      return e.replace(/^\/|\/$/g, "").replace(/\/+/g, "/");
    }
    transformOptsToQueryString(e) {
      let i = [];
      return e.width && i.push(`width=${e.width}`),
        e.height && i.push(`height=${e.height}`),
        e.resize && i.push(`resize=${e.resize}`),
        e.format && i.push(`format=${e.format}`),
        e.quality && i.push(`quality=${e.quality}`),
        i.join("&");
    }
  };
var Zy = "2.5.5";
var Jy = { "X-Client-Info": `storage-js/${Zy}` };
var rl = function(t, e, i, r) {
    function n(a) {
      return a instanceof i ? a : new i(function(o) {
        o(a);
      });
    }
    return new (i || (i = Promise))(function(a, o) {
      function s(c) {
        try {
          d(r.next(c));
        }
        catch (u) {
          o(u);
        }
      }
      function l(c) {
        try {
          d(r.throw(c));
        }
        catch (u) {
          o(u);
        }
      }
      function d(c) {
        c.done ? a(c.value) : n(c.value).then(s, l);
      }
      d((r = r.apply(t, e || [])).next());
    });
  },
  Nd = class {
    constructor(e, i = {}, r) {
      this.url = e,
        this.headers = Object.assign(Object.assign({}, Jy), i),
        this.fetch = Sf(r);
    }
    listBuckets() {
      return rl(this, void 0, void 0, function*() {
        try {
          return {
            data: yield $d(this.fetch, `${this.url}/bucket`, {
              headers: this.headers,
            }),
            error: null,
          };
        }
        catch (e) {
          if (Ar(e)) return { data: null, error: e };
          throw e;
        }
      });
    }
    getBucket(e) {
      return rl(this, void 0, void 0, function*() {
        try {
          return {
            data: yield $d(this.fetch, `${this.url}/bucket/${e}`, {
              headers: this.headers,
            }),
            error: null,
          };
        }
        catch (i) {
          if (Ar(i)) return { data: null, error: i };
          throw i;
        }
      });
    }
    createBucket(e, i = { public: !1 }) {
      return rl(this, void 0, void 0, function*() {
        try {
          return {
            data: yield Kn(this.fetch, `${this.url}/bucket`, {
              id: e,
              name: e,
              public: i.public,
              file_size_limit: i.fileSizeLimit,
              allowed_mime_types: i.allowedMimeTypes,
            }, { headers: this.headers }),
            error: null,
          };
        }
        catch (r) {
          if (Ar(r)) return { data: null, error: r };
          throw r;
        }
      });
    }
    updateBucket(e, i) {
      return rl(this, void 0, void 0, function*() {
        try {
          return {
            data: yield Xy(this.fetch, `${this.url}/bucket/${e}`, {
              id: e,
              name: e,
              public: i.public,
              file_size_limit: i.fileSizeLimit,
              allowed_mime_types: i.allowedMimeTypes,
            }, { headers: this.headers }),
            error: null,
          };
        }
        catch (r) {
          if (Ar(r)) return { data: null, error: r };
          throw r;
        }
      });
    }
    emptyBucket(e) {
      return rl(this, void 0, void 0, function*() {
        try {
          return {
            data: yield Kn(this.fetch, `${this.url}/bucket/${e}/empty`, {}, {
              headers: this.headers,
            }),
            error: null,
          };
        }
        catch (i) {
          if (Ar(i)) return { data: null, error: i };
          throw i;
        }
      });
    }
    deleteBucket(e) {
      return rl(this, void 0, void 0, function*() {
        try {
          return {
            data: yield Tf(this.fetch, `${this.url}/bucket/${e}`, {}, {
              headers: this.headers,
            }),
            error: null,
          };
        }
        catch (i) {
          if (Ar(i)) return { data: null, error: i };
          throw i;
        }
      });
    }
  };
var Pd = class extends Nd {
  constructor(e, i = {}, r) {
    super(e, i, r);
  }
  from(e) {
    return new Md(this.url, this.headers, e, this.fetch);
  }
};
var Qy = "2.42.5";
var zd = "";
typeof Deno < "u"
  ? zd = "deno"
  : typeof document < "u"
  ? zd = "web"
  : typeof navigator < "u" && navigator.product === "ReactNative"
  ? zd = "react-native"
  : zd = "node";
var F6 = { "X-Client-Info": `supabase-js-${zd}/${Qy}` },
  ew = { headers: F6 },
  tw = { schema: "public" },
  iw = {
    autoRefreshToken: !0,
    persistSession: !0,
    detectSessionInUrl: !0,
    flowType: "implicit",
  },
  rw = {};
Ya();
var D6 = function(t, e, i, r) {
    function n(a) {
      return a instanceof i ? a : new i(function(o) {
        o(a);
      });
    }
    return new (i || (i = Promise))(function(a, o) {
      function s(c) {
        try {
          d(r.next(c));
        }
        catch (u) {
          o(u);
        }
      }
      function l(c) {
        try {
          d(r.throw(c));
        }
        catch (u) {
          o(u);
        }
      }
      function d(c) {
        c.done ? a(c.value) : n(c.value).then(s, l);
      }
      d((r = r.apply(t, e || [])).next());
    });
  },
  $6 = t => {
    let e;
    return t ? e = t : typeof fetch > "u" ? e = kd : e = fetch,
      (...i) => e(...i);
  },
  M6 = () => typeof Headers > "u" ? Up : Headers,
  nw = (t, e, i) => {
    let r = $6(i), n = M6();
    return (a, o) =>
      D6(void 0, void 0, void 0, function*() {
        var s;
        let l = (s = yield e()) !== null && s !== void 0 ? s : t,
          d = new n(o?.headers);
        return d.has("apikey") || d.set("apikey", t),
          d.has("Authorization") || d.set("Authorization", `Bearer ${l}`),
          r(a, Object.assign(Object.assign({}, o), { headers: d }));
      });
  };
function aw(t) {
  return t.replace(/\/$/, "");
}
function ow(t, e) {
  let { db: i, auth: r, realtime: n, global: a } = t,
    { db: o, auth: s, realtime: l, global: d } = e;
  return {
    db: Object.assign(Object.assign({}, o), i),
    auth: Object.assign(Object.assign({}, s), r),
    realtime: Object.assign(Object.assign({}, l), n),
    global: Object.assign(Object.assign({}, d), a),
  };
}
var Af = "2.63.1";
var sw = "http://localhost:9999", lw = "supabase.auth.token";
var dw = { "X-Client-Info": `gotrue-js/${Af}` }, Kp = 10;
var Bd = "X-Supabase-Api-Version",
  Zp = {
    "2024-01-01": {
      timestamp: Date.parse("2024-01-01T00:00:00.0Z"),
      name: "2024-01-01",
    },
  };
function cw(t) {
  return Math.round(Date.now() / 1e3) + t;
}
function uw() {
  return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(t) {
    let e = Math.random() * 16 | 0;
    return (t == "x" ? e : e & 3 | 8).toString(16);
  });
}
var vn = () => typeof document < "u",
  qo = { tested: !1, writable: !1 },
  Ka = () => {
    if (!vn()) return !1;
    try {
      if (typeof globalThis.localStorage != "object") return !1;
    }
    catch {
      return !1;
    }
    if (qo.tested) return qo.writable;
    let t = `lswt-${Math.random()}${Math.random()}`;
    try {
      globalThis.localStorage.setItem(t, t),
        globalThis.localStorage.removeItem(t),
        qo.tested = !0,
        qo.writable = !0;
    }
    catch {
      qo.tested = !0, qo.writable = !1;
    }
    return qo.writable;
  };
function If(t) {
  let e = {}, i = new URL(t);
  if (i.hash && i.hash[0] === "#") {
    try {
      new URLSearchParams(i.hash.substring(1)).forEach((n, a) => {
        e[a] = n;
      });
    }
    catch {}
  }
  return i.searchParams.forEach((r, n) => {
    e[n] = r;
  }),
    e;
}
var Cf = t => {
    let e;
    return t
      ? e = t
      : typeof fetch > "u"
      ? e = (...i) =>
        Promise.resolve().then(() => (Ya(), Ws)).then(({ default: r }) =>
          r(...i)
        )
      : e = fetch,
      (...i) => e(...i);
  },
  fw = t =>
    typeof t == "object" && t !== null && "status" in t && "ok" in t
    && "json" in t && typeof t.json == "function",
  Jp = async (t, e, i) => {
    await t.setItem(e, JSON.stringify(i));
  },
  Gd = async (t, e) => {
    let i = await t.getItem(e);
    if (!i) return null;
    try {
      return JSON.parse(i);
    }
    catch {
      return i;
    }
  },
  kf = async (t, e) => {
    await t.removeItem(e);
  };
function N6(t) {
  let e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
    i = "",
    r,
    n,
    a,
    o,
    s,
    l,
    d,
    c = 0;
  for (t = t.replace("-", "+").replace("_", "/"); c < t.length;) {
    o = e.indexOf(t.charAt(c++)),
      s = e.indexOf(t.charAt(c++)),
      l = e.indexOf(t.charAt(c++)),
      d = e.indexOf(t.charAt(c++)),
      r = o << 2 | s >> 4,
      n = (s & 15) << 4 | l >> 2,
      a = (l & 3) << 6 | d,
      i = i + String.fromCharCode(r),
      l != 64 && n != 0 && (i = i + String.fromCharCode(n)),
      d != 64 && a != 0 && (i = i + String.fromCharCode(a));
  }
  return i;
}
var Ud = class t {
  constructor() {
    this.promise = new t.promiseConstructor((e, i) => {
      this.resolve = e, this.reject = i;
    });
  }
};
Ud.promiseConstructor = Promise;
function Qp(t) {
  let e = /^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,
    i = t.split(".");
  if (i.length !== 3) throw new Error("JWT is not valid: not a JWT structure");
  if (!e.test(i[1])) {
    throw new Error("JWT is not valid: payload is not in base64url format");
  }
  let r = i[1];
  return JSON.parse(N6(r));
}
async function mw(t) {
  return await new Promise(e => {
    setTimeout(() => e(null), t);
  });
}
function hw(t, e) {
  return new Promise((r, n) => {
    (async () => {
      for (let a = 0; a < 1 / 0; a++) {
        try {
          let o = await t(a);
          if (!e(a, null, o)) {
            r(o);
            return;
          }
        }
        catch (o) {
          if (!e(a, o)) {
            n(o);
            return;
          }
        }
      }
    })();
  });
}
function P6(t) {
  return ("0" + t.toString(16)).substr(-2);
}
function z6() {
  let e = new Uint32Array(56);
  if (typeof crypto > "u") {
    let i =
        "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",
      r = i.length,
      n = "";
    for (let a = 0; a < 56; a++) n += i.charAt(Math.floor(Math.random() * r));
    return n;
  }
  return crypto.getRandomValues(e), Array.from(e, P6).join("");
}
async function B6(t) {
  let i = new TextEncoder().encode(t),
    r = await crypto.subtle.digest("SHA-256", i),
    n = new Uint8Array(r);
  return Array.from(n).map(a => String.fromCharCode(a)).join("");
}
function U6(t) {
  return btoa(t).replace(/\+/g, "-").replace(/\//g, "_").replace(/=+$/, "");
}
async function G6(t) {
  if (
    !(typeof crypto < "u" && typeof crypto.subtle < "u"
      && typeof TextEncoder < "u")
  ) {
    return console.warn(
      "WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256.",
    ),
      t;
  }
  let i = await B6(t);
  return U6(i);
}
async function Wo(t, e, i = !1) {
  let r = z6(), n = r;
  i && (n += "/PASSWORD_RECOVERY"), await Jp(t, `${e}-code-verifier`, n);
  let a = await G6(r);
  return [a, r === a ? "plain" : "s256"];
}
var H6 = /^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;
function pw(t) {
  let e = t.headers.get(Bd);
  if (!e || !e.match(H6)) return null;
  try {
    return new Date(`${e}T00:00:00.0Z`);
  }
  catch {
    return null;
  }
}
var Hd = class extends Error {
  constructor(e, i, r) {
    super(e),
      this.__isAuthError = !0,
      this.name = "AuthError",
      this.status = i,
      this.code = r;
  }
};
function qt(t) {
  return typeof t == "object" && t !== null && "__isAuthError" in t;
}
var Lf = class extends Hd {
  constructor(e, i, r) {
    super(e, i, r), this.name = "AuthApiError", this.status = i, this.code = r;
  }
};
function gw(t) {
  return qt(t) && t.name === "AuthApiError";
}
var nl = class extends Hd {
    constructor(e, i) {
      super(e), this.name = "AuthUnknownError", this.originalError = i;
    }
  },
  ga = class extends Hd {
    constructor(e, i, r, n) {
      super(e, r, n), this.name = i, this.status = r;
    }
  },
  Zn = class extends ga {
    constructor() {
      super("Auth session missing!", "AuthSessionMissingError", 400, void 0);
    }
  },
  al = class extends ga {
    constructor() {
      super(
        "Auth session or user missing",
        "AuthInvalidTokenResponseError",
        500,
        void 0,
      );
    }
  },
  Yo = class extends ga {
    constructor(e) {
      super(e, "AuthInvalidCredentialsError", 400, void 0);
    }
  },
  Xo = class extends ga {
    constructor(e, i = null) {
      super(e, "AuthImplicitGrantRedirectError", 500, void 0),
        this.details = null,
        this.details = i;
    }
    toJSON() {
      return {
        name: this.name,
        message: this.message,
        status: this.status,
        details: this.details,
      };
    }
  },
  jd = class extends ga {
    constructor(e, i = null) {
      super(e, "AuthPKCEGrantCodeExchangeError", 500, void 0),
        this.details = null,
        this.details = i;
    }
    toJSON() {
      return {
        name: this.name,
        message: this.message,
        status: this.status,
        details: this.details,
      };
    }
  },
  ol = class extends ga {
    constructor(e, i) {
      super(e, "AuthRetryableFetchError", i, void 0);
    }
  };
function Of(t) {
  return qt(t) && t.name === "AuthRetryableFetchError";
}
var Vd = class extends ga {
  constructor(e, i, r) {
    super(e, "AuthWeakPasswordError", i, "weak_password"), this.reasons = r;
  }
};
var j6 = function(t, e) {
    var i = {};
    for (var r in t) {
      Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0
        && (i[r] = t[r]);
    }
    if (t != null && typeof Object.getOwnPropertySymbols == "function") {
      for (var n = 0, r = Object.getOwnPropertySymbols(t); n < r.length; n++) {
        e.indexOf(r[n]) < 0
          && Object.prototype.propertyIsEnumerable.call(t, r[n])
          && (i[r[n]] = t[r[n]]);
      }
    }
    return i;
  },
  Ko = t =>
    t.msg || t.message || t.error_description || t.error || JSON.stringify(t),
  V6 = [502, 503, 504];
async function vw(t) {
  var e;
  if (!fw(t)) throw new ol(Ko(t), 0);
  if (V6.includes(t.status)) throw new ol(Ko(t), t.status);
  let i;
  try {
    i = await t.json();
  }
  catch (a) {
    throw new nl(Ko(a), a);
  }
  let r, n = pw(t);
  if (
    n && n.getTime() >= Zp["2024-01-01"].timestamp && typeof i == "object" && i
      && typeof i.code == "string"
      ? r = i.code
      : typeof i == "object" && i && typeof i.error_code == "string"
        && (r = i.error_code), r
  ) {
    if (r === "weak_password") {
      throw new Vd(
        Ko(i),
        t.status,
        ((e = i.weak_password) === null || e === void 0 ? void 0 : e.reasons)
          || [],
      );
    }
  }
  else if (
    typeof i == "object" && i && typeof i.weak_password == "object"
    && i.weak_password && Array.isArray(i.weak_password.reasons)
    && i.weak_password.reasons.length
    && i.weak_password.reasons.reduce((a, o) => a && typeof o == "string", !0)
  ) {
    throw new Vd(Ko(i), t.status, i.weak_password.reasons);
  }
  throw new Lf(Ko(i), t.status || 500, r);
}
var q6 = (t, e, i, r) => {
  let n = { method: t, headers: e?.headers || {} };
  return t === "GET"
    ? n
    : (n.headers = Object.assign({
      "Content-Type": "application/json;charset=UTF-8",
    }, e?.headers),
      n.body = JSON.stringify(r),
      Object.assign(Object.assign({}, n), i));
};
async function ti(t, e, i, r) {
  var n;
  let a = Object.assign({}, r?.headers);
  a[Bd] || (a[Bd] = Zp["2024-01-01"].name),
    r?.jwt && (a.Authorization = `Bearer ${r.jwt}`);
  let o = (n = r?.query) !== null && n !== void 0 ? n : {};
  r?.redirectTo && (o.redirect_to = r.redirectTo);
  let s = Object.keys(o).length ? "?" + new URLSearchParams(o).toString() : "",
    l = await W6(
      t,
      e,
      i + s,
      { headers: a, noResolveJson: r?.noResolveJson },
      {},
      r?.body,
    );
  return r?.xform ? r?.xform(l) : { data: Object.assign({}, l), error: null };
}
async function W6(t, e, i, r, n, a) {
  let o = q6(e, r, n, a), s;
  try {
    s = await t(i, Object.assign(Object.assign({}, o), { cache: "no-store" }));
  }
  catch (l) {
    throw console.error(l), new ol(Ko(l), 0);
  }
  if (s.ok || await vw(s), r?.noResolveJson) return s;
  try {
    return await s.json();
  }
  catch (l) {
    await vw(l);
  }
}
function va(t) {
  var e;
  let i = null;
  Y6(t)
    && (i = Object.assign({}, t),
      t.expires_at || (i.expires_at = cw(t.expires_in)));
  let r = (e = t.user) !== null && e !== void 0 ? e : t;
  return { data: { session: i, user: r }, error: null };
}
function eg(t) {
  let e = va(t);
  return !e.error && t.weak_password && typeof t.weak_password == "object"
    && Array.isArray(t.weak_password.reasons) && t.weak_password.reasons.length
    && t.weak_password.message && typeof t.weak_password.message == "string"
    && t.weak_password.reasons.reduce((i, r) => i && typeof r == "string", !0)
    && (e.data.weak_password = t.weak_password),
    e;
}
function Jn(t) {
  var e;
  return {
    data: { user: (e = t.user) !== null && e !== void 0 ? e : t },
    error: null,
  };
}
function _w(t) {
  return { data: t, error: null };
}
function xw(t) {
  let {
      action_link: e,
      email_otp: i,
      hashed_token: r,
      redirect_to: n,
      verification_type: a,
    } = t,
    o = j6(t, [
      "action_link",
      "email_otp",
      "hashed_token",
      "redirect_to",
      "verification_type",
    ]),
    s = {
      action_link: e,
      email_otp: i,
      hashed_token: r,
      redirect_to: n,
      verification_type: a,
    },
    l = Object.assign({}, o);
  return { data: { properties: s, user: l }, error: null };
}
function bw(t) {
  return t;
}
function Y6(t) {
  return t.access_token && t.refresh_token && t.expires_in;
}
var X6 = function(t, e) {
    var i = {};
    for (var r in t) {
      Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0
        && (i[r] = t[r]);
    }
    if (t != null && typeof Object.getOwnPropertySymbols == "function") {
      for (var n = 0, r = Object.getOwnPropertySymbols(t); n < r.length; n++) {
        e.indexOf(r[n]) < 0
          && Object.prototype.propertyIsEnumerable.call(t, r[n])
          && (i[r[n]] = t[r[n]]);
      }
    }
    return i;
  },
  Zo = class {
    constructor({ url: e = "", headers: i = {}, fetch: r }) {
      this.url = e,
        this.headers = i,
        this.fetch = Cf(r),
        this.mfa = {
          listFactors: this._listFactors.bind(this),
          deleteFactor: this._deleteFactor.bind(this),
        };
    }
    async signOut(e, i = "global") {
      try {
        return await ti(this.fetch, "POST", `${this.url}/logout?scope=${i}`, {
          headers: this.headers,
          jwt: e,
          noResolveJson: !0,
        }),
          { data: null, error: null };
      }
      catch (r) {
        if (qt(r)) return { data: null, error: r };
        throw r;
      }
    }
    async inviteUserByEmail(e, i = {}) {
      try {
        return await ti(this.fetch, "POST", `${this.url}/invite`, {
          body: { email: e, data: i.data },
          headers: this.headers,
          redirectTo: i.redirectTo,
          xform: Jn,
        });
      }
      catch (r) {
        if (qt(r)) return { data: { user: null }, error: r };
        throw r;
      }
    }
    async generateLink(e) {
      try {
        let { options: i } = e,
          r = X6(e, ["options"]),
          n = Object.assign(Object.assign({}, r), i);
        return "newEmail" in r
          && (n.new_email = r?.newEmail, delete n.newEmail),
          await ti(this.fetch, "POST", `${this.url}/admin/generate_link`, {
            body: n,
            headers: this.headers,
            xform: xw,
            redirectTo: i?.redirectTo,
          });
      }
      catch (i) {
        if (qt(i)) return { data: { properties: null, user: null }, error: i };
        throw i;
      }
    }
    async createUser(e) {
      try {
        return await ti(this.fetch, "POST", `${this.url}/admin/users`, {
          body: e,
          headers: this.headers,
          xform: Jn,
        });
      }
      catch (i) {
        if (qt(i)) return { data: { user: null }, error: i };
        throw i;
      }
    }
    async listUsers(e) {
      var i, r, n, a, o, s, l;
      try {
        let d = { nextPage: null, lastPage: 0, total: 0 },
          c = await ti(this.fetch, "GET", `${this.url}/admin/users`, {
            headers: this.headers,
            noResolveJson: !0,
            query: {
              page: (r = (i = e?.page) === null || i === void 0
                      ? void 0
                      : i.toString()) !== null && r !== void 0
                ? r
                : "",
              per_page: (a = (n = e?.perPage) === null || n === void 0
                      ? void 0
                      : n.toString()) !== null && a !== void 0
                ? a
                : "",
            },
            xform: bw,
          });
        if (c.error) throw c.error;
        let u = await c.json(),
          f = (o = c.headers.get("x-total-count")) !== null && o !== void 0
            ? o
            : 0,
          h = (l = (s = c.headers.get("link")) === null || s === void 0
                  ? void 0
                  : s.split(",")) !== null && l !== void 0
            ? l
            : [];
        return h.length > 0 && (h.forEach(x => {
          let S = parseInt(x.split(";")[0].split("=")[1].substring(0, 1)),
            p = JSON.parse(x.split(";")[1].split("=")[1]);
          d[`${p}Page`] = S;
        }),
          d.total = parseInt(f)),
          { data: Object.assign(Object.assign({}, u), d), error: null };
      }
      catch (d) {
        if (qt(d)) return { data: { users: [] }, error: d };
        throw d;
      }
    }
    async getUserById(e) {
      try {
        return await ti(this.fetch, "GET", `${this.url}/admin/users/${e}`, {
          headers: this.headers,
          xform: Jn,
        });
      }
      catch (i) {
        if (qt(i)) return { data: { user: null }, error: i };
        throw i;
      }
    }
    async updateUserById(e, i) {
      try {
        return await ti(this.fetch, "PUT", `${this.url}/admin/users/${e}`, {
          body: i,
          headers: this.headers,
          xform: Jn,
        });
      }
      catch (r) {
        if (qt(r)) return { data: { user: null }, error: r };
        throw r;
      }
    }
    async deleteUser(e, i = !1) {
      try {
        return await ti(this.fetch, "DELETE", `${this.url}/admin/users/${e}`, {
          headers: this.headers,
          body: { should_soft_delete: i },
          xform: Jn,
        });
      }
      catch (r) {
        if (qt(r)) return { data: { user: null }, error: r };
        throw r;
      }
    }
    async _listFactors(e) {
      try {
        let { data: i, error: r } = await ti(
          this.fetch,
          "GET",
          `${this.url}/admin/users/${e.userId}/factors`,
          {
            headers: this.headers,
            xform: n => ({ data: { factors: n }, error: null }),
          },
        );
        return { data: i, error: r };
      }
      catch (i) {
        if (qt(i)) return { data: null, error: i };
        throw i;
      }
    }
    async _deleteFactor(e) {
      try {
        return {
          data: await ti(
            this.fetch,
            "DELETE",
            `${this.url}/admin/users/${e.userId}/factors/${e.id}`,
            { headers: this.headers },
          ),
          error: null,
        };
      }
      catch (i) {
        if (qt(i)) return { data: null, error: i };
        throw i;
      }
    }
  };
var yw = {
  getItem: t => Ka() ? globalThis.localStorage.getItem(t) : null,
  setItem: (t, e) => {
    Ka() && globalThis.localStorage.setItem(t, e);
  },
  removeItem: t => {
    Ka() && globalThis.localStorage.removeItem(t);
  },
};
function tg(t = {}) {
  return {
    getItem: e => t[e] || null,
    setItem: (e, i) => {
      t[e] = i;
    },
    removeItem: e => {
      delete t[e];
    },
  };
}
function ww() {
  if (typeof globalThis != "object") {
    try {
      Object.defineProperty(Object.prototype, "__magic__", {
        get: function() {
          return this;
        },
        configurable: !0,
      }),
        __magic__.globalThis = __magic__,
        delete Object.prototype.__magic__;
    }
    catch {
      typeof self < "u" && (self.globalThis = self);
    }
  }
}
var Jo = {
    debug:
      !!(globalThis && Ka() && globalThis.localStorage
        && globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")
          === "true"),
  },
  qd = class extends Error {
    constructor(e) {
      super(e), this.isAcquireTimeout = !0;
    }
  },
  Rf = class extends qd {};
async function ig(t, e, i) {
  Jo.debug
    && console.log("@supabase/gotrue-js: navigatorLock: acquire lock", t, e);
  let r = new globalThis.AbortController();
  return e > 0 && setTimeout(() => {
    r.abort(),
      Jo.debug
      && console.log("@supabase/gotrue-js: navigatorLock acquire timed out", t);
  }, e),
    await globalThis.navigator.locks.request(
      t,
      e === 0
        ? { mode: "exclusive", ifAvailable: !0 }
        : { mode: "exclusive", signal: r.signal },
      async n => {
        if (n) {
          Jo.debug
            && console.log(
              "@supabase/gotrue-js: navigatorLock: acquired",
              t,
              n.name,
            );
          try {
            return await i();
          }
          finally {
            Jo.debug
              && console.log(
                "@supabase/gotrue-js: navigatorLock: released",
                t,
                n.name,
              );
          }
        }
        else {
          if (e === 0) {
            throw Jo.debug
              && console.log(
                "@supabase/gotrue-js: navigatorLock: not immediately available",
                t,
              ),
              new Rf(
                `Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`,
              );
          }
          if (Jo.debug) {
            try {
              let a = await globalThis.navigator.locks.query();
              console.log(
                "@supabase/gotrue-js: Navigator LockManager state",
                JSON.stringify(a, null, "  "),
              );
            }
            catch (a) {
              console.warn(
                "@supabase/gotrue-js: Error when querying Navigator LockManager state",
                a,
              );
            }
          }
          return console.warn(
            "@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request",
          ),
            await i();
        }
      },
    );
}
ww();
var K6 = {
    url: sw,
    storageKey: lw,
    autoRefreshToken: !0,
    persistSession: !0,
    detectSessionInUrl: !0,
    headers: dw,
    flowType: "implicit",
    debug: !1,
  },
  Wd = 30 * 1e3,
  Sw = 3;
async function Ew(t, e, i) {
  return await i();
}
var Qo = class t {
  constructor(e) {
    var i, r;
    this.memoryStorage = null,
      this.stateChangeEmitters = new Map(),
      this.autoRefreshTicker = null,
      this.visibilityChangedCallback = null,
      this.refreshingDeferred = null,
      this.initializePromise = null,
      this.detectSessionInUrl = !0,
      this.lockAcquired = !1,
      this.pendingInLock = [],
      this.broadcastChannel = null,
      this.logger = console.log,
      this.instanceID = t.nextInstanceID,
      t.nextInstanceID += 1,
      this.instanceID > 0 && vn()
      && console.warn(
        "Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.",
      );
    let n = Object.assign(Object.assign({}, K6), e);
    if (
      this.logDebugMessages = !!n.debug,
        typeof n.debug == "function" && (this.logger = n.debug),
        this.persistSession = n.persistSession,
        this.storageKey = n.storageKey,
        this.autoRefreshToken = n.autoRefreshToken,
        this.admin = new Zo({ url: n.url, headers: n.headers, fetch: n.fetch }),
        this.url = n.url,
        this.headers = n.headers,
        this.fetch = Cf(n.fetch),
        this.lock = n.lock || Ew,
        this.detectSessionInUrl = n.detectSessionInUrl,
        this.flowType = n.flowType,
        n.lock
          ? this.lock = n.lock
          : vn()
              && (!((i = globalThis?.navigator) === null || i === void 0)
                && i.locks)
          ? this.lock = ig
          : this.lock = Ew,
        this.mfa = {
          verify: this._verify.bind(this),
          enroll: this._enroll.bind(this),
          unenroll: this._unenroll.bind(this),
          challenge: this._challenge.bind(this),
          listFactors: this._listFactors.bind(this),
          challengeAndVerify: this._challengeAndVerify.bind(this),
          getAuthenticatorAssuranceLevel: this._getAuthenticatorAssuranceLevel
            .bind(this),
        },
        this.persistSession
          ? n.storage ? this.storage = n.storage : Ka()
            ? this.storage = yw
            : (this.memoryStorage = {}, this.storage = tg(this.memoryStorage))
          : (this.memoryStorage = {}, this.storage = tg(this.memoryStorage)),
        vn() && globalThis.BroadcastChannel && this.persistSession
        && this.storageKey
    ) {
      try {
        this.broadcastChannel = new globalThis.BroadcastChannel(
          this.storageKey,
        );
      }
      catch (a) {
        console.error(
          "Failed to create a new BroadcastChannel, multi-tab state changes will not be available",
          a,
        );
      }
      (r = this.broadcastChannel) === null || r === void 0
        || r.addEventListener("message", async a => {
          this._debug(
            "received broadcast notification from other tab or client",
            a,
          ), await this._notifyAllSubscribers(a.data.event, a.data.session, !1);
        });
    }
    this.initialize();
  }
  _debug(...e) {
    return this.logDebugMessages
      && this.logger(
        `GoTrueClient@${this.instanceID} (${Af}) ${new Date().toISOString()}`,
        ...e,
      ),
      this;
  }
  async initialize() {
    return this.initializePromise
      ? await this.initializePromise
      : (this.initializePromise = (async () =>
        await this._acquireLock(-1, async () => await this._initialize()))(),
        await this.initializePromise);
  }
  async _initialize() {
    try {
      let e = vn() ? await this._isPKCEFlow() : !1;
      if (
        this._debug("#_initialize()", "begin", "is PKCE flow", e),
          e || this.detectSessionInUrl && this._isImplicitGrantFlow()
      ) {
        let { data: i, error: r } = await this._getSessionFromURL(e);
        if (r) {
          return this._debug(
            "#_initialize()",
            "error detecting session from URL",
            r,
          ),
            r?.message === "Identity is already linked"
              || r?.message === "Identity is already linked to another user"
              ? { error: r }
              : (await this._removeSession(), { error: r });
        }
        let { session: n, redirectType: a } = i;
        return this._debug(
          "#_initialize()",
          "detected session in URL",
          n,
          "redirect type",
          a,
        ),
          await this._saveSession(n),
          setTimeout(async () => {
            a === "recovery"
              ? await this._notifyAllSubscribers("PASSWORD_RECOVERY", n)
              : await this._notifyAllSubscribers("SIGNED_IN", n);
          }, 0),
          { error: null };
      }
      return await this._recoverAndRefresh(), { error: null };
    }
    catch (e) {
      return qt(e)
        ? { error: e }
        : { error: new nl("Unexpected error during initialization", e) };
    }
    finally {
      await this._handleVisibilityChange(),
        this._debug("#_initialize()", "end");
    }
  }
  async signInAnonymously(e) {
    var i, r, n;
    try {
      await this._removeSession();
      let a = await ti(this.fetch, "POST", `${this.url}/signup`, {
          headers: this.headers,
          body: {
            data: (r = (i = e?.options) === null || i === void 0
                    ? void 0
                    : i.data) !== null && r !== void 0
              ? r
              : {},
            gotrue_meta_security: {
              captcha_token: (n = e?.options) === null || n === void 0
                ? void 0
                : n.captchaToken,
            },
          },
          xform: va,
        }),
        { data: o, error: s } = a;
      if (s || !o) return { data: { user: null, session: null }, error: s };
      let l = o.session, d = o.user;
      return o.session
        && (await this._saveSession(o.session),
          await this._notifyAllSubscribers("SIGNED_IN", l)),
        { data: { user: d, session: l }, error: null };
    }
    catch (a) {
      if (qt(a)) return { data: { user: null, session: null }, error: a };
      throw a;
    }
  }
  async signUp(e) {
    var i, r, n;
    try {
      await this._removeSession();
      let a;
      if ("email" in e) {
        let { email: c, password: u, options: f } = e, h = null, x = null;
        this.flowType === "pkce"
        && ([h, x] = await Wo(this.storage, this.storageKey)),
          a = await ti(this.fetch, "POST", `${this.url}/signup`, {
            headers: this.headers,
            redirectTo: f?.emailRedirectTo,
            body: {
              email: c,
              password: u,
              data: (i = f?.data) !== null && i !== void 0 ? i : {},
              gotrue_meta_security: { captcha_token: f?.captchaToken },
              code_challenge: h,
              code_challenge_method: x,
            },
            xform: va,
          });
      }
      else if ("phone" in e) {
        let { phone: c, password: u, options: f } = e;
        a = await ti(this.fetch, "POST", `${this.url}/signup`, {
          headers: this.headers,
          body: {
            phone: c,
            password: u,
            data: (r = f?.data) !== null && r !== void 0 ? r : {},
            channel: (n = f?.channel) !== null && n !== void 0 ? n : "sms",
            gotrue_meta_security: { captcha_token: f?.captchaToken },
          },
          xform: va,
        });
      }
      else {
        throw new Yo(
          "You must provide either an email or phone number and a password",
        );
      }
      let { data: o, error: s } = a;
      if (s || !o) return { data: { user: null, session: null }, error: s };
      let l = o.session, d = o.user;
      return o.session
        && (await this._saveSession(o.session),
          await this._notifyAllSubscribers("SIGNED_IN", l)),
        { data: { user: d, session: l }, error: null };
    }
    catch (a) {
      if (qt(a)) return { data: { user: null, session: null }, error: a };
      throw a;
    }
  }
  async signInWithPassword(e) {
    try {
      await this._removeSession();
      let i;
      if ("email" in e) {
        let { email: a, password: o, options: s } = e;
        i = await ti(
          this.fetch,
          "POST",
          `${this.url}/token?grant_type=password`,
          {
            headers: this.headers,
            body: {
              email: a,
              password: o,
              gotrue_meta_security: { captcha_token: s?.captchaToken },
            },
            xform: eg,
          },
        );
      }
      else if ("phone" in e) {
        let { phone: a, password: o, options: s } = e;
        i = await ti(
          this.fetch,
          "POST",
          `${this.url}/token?grant_type=password`,
          {
            headers: this.headers,
            body: {
              phone: a,
              password: o,
              gotrue_meta_security: { captcha_token: s?.captchaToken },
            },
            xform: eg,
          },
        );
      }
      else {
        throw new Yo(
          "You must provide either an email or phone number and a password",
        );
      }
      let { data: r, error: n } = i;
      return n
        ? { data: { user: null, session: null }, error: n }
        : !r || !r.session || !r.user
        ? { data: { user: null, session: null }, error: new al() }
        : (r.session
          && (await this._saveSession(r.session),
            await this._notifyAllSubscribers("SIGNED_IN", r.session)),
          {
            data: Object.assign(
              { user: r.user, session: r.session },
              r.weak_password
                ? { weakPassword: r.weak_password }
                : null,
            ),
            error: n,
          });
    }
    catch (i) {
      if (qt(i)) return { data: { user: null, session: null }, error: i };
      throw i;
    }
  }
  async signInWithOAuth(e) {
    var i, r, n, a;
    return await this._removeSession(),
      await this._handleProviderSignIn(e.provider, {
        redirectTo: (i = e.options) === null || i === void 0
          ? void 0
          : i.redirectTo,
        scopes: (r = e.options) === null || r === void 0 ? void 0 : r.scopes,
        queryParams: (n = e.options) === null || n === void 0
          ? void 0
          : n.queryParams,
        skipBrowserRedirect: (a = e.options) === null || a === void 0
          ? void 0
          : a.skipBrowserRedirect,
      });
  }
  async exchangeCodeForSession(e) {
    return await this.initializePromise,
      this._acquireLock(-1, async () => this._exchangeCodeForSession(e));
  }
  async _exchangeCodeForSession(e) {
    let i = await Gd(this.storage, `${this.storageKey}-code-verifier`),
      [r, n] = (i ?? "").split("/"),
      { data: a, error: o } = await ti(
        this.fetch,
        "POST",
        `${this.url}/token?grant_type=pkce`,
        {
          headers: this.headers,
          body: { auth_code: e, code_verifier: r },
          xform: va,
        },
      );
    return await kf(this.storage, `${this.storageKey}-code-verifier`),
      o
        ? { data: { user: null, session: null, redirectType: null }, error: o }
        : !a || !a.session || !a.user
        ? {
          data: { user: null, session: null, redirectType: null },
          error: new al(),
        }
        : (a.session
          && (await this._saveSession(a.session),
            await this._notifyAllSubscribers("SIGNED_IN", a.session)),
          {
            data: Object.assign(Object.assign({}, a), {
              redirectType: n ?? null,
            }),
            error: o,
          });
  }
  async signInWithIdToken(e) {
    await this._removeSession();
    try {
      let { options: i, provider: r, token: n, access_token: a, nonce: o } = e,
        s = await ti(
          this.fetch,
          "POST",
          `${this.url}/token?grant_type=id_token`,
          {
            headers: this.headers,
            body: {
              provider: r,
              id_token: n,
              access_token: a,
              nonce: o,
              gotrue_meta_security: { captcha_token: i?.captchaToken },
            },
            xform: va,
          },
        ),
        { data: l, error: d } = s;
      return d
        ? { data: { user: null, session: null }, error: d }
        : !l || !l.session || !l.user
        ? { data: { user: null, session: null }, error: new al() }
        : (l.session
          && (await this._saveSession(l.session),
            await this._notifyAllSubscribers("SIGNED_IN", l.session)),
          { data: l, error: d });
    }
    catch (i) {
      if (qt(i)) return { data: { user: null, session: null }, error: i };
      throw i;
    }
  }
  async signInWithOtp(e) {
    var i, r, n, a, o;
    try {
      if (await this._removeSession(), "email" in e) {
        let { email: s, options: l } = e, d = null, c = null;
        this.flowType === "pkce"
          && ([d, c] = await Wo(this.storage, this.storageKey));
        let { error: u } = await ti(this.fetch, "POST", `${this.url}/otp`, {
          headers: this.headers,
          body: {
            email: s,
            data: (i = l?.data) !== null && i !== void 0 ? i : {},
            create_user: (r = l?.shouldCreateUser) !== null && r !== void 0
              ? r
              : !0,
            gotrue_meta_security: { captcha_token: l?.captchaToken },
            code_challenge: d,
            code_challenge_method: c,
          },
          redirectTo: l?.emailRedirectTo,
        });
        return { data: { user: null, session: null }, error: u };
      }
      if ("phone" in e) {
        let { phone: s, options: l } = e,
          { data: d, error: c } = await ti(
            this.fetch,
            "POST",
            `${this.url}/otp`,
            {
              headers: this.headers,
              body: {
                phone: s,
                data: (n = l?.data) !== null && n !== void 0 ? n : {},
                create_user: (a = l?.shouldCreateUser) !== null && a !== void 0
                  ? a
                  : !0,
                gotrue_meta_security: { captcha_token: l?.captchaToken },
                channel: (o = l?.channel) !== null && o !== void 0 ? o : "sms",
              },
            },
          );
        return {
          data: { user: null, session: null, messageId: d?.message_id },
          error: c,
        };
      }
      throw new Yo("You must provide either an email or phone number.");
    }
    catch (s) {
      if (qt(s)) return { data: { user: null, session: null }, error: s };
      throw s;
    }
  }
  async verifyOtp(e) {
    var i, r;
    try {
      e.type !== "email_change" && e.type !== "phone_change"
        && await this._removeSession();
      let n, a;
      "options" in e
        && (n = (i = e.options) === null || i === void 0
          ? void 0
          : i.redirectTo,
          a = (r = e.options) === null || r === void 0
            ? void 0
            : r.captchaToken);
      let { data: o, error: s } = await ti(
        this.fetch,
        "POST",
        `${this.url}/verify`,
        {
          headers: this.headers,
          body: Object.assign(Object.assign({}, e), {
            gotrue_meta_security: { captcha_token: a },
          }),
          redirectTo: n,
          xform: va,
        },
      );
      if (s) throw s;
      if (!o) throw new Error("An error occurred on token verification.");
      let l = o.session, d = o.user;
      return l?.access_token
        && (await this._saveSession(l),
          await this._notifyAllSubscribers(
            e.type == "recovery" ? "PASSWORD_RECOVERY" : "SIGNED_IN",
            l,
          )),
        { data: { user: d, session: l }, error: null };
    }
    catch (n) {
      if (qt(n)) return { data: { user: null, session: null }, error: n };
      throw n;
    }
  }
  async signInWithSSO(e) {
    var i, r, n;
    try {
      await this._removeSession();
      let a = null, o = null;
      return this.flowType === "pkce"
        && ([a, o] = await Wo(this.storage, this.storageKey)),
        await ti(this.fetch, "POST", `${this.url}/sso`, {
          body: Object.assign(
            Object.assign(
              Object.assign(
                Object.assign(
                  Object.assign(
                    {},
                    "providerId" in e ? { provider_id: e.providerId } : null,
                  ),
                  "domain" in e ? { domain: e.domain } : null,
                ),
                {
                  redirect_to: (r = (i = e.options) === null || i === void 0
                          ? void 0
                          : i.redirectTo) !== null && r !== void 0
                    ? r
                    : void 0,
                },
              ),
              !((n = e?.options) === null || n === void 0) && n.captchaToken
                ? {
                  gotrue_meta_security: {
                    captcha_token: e.options.captchaToken,
                  },
                }
                : null,
            ),
            {
              skip_http_redirect: !0,
              code_challenge: a,
              code_challenge_method: o,
            },
          ),
          headers: this.headers,
          xform: _w,
        });
    }
    catch (a) {
      if (qt(a)) return { data: null, error: a };
      throw a;
    }
  }
  async reauthenticate() {
    return await this.initializePromise,
      await this._acquireLock(-1, async () => await this._reauthenticate());
  }
  async _reauthenticate() {
    try {
      return await this._useSession(async e => {
        let { data: { session: i }, error: r } = e;
        if (r) throw r;
        if (!i) throw new Zn();
        let { error: n } = await ti(
          this.fetch,
          "GET",
          `${this.url}/reauthenticate`,
          { headers: this.headers, jwt: i.access_token },
        );
        return { data: { user: null, session: null }, error: n };
      });
    }
    catch (e) {
      if (qt(e)) return { data: { user: null, session: null }, error: e };
      throw e;
    }
  }
  async resend(e) {
    try {
      e.type != "email_change" && e.type != "phone_change"
        && await this._removeSession();
      let i = `${this.url}/resend`;
      if ("email" in e) {
        let { email: r, type: n, options: a } = e,
          { error: o } = await ti(this.fetch, "POST", i, {
            headers: this.headers,
            body: {
              email: r,
              type: n,
              gotrue_meta_security: { captcha_token: a?.captchaToken },
            },
            redirectTo: a?.emailRedirectTo,
          });
        return { data: { user: null, session: null }, error: o };
      }
      else if ("phone" in e) {
        let { phone: r, type: n, options: a } = e,
          { data: o, error: s } = await ti(this.fetch, "POST", i, {
            headers: this.headers,
            body: {
              phone: r,
              type: n,
              gotrue_meta_security: { captcha_token: a?.captchaToken },
            },
          });
        return {
          data: { user: null, session: null, messageId: o?.message_id },
          error: s,
        };
      }
      throw new Yo(
        "You must provide either an email or phone number and a type",
      );
    }
    catch (i) {
      if (qt(i)) return { data: { user: null, session: null }, error: i };
      throw i;
    }
  }
  async getSession() {
    return await this.initializePromise,
      await this._acquireLock(-1, async () => this._useSession(async i => i));
  }
  async _acquireLock(e, i) {
    this._debug("#_acquireLock", "begin", e);
    try {
      if (this.lockAcquired) {
        let r = this.pendingInLock.length
            ? this.pendingInLock[this.pendingInLock.length - 1]
            : Promise.resolve(),
          n = (async () => (await r, await i()))();
        return this.pendingInLock.push((async () => {
          try {
            await n;
          }
          catch {}
        })()),
          n;
      }
      return await this.lock(`lock:${this.storageKey}`, e, async () => {
        this._debug(
          "#_acquireLock",
          "lock acquired for storage key",
          this.storageKey,
        );
        try {
          this.lockAcquired = !0;
          let r = i();
          for (
            this.pendingInLock.push((async () => {
              try {
                await r;
              }
              catch {}
            })()), await r;
            this.pendingInLock.length;
          ) {
            let n = [...this.pendingInLock];
            await Promise.all(n), this.pendingInLock.splice(0, n.length);
          }
          return await r;
        }
        finally {
          this._debug(
            "#_acquireLock",
            "lock released for storage key",
            this.storageKey,
          ), this.lockAcquired = !1;
        }
      });
    }
    finally {
      this._debug("#_acquireLock", "end");
    }
  }
  async _useSession(e) {
    this._debug("#_useSession", "begin");
    try {
      let i = await this.__loadSession();
      return await e(i);
    }
    finally {
      this._debug("#_useSession", "end");
    }
  }
  async __loadSession() {
    this._debug("#__loadSession()", "begin"),
      this.lockAcquired
      || this._debug(
        "#__loadSession()",
        "used outside of an acquired lock!",
        new Error().stack,
      );
    try {
      let e = null, i = await Gd(this.storage, this.storageKey);
      if (
        this._debug("#getSession()", "session from storage", i),
          i !== null && (this._isValidSession(i)
            ? e = i
            : (this._debug(
              "#getSession()",
              "session from storage is not valid",
            ),
              await this._removeSession())),
          !e
      ) {
        return { data: { session: null }, error: null };
      }
      let r = e.expires_at ? e.expires_at <= Date.now() / 1e3 : !1;
      if (
        this._debug(
          "#__loadSession()",
          `session has${
            r
              ? ""
              : " not"
          } expired`,
          "expires_at",
          e.expires_at,
        ), !r
      ) {
        return this.storage.isServer && (e = new Proxy(e, {
          get(s, l, d) {
            return l === "user"
              && console.warn(
                "Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server.",
              ),
              Reflect.get(s, l, d);
          },
        })),
          { data: { session: e }, error: null };
      }
      let { session: n, error: a } = await this._callRefreshToken(
        e.refresh_token,
      );
      return a
        ? { data: { session: null }, error: a }
        : { data: { session: n }, error: null };
    }
    finally {
      this._debug("#__loadSession()", "end");
    }
  }
  async getUser(e) {
    return e
      ? await this._getUser(e)
      : (await this.initializePromise,
        await this._acquireLock(-1, async () => await this._getUser()));
  }
  async _getUser(e) {
    try {
      return e
        ? await ti(this.fetch, "GET", `${this.url}/user`, {
          headers: this.headers,
          jwt: e,
          xform: Jn,
        })
        : await this._useSession(async i => {
          var r, n, a;
          let { data: o, error: s } = i;
          if (s) throw s;
          return !((r = o.session) === null || r === void 0) && r.access_token
            ? await ti(this.fetch, "GET", `${this.url}/user`, {
              headers: this.headers,
              jwt: (a = (n = o.session) === null || n === void 0
                      ? void 0
                      : n.access_token) !== null && a !== void 0
                ? a
                : void 0,
              xform: Jn,
            })
            : { data: { user: null }, error: new Zn() };
        });
    }
    catch (i) {
      if (qt(i)) return { data: { user: null }, error: i };
      throw i;
    }
  }
  async updateUser(e, i = {}) {
    return await this.initializePromise,
      await this._acquireLock(-1, async () => await this._updateUser(e, i));
  }
  async _updateUser(e, i = {}) {
    try {
      return await this._useSession(async r => {
        let { data: n, error: a } = r;
        if (a) throw a;
        if (!n.session) throw new Zn();
        let o = n.session, s = null, l = null;
        this.flowType === "pkce" && e.email != null
          && ([s, l] = await Wo(this.storage, this.storageKey));
        let { data: d, error: c } = await ti(
          this.fetch,
          "PUT",
          `${this.url}/user`,
          {
            headers: this.headers,
            redirectTo: i?.emailRedirectTo,
            body: Object.assign(Object.assign({}, e), {
              code_challenge: s,
              code_challenge_method: l,
            }),
            jwt: o.access_token,
            xform: Jn,
          },
        );
        if (c) throw c;
        return o.user = d.user,
          await this._saveSession(o),
          await this._notifyAllSubscribers("USER_UPDATED", o),
          { data: { user: o.user }, error: null };
      });
    }
    catch (r) {
      if (qt(r)) return { data: { user: null }, error: r };
      throw r;
    }
  }
  _decodeJWT(e) {
    return Qp(e);
  }
  async setSession(e) {
    return await this.initializePromise,
      await this._acquireLock(-1, async () => await this._setSession(e));
  }
  async _setSession(e) {
    try {
      if (!e.access_token || !e.refresh_token) throw new Zn();
      let i = Date.now() / 1e3, r = i, n = !0, a = null, o = Qp(e.access_token);
      if (o.exp && (r = o.exp, n = r <= i), n) {
        let { session: s, error: l } = await this._callRefreshToken(
          e.refresh_token,
        );
        if (l) return { data: { user: null, session: null }, error: l };
        if (!s) return { data: { user: null, session: null }, error: null };
        a = s;
      }
      else {
        let { data: s, error: l } = await this._getUser(e.access_token);
        if (l) throw l;
        a = {
          access_token: e.access_token,
          refresh_token: e.refresh_token,
          user: s.user,
          token_type: "bearer",
          expires_in: r - i,
          expires_at: r,
        },
          await this._saveSession(a),
          await this._notifyAllSubscribers("SIGNED_IN", a);
      }
      return { data: { user: a.user, session: a }, error: null };
    }
    catch (i) {
      if (qt(i)) return { data: { session: null, user: null }, error: i };
      throw i;
    }
  }
  async refreshSession(e) {
    return await this.initializePromise,
      await this._acquireLock(-1, async () => await this._refreshSession(e));
  }
  async _refreshSession(e) {
    try {
      return await this._useSession(async i => {
        var r;
        if (!e) {
          let { data: o, error: s } = i;
          if (s) throw s;
          e = (r = o.session) !== null && r !== void 0 ? r : void 0;
        }
        if (!e?.refresh_token) throw new Zn();
        let { session: n, error: a } = await this._callRefreshToken(
          e.refresh_token,
        );
        return a
          ? { data: { user: null, session: null }, error: a }
          : n
          ? { data: { user: n.user, session: n }, error: null }
          : { data: { user: null, session: null }, error: null };
      });
    }
    catch (i) {
      if (qt(i)) return { data: { user: null, session: null }, error: i };
      throw i;
    }
  }
  async _getSessionFromURL(e) {
    try {
      if (!vn()) throw new Xo("No browser detected.");
      if (this.flowType === "implicit" && !this._isImplicitGrantFlow()) {
        throw new Xo("Not a valid implicit grant flow url.");
      }
      if (this.flowType == "pkce" && !e) {
        throw new jd("Not a valid PKCE flow url.");
      }
      let i = If(window.location.href);
      if (e) {
        if (!i.code) throw new jd("No code detected.");
        let { data: E, error: g } = await this._exchangeCodeForSession(i.code);
        if (g) throw g;
        let _ = new URL(window.location.href);
        return _.searchParams.delete("code"),
          window.history.replaceState(window.history.state, "", _.toString()),
          { data: { session: E.session, redirectType: null }, error: null };
      }
      if (i.error || i.error_description || i.error_code) {
        throw new Xo(
          i.error_description
            || "Error in URL with unspecified error_description",
          {
            error: i.error || "unspecified_error",
            code: i.error_code || "unspecified_code",
          },
        );
      }
      let {
        provider_token: r,
        provider_refresh_token: n,
        access_token: a,
        refresh_token: o,
        expires_in: s,
        expires_at: l,
        token_type: d,
      } = i;
      if (!a || !s || !o || !d) throw new Xo("No session defined in URL");
      let c = Math.round(Date.now() / 1e3), u = parseInt(s), f = c + u;
      l && (f = parseInt(l));
      let h = f - c;
      h * 1e3 <= Wd
        && console.warn(
          `@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${u}s`,
        );
      let x = f - u;
      c - x >= 120
        ? console.warn(
          "@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",
          x,
          f,
          c,
        )
        : c - x < 0
          && console.warn(
            "@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",
            x,
            f,
            c,
          );
      let { data: S, error: p } = await this._getUser(a);
      if (p) throw p;
      let y = {
        provider_token: r,
        provider_refresh_token: n,
        access_token: a,
        expires_in: u,
        expires_at: f,
        refresh_token: o,
        token_type: d,
        user: S.user,
      };
      return window.location.hash = "",
        this._debug("#_getSessionFromURL()", "clearing window.location.hash"),
        { data: { session: y, redirectType: i.type }, error: null };
    }
    catch (i) {
      if (qt(i)) {
        return { data: { session: null, redirectType: null }, error: i };
      }
      throw i;
    }
  }
  _isImplicitGrantFlow() {
    let e = If(window.location.href);
    return !!(vn() && (e.access_token || e.error_description));
  }
  async _isPKCEFlow() {
    let e = If(window.location.href),
      i = await Gd(this.storage, `${this.storageKey}-code-verifier`);
    return !!(e.code && i);
  }
  async signOut(e = { scope: "global" }) {
    return await this.initializePromise,
      await this._acquireLock(-1, async () => await this._signOut(e));
  }
  async _signOut({ scope: e } = { scope: "global" }) {
    return await this._useSession(async i => {
      var r;
      let { data: n, error: a } = i;
      if (a) return { error: a };
      let o = (r = n.session) === null || r === void 0
        ? void 0
        : r.access_token;
      if (o) {
        let { error: s } = await this.admin.signOut(o, e);
        if (s && !(gw(s) && (s.status === 404 || s.status === 401))) {
          return { error: s };
        }
      }
      return e !== "others"
        && (await this._removeSession(),
          await kf(this.storage, `${this.storageKey}-code-verifier`),
          await this._notifyAllSubscribers("SIGNED_OUT", null)),
        { error: null };
    });
  }
  onAuthStateChange(e) {
    let i = uw(),
      r = {
        id: i,
        callback: e,
        unsubscribe: () => {
          this._debug(
            "#unsubscribe()",
            "state change callback with id removed",
            i,
          ), this.stateChangeEmitters.delete(i);
        },
      };
    return this._debug(
      "#onAuthStateChange()",
      "registered callback with id",
      i,
    ),
      this.stateChangeEmitters.set(i, r),
      (async () => (await this.initializePromise,
        await this._acquireLock(-1, async () => {
          this._emitInitialSession(i);
        })))(),
      { data: { subscription: r } };
  }
  async _emitInitialSession(e) {
    return await this._useSession(async i => {
      var r, n;
      try {
        let { data: { session: a }, error: o } = i;
        if (o) throw o;
        await ((r = this.stateChangeEmitters.get(e)) === null || r === void 0
          ? void 0
          : r.callback("INITIAL_SESSION", a)),
          this._debug("INITIAL_SESSION", "callback id", e, "session", a);
      }
      catch (a) {
        await ((n = this.stateChangeEmitters.get(e)) === null || n === void 0
          ? void 0
          : n.callback("INITIAL_SESSION", null)),
          this._debug("INITIAL_SESSION", "callback id", e, "error", a),
          console.error(a);
      }
    });
  }
  async resetPasswordForEmail(e, i = {}) {
    let r = null, n = null;
    this.flowType === "pkce"
      && ([r, n] = await Wo(this.storage, this.storageKey, !0));
    try {
      return await ti(this.fetch, "POST", `${this.url}/recover`, {
        body: {
          email: e,
          code_challenge: r,
          code_challenge_method: n,
          gotrue_meta_security: { captcha_token: i.captchaToken },
        },
        headers: this.headers,
        redirectTo: i.redirectTo,
      });
    }
    catch (a) {
      if (qt(a)) return { data: null, error: a };
      throw a;
    }
  }
  async getUserIdentities() {
    var e;
    try {
      let { data: i, error: r } = await this.getUser();
      if (r) throw r;
      return {
        data: {
          identities: (e = i.user.identities) !== null && e !== void 0
            ? e
            : [],
        },
        error: null,
      };
    }
    catch (i) {
      if (qt(i)) return { data: null, error: i };
      throw i;
    }
  }
  async linkIdentity(e) {
    var i;
    try {
      let { data: r, error: n } = await this._useSession(async a => {
        var o, s, l, d, c;
        let { data: u, error: f } = a;
        if (f) throw f;
        let h = await this._getUrlForProvider(
          `${this.url}/user/identities/authorize`,
          e.provider,
          {
            redirectTo: (o = e.options) === null || o === void 0
              ? void 0
              : o.redirectTo,
            scopes: (s = e.options) === null || s === void 0
              ? void 0
              : s.scopes,
            queryParams: (l = e.options) === null || l === void 0
              ? void 0
              : l.queryParams,
            skipBrowserRedirect: !0,
          },
        );
        return await ti(this.fetch, "GET", h, {
          headers: this.headers,
          jwt: (c = (d = u.session) === null || d === void 0
                  ? void 0
                  : d.access_token) !== null && c !== void 0
            ? c
            : void 0,
        });
      });
      if (n) throw n;
      return vn()
        && !(!((i = e.options) === null || i === void 0)
          && i.skipBrowserRedirect)
        && window.location.assign(r?.url),
        { data: { provider: e.provider, url: r?.url }, error: null };
    }
    catch (r) {
      if (qt(r)) return { data: { provider: e.provider, url: null }, error: r };
      throw r;
    }
  }
  async unlinkIdentity(e) {
    try {
      return await this._useSession(async i => {
        var r, n;
        let { data: a, error: o } = i;
        if (o) throw o;
        return await ti(
          this.fetch,
          "DELETE",
          `${this.url}/user/identities/${e.identity_id}`,
          {
            headers: this.headers,
            jwt: (n = (r = a.session) === null || r === void 0
                    ? void 0
                    : r.access_token) !== null && n !== void 0
              ? n
              : void 0,
          },
        );
      });
    }
    catch (i) {
      if (qt(i)) return { data: null, error: i };
      throw i;
    }
  }
  async _refreshAccessToken(e) {
    let i = `#_refreshAccessToken(${e.substring(0, 5)}...)`;
    this._debug(i, "begin");
    try {
      let r = Date.now();
      return await hw(
        async n => (n > 0 && await mw(200 * Math.pow(2, n - 1)),
          this._debug(i, "refreshing attempt", n),
          await ti(
            this.fetch,
            "POST",
            `${this.url}/token?grant_type=refresh_token`,
            { body: { refresh_token: e }, headers: this.headers, xform: va },
          )),
        (n, a) => {
          let o = 200 * Math.pow(2, n);
          return a && Of(a) && Date.now() + o - r < Wd;
        },
      );
    }
    catch (r) {
      if (this._debug(i, "error", r), qt(r)) {
        return { data: { session: null, user: null }, error: r };
      }
      throw r;
    }
    finally {
      this._debug(i, "end");
    }
  }
  _isValidSession(e) {
    return typeof e == "object" && e !== null && "access_token" in e
      && "refresh_token" in e && "expires_at" in e;
  }
  async _handleProviderSignIn(e, i) {
    let r = await this._getUrlForProvider(`${this.url}/authorize`, e, {
      redirectTo: i.redirectTo,
      scopes: i.scopes,
      queryParams: i.queryParams,
    });
    return this._debug(
      "#_handleProviderSignIn()",
      "provider",
      e,
      "options",
      i,
      "url",
      r,
    ),
      vn() && !i.skipBrowserRedirect && window.location.assign(r),
      { data: { provider: e, url: r }, error: null };
  }
  async _recoverAndRefresh() {
    var e;
    let i = "#_recoverAndRefresh()";
    this._debug(i, "begin");
    try {
      let r = await Gd(this.storage, this.storageKey);
      if (this._debug(i, "session from storage", r), !this._isValidSession(r)) {
        this._debug(i, "session is not valid"),
          r !== null && await this._removeSession();
        return;
      }
      let n = Math.round(Date.now() / 1e3),
        a = ((e = r.expires_at) !== null && e !== void 0 ? e : 1 / 0) < n + Kp;
      if (
        this._debug(
          i,
          `session has${
            a
              ? ""
              : " not"
          } expired with margin of ${Kp}s`,
        ), a
      ) {
        if (this.autoRefreshToken && r.refresh_token) {
          let { error: o } = await this._callRefreshToken(r.refresh_token);
          o
            && (console.error(o),
              Of(o)
              || (this._debug(
                i,
                "refresh failed with a non-retryable error, removing the session",
                o,
              ),
                await this._removeSession()));
        }
      }
      else await this._notifyAllSubscribers("SIGNED_IN", r);
    }
    catch (r) {
      this._debug(i, "error", r), console.error(r);
      return;
    }
    finally {
      this._debug(i, "end");
    }
  }
  async _callRefreshToken(e) {
    var i, r;
    if (!e) throw new Zn();
    if (this.refreshingDeferred) return this.refreshingDeferred.promise;
    let n = `#_callRefreshToken(${e.substring(0, 5)}...)`;
    this._debug(n, "begin");
    try {
      this.refreshingDeferred = new Ud();
      let { data: a, error: o } = await this._refreshAccessToken(e);
      if (o) throw o;
      if (!a.session) throw new Zn();
      await this._saveSession(a.session),
        await this._notifyAllSubscribers("TOKEN_REFRESHED", a.session);
      let s = { session: a.session, error: null };
      return this.refreshingDeferred.resolve(s), s;
    }
    catch (a) {
      if (this._debug(n, "error", a), qt(a)) {
        let o = { session: null, error: a };
        return Of(a)
          || (await this._removeSession(),
            await this._notifyAllSubscribers("SIGNED_OUT", null)),
          (i = this.refreshingDeferred) === null || i === void 0
          || i.resolve(o),
          o;
      }
      throw (r = this.refreshingDeferred) === null || r === void 0
        || r.reject(a),
        a;
    }
    finally {
      this.refreshingDeferred = null, this._debug(n, "end");
    }
  }
  async _notifyAllSubscribers(e, i, r = !0) {
    let n = `#_notifyAllSubscribers(${e})`;
    this._debug(n, "begin", i, `broadcast = ${r}`);
    try {
      this.broadcastChannel && r
        && this.broadcastChannel.postMessage({ event: e, session: i });
      let a = [],
        o = Array.from(this.stateChangeEmitters.values()).map(async s => {
          try {
            await s.callback(e, i);
          }
          catch (l) {
            a.push(l);
          }
        });
      if (await Promise.all(o), a.length > 0) {
        for (let s = 0; s < a.length; s += 1) console.error(a[s]);
        throw a[0];
      }
    }
    finally {
      this._debug(n, "end");
    }
  }
  async _saveSession(e) {
    this._debug("#_saveSession()", e),
      await Jp(this.storage, this.storageKey, e);
  }
  async _removeSession() {
    this._debug("#_removeSession()"), await kf(this.storage, this.storageKey);
  }
  _removeVisibilityChangedCallback() {
    this._debug("#_removeVisibilityChangedCallback()");
    let e = this.visibilityChangedCallback;
    this.visibilityChangedCallback = null;
    try {
      e && vn() && window?.removeEventListener
        && window.removeEventListener("visibilitychange", e);
    }
    catch (i) {
      console.error("removing visibilitychange callback failed", i);
    }
  }
  async _startAutoRefresh() {
    await this._stopAutoRefresh(), this._debug("#_startAutoRefresh()");
    let e = setInterval(() => this._autoRefreshTokenTick(), Wd);
    this.autoRefreshTicker = e,
      e && typeof e == "object" && typeof e.unref == "function"
        ? e.unref()
        : typeof Deno < "u" && typeof Deno.unrefTimer == "function"
          && Deno.unrefTimer(e),
      setTimeout(async () => {
        await this.initializePromise, await this._autoRefreshTokenTick();
      }, 0);
  }
  async _stopAutoRefresh() {
    this._debug("#_stopAutoRefresh()");
    let e = this.autoRefreshTicker;
    this.autoRefreshTicker = null, e && clearInterval(e);
  }
  async startAutoRefresh() {
    this._removeVisibilityChangedCallback(), await this._startAutoRefresh();
  }
  async stopAutoRefresh() {
    this._removeVisibilityChangedCallback(), await this._stopAutoRefresh();
  }
  async _autoRefreshTokenTick() {
    this._debug("#_autoRefreshTokenTick()", "begin");
    try {
      await this._acquireLock(0, async () => {
        try {
          let e = Date.now();
          try {
            return await this._useSession(async i => {
              let { data: { session: r } } = i;
              if (!r || !r.refresh_token || !r.expires_at) {
                this._debug("#_autoRefreshTokenTick()", "no session");
                return;
              }
              let n = Math.floor((r.expires_at * 1e3 - e) / Wd);
              this._debug(
                "#_autoRefreshTokenTick()",
                `access token expires in ${n} ticks, a tick lasts ${Wd}ms, refresh threshold is ${Sw} ticks`,
              ), n <= Sw && await this._callRefreshToken(r.refresh_token);
            });
          }
          catch (i) {
            console.error(
              "Auto refresh tick failed with error. This is likely a transient error.",
              i,
            );
          }
        }
        finally {
          this._debug("#_autoRefreshTokenTick()", "end");
        }
      });
    }
    catch (e) {
      if (e.isAcquireTimeout || e instanceof qd) {
        this._debug("auto refresh token tick lock not available");
      }
      else throw e;
    }
  }
  async _handleVisibilityChange() {
    if (
      this._debug("#_handleVisibilityChange()"),
        !vn() || !window?.addEventListener
    ) {
      return this.autoRefreshToken && this.startAutoRefresh(), !1;
    }
    try {
      this.visibilityChangedCallback = async () =>
        await this._onVisibilityChanged(!1),
        window?.addEventListener(
          "visibilitychange",
          this.visibilityChangedCallback,
        ),
        await this._onVisibilityChanged(!0);
    }
    catch (e) {
      console.error("_handleVisibilityChange", e);
    }
  }
  async _onVisibilityChanged(e) {
    let i = `#_onVisibilityChanged(${e})`;
    this._debug(i, "visibilityState", document.visibilityState),
      document.visibilityState === "visible"
        ? (this.autoRefreshToken && this._startAutoRefresh(),
          e
          || (await this.initializePromise,
            await this._acquireLock(-1, async () => {
              if (document.visibilityState !== "visible") {
                this._debug(
                  i,
                  "acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting",
                );
                return;
              }
              await this._recoverAndRefresh();
            })))
        : document.visibilityState === "hidden" && this.autoRefreshToken
          && this._stopAutoRefresh();
  }
  async _getUrlForProvider(e, i, r) {
    let n = [`provider=${encodeURIComponent(i)}`];
    if (
      r?.redirectTo
      && n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),
        r?.scopes && n.push(`scopes=${encodeURIComponent(r.scopes)}`),
        this.flowType === "pkce"
    ) {
      let [a, o] = await Wo(this.storage, this.storageKey),
        s = new URLSearchParams({
          code_challenge: `${encodeURIComponent(a)}`,
          code_challenge_method: `${encodeURIComponent(o)}`,
        });
      n.push(s.toString());
    }
    if (r?.queryParams) {
      let a = new URLSearchParams(r.queryParams);
      n.push(a.toString());
    }
    return r?.skipBrowserRedirect
      && n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),
      `${e}?${n.join("&")}`;
  }
  async _unenroll(e) {
    try {
      return await this._useSession(async i => {
        var r;
        let { data: n, error: a } = i;
        return a
          ? { data: null, error: a }
          : await ti(
            this.fetch,
            "DELETE",
            `${this.url}/factors/${e.factorId}`,
            {
              headers: this.headers,
              jwt: (r = n?.session) === null || r === void 0
                ? void 0
                : r.access_token,
            },
          );
      });
    }
    catch (i) {
      if (qt(i)) return { data: null, error: i };
      throw i;
    }
  }
  async _enroll(e) {
    try {
      return await this._useSession(async i => {
        var r, n;
        let { data: a, error: o } = i;
        if (o) return { data: null, error: o };
        let { data: s, error: l } = await ti(
          this.fetch,
          "POST",
          `${this.url}/factors`,
          {
            body: {
              friendly_name: e.friendlyName,
              factor_type: e.factorType,
              issuer: e.issuer,
            },
            headers: this.headers,
            jwt: (r = a?.session) === null || r === void 0
              ? void 0
              : r.access_token,
          },
        );
        return l
          ? { data: null, error: l }
          : (!((n = s?.totp) === null || n === void 0) && n.qr_code
            && (s.totp.qr_code = `data:image/svg+xml;utf-8,${s.totp.qr_code}`),
            { data: s, error: null });
      });
    }
    catch (i) {
      if (qt(i)) return { data: null, error: i };
      throw i;
    }
  }
  async _verify(e) {
    return this._acquireLock(-1, async () => {
      try {
        return await this._useSession(async i => {
          var r;
          let { data: n, error: a } = i;
          if (a) return { data: null, error: a };
          let { data: o, error: s } = await ti(
            this.fetch,
            "POST",
            `${this.url}/factors/${e.factorId}/verify`,
            {
              body: { code: e.code, challenge_id: e.challengeId },
              headers: this.headers,
              jwt: (r = n?.session) === null || r === void 0
                ? void 0
                : r.access_token,
            },
          );
          return s
            ? { data: null, error: s }
            : (await this._saveSession(
              Object.assign({
                expires_at: Math.round(Date.now() / 1e3) + o.expires_in,
              }, o),
            ),
              await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED", o),
              { data: o, error: s });
        });
      }
      catch (i) {
        if (qt(i)) return { data: null, error: i };
        throw i;
      }
    });
  }
  async _challenge(e) {
    return this._acquireLock(-1, async () => {
      try {
        return await this._useSession(async i => {
          var r;
          let { data: n, error: a } = i;
          return a
            ? { data: null, error: a }
            : await ti(
              this.fetch,
              "POST",
              `${this.url}/factors/${e.factorId}/challenge`,
              {
                headers: this.headers,
                jwt: (r = n?.session) === null || r === void 0
                  ? void 0
                  : r.access_token,
              },
            );
        });
      }
      catch (i) {
        if (qt(i)) return { data: null, error: i };
        throw i;
      }
    });
  }
  async _challengeAndVerify(e) {
    let { data: i, error: r } = await this._challenge({ factorId: e.factorId });
    return r
      ? { data: null, error: r }
      : await this._verify({
        factorId: e.factorId,
        challengeId: i.id,
        code: e.code,
      });
  }
  async _listFactors() {
    let { data: { user: e }, error: i } = await this.getUser();
    if (i) return { data: null, error: i };
    let r = e?.factors || [],
      n = r.filter(a => a.factor_type === "totp" && a.status === "verified");
    return { data: { all: r, totp: n }, error: null };
  }
  async _getAuthenticatorAssuranceLevel() {
    return this._acquireLock(-1, async () =>
      await this._useSession(async e => {
        var i, r;
        let { data: { session: n }, error: a } = e;
        if (a) return { data: null, error: a };
        if (!n) {
          return {
            data: {
              currentLevel: null,
              nextLevel: null,
              currentAuthenticationMethods: [],
            },
            error: null,
          };
        }
        let o = this._decodeJWT(n.access_token), s = null;
        o.aal && (s = o.aal);
        let l = s;
        ((r = (i = n.user.factors) === null || i === void 0
                    ? void 0
                    : i.filter(u => u.status === "verified")) !== null
                && r !== void 0
              ? r
              : []).length > 0 && (l = "aal2");
        let c = o.amr || [];
        return {
          data: {
            currentLevel: s,
            nextLevel: l,
            currentAuthenticationMethods: c,
          },
          error: null,
        };
      }));
  }
};
Qo.nextInstanceID = 0;
var Z6 = Qo, rg = Z6;
var Ff = class extends rg {
  constructor(e) {
    super(e);
  }
};
var J6 = function(t, e, i, r) {
    function n(a) {
      return a instanceof i ? a : new i(function(o) {
        o(a);
      });
    }
    return new (i || (i = Promise))(function(a, o) {
      function s(c) {
        try {
          d(r.next(c));
        }
        catch (u) {
          o(u);
        }
      }
      function l(c) {
        try {
          d(r.throw(c));
        }
        catch (u) {
          o(u);
        }
      }
      function d(c) {
        c.done ? a(c.value) : n(c.value).then(s, l);
      }
      d((r = r.apply(t, e || [])).next());
    });
  },
  Yd = class {
    constructor(e, i, r) {
      var n, a, o, s, l, d, c, u;
      if (this.supabaseUrl = e, this.supabaseKey = i, !e) {throw new Error(
          "supabaseUrl is required.",
        );}
      if (!i) throw new Error("supabaseKey is required.");
      let f = aw(e);
      this.realtimeUrl = `${f}/realtime/v1`.replace(/^http/i, "ws"),
        this.authUrl = `${f}/auth/v1`,
        this.storageUrl = `${f}/storage/v1`,
        this.functionsUrl = `${f}/functions/v1`;
      let h = `sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,
        x = {
          db: tw,
          realtime: rw,
          auth: Object.assign(Object.assign({}, iw), { storageKey: h }),
          global: ew,
        },
        S = ow(r ?? {}, x);
      this.storageKey = (a = (n = S.auth) === null || n === void 0
              ? void 0
              : n.storageKey) !== null && a !== void 0
        ? a
        : "",
        this.headers = (s = (o = S.global) === null || o === void 0
                ? void 0
                : o.headers) !== null && s !== void 0
          ? s
          : {},
        this.auth = this._initSupabaseAuthClient(
          (l = S.auth) !== null && l !== void 0 ? l : {},
          this.headers,
          (d = S.global) === null || d === void 0
            ? void 0
            : d.fetch,
        ),
        this.fetch = nw(
          i,
          this._getAccessToken.bind(this),
          (c = S.global) === null || c === void 0 ? void 0 : c.fetch,
        ),
        this.realtime = this._initRealtimeClient(
          Object.assign({ headers: this.headers }, S.realtime),
        ),
        this.rest = new Zs(`${f}/rest/v1`, {
          headers: this.headers,
          schema: (u = S.db) === null || u === void 0 ? void 0 : u.schema,
          fetch: this.fetch,
        }),
        this._listenForAuthEvents();
    }
    get functions() {
      return new Od(this.functionsUrl, {
        headers: this.headers,
        customFetch: this.fetch,
      });
    }
    get storage() {
      return new Pd(this.storageUrl, this.headers, this.fetch);
    }
    from(e) {
      return this.rest.from(e);
    }
    schema(e) {
      return this.rest.schema(e);
    }
    rpc(e, i = {}, r = {}) {
      return this.rest.rpc(e, i, r);
    }
    channel(e, i = { config: {} }) {
      return this.realtime.channel(e, i);
    }
    getChannels() {
      return this.realtime.getChannels();
    }
    removeChannel(e) {
      return this.realtime.removeChannel(e);
    }
    removeAllChannels() {
      return this.realtime.removeAllChannels();
    }
    _getAccessToken() {
      var e, i;
      return J6(this, void 0, void 0, function*() {
        let { data: r } = yield this.auth.getSession();
        return (i = (e = r.session) === null || e === void 0
                ? void 0
                : e.access_token) !== null && i !== void 0
          ? i
          : null;
      });
    }
    _initSupabaseAuthClient(
      {
        autoRefreshToken: e,
        persistSession: i,
        detectSessionInUrl: r,
        storage: n,
        storageKey: a,
        flowType: o,
        debug: s,
      },
      l,
      d,
    ) {
      let c = {
        Authorization: `Bearer ${this.supabaseKey}`,
        apikey: `${this.supabaseKey}`,
      };
      return new Ff({
        url: this.authUrl,
        headers: Object.assign(Object.assign({}, c), l),
        storageKey: a,
        autoRefreshToken: e,
        persistSession: i,
        detectSessionInUrl: r,
        storage: n,
        flowType: o,
        debug: s,
        fetch: d,
      });
    }
    _initRealtimeClient(e) {
      return new el(
        this.realtimeUrl,
        Object.assign(Object.assign({}, e), {
          params: Object.assign({ apikey: this.supabaseKey }, e?.params),
        }),
      );
    }
    _listenForAuthEvents() {
      return this.auth.onAuthStateChange((i, r) => {
        this._handleTokenChanged(i, "CLIENT", r?.access_token);
      });
    }
    _handleTokenChanged(e, i, r) {
      (e === "TOKEN_REFRESHED" || e === "SIGNED_IN")
        && this.changedAccessToken !== r
        ? (this.realtime.setAuth(r ?? null), this.changedAccessToken = r)
        : e === "SIGNED_OUT"
          && (this.realtime.setAuth(this.supabaseKey),
            i == "STORAGE" && this.auth.signOut(),
            this.changedAccessToken = void 0);
    }
  };
var Tw = (t, e, i) => new Yd(t, e, i);
var Q6 = Tw(
  "https://xovkkfhojasbjinfslpx.supabase.co",
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhvdmtrZmhvamFzYmppbmZzbHB4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTM1ODQ0ODAsImV4cCI6MjAwOTE2MDQ4MH0.L3-X0p_un0oSTNubPwtfGo0D8g2bkPIfz7CaZ-iRYXY",
);
async function Aw(t) {
  let { error: e } = await Q6.from("metrics").insert(t);
  return e;
}
var Iw = [], Xd = [];
function Cw(t, e) {
  if (t && typeof document < "u") {
    var i,
      r = e.prepend === !0 ? "prepend" : "append",
      n = e.singleTag === !0,
      a = typeof e.container == "string"
        ? document.querySelector(e.container)
        : document.getElementsByTagName("head")[0];
    if (n) {
      var o = Iw.indexOf(a);
      o === -1 && (o = Iw.push(a) - 1, Xd[o] = {}),
        i = Xd[o] && Xd[o][r] ? Xd[o][r] : Xd[o][r] = s();
    }
    else i = s();
    t.charCodeAt(0) === 65279 && (t = t.substring(1)),
      i.styleSheet
        ? i.styleSheet.cssText += t
        : i.appendChild(document.createTextNode(t));
  }
  function s() {
    var l = document.createElement("style");
    if (l.setAttribute("type", "text/css"), e.attributes) {
      for (var d = Object.keys(e.attributes), c = 0; c < d.length; c++) {
        l.setAttribute(d[c], e.attributes[d[c]]);
      }
    }
    var u = r === "prepend" ? "afterbegin" : "beforeend";
    return a.insertAdjacentElement(u, l), l;
  }
}
var e7 =
    ":root{--cosmograph-watermark-color:#fff}.style_module_watermark__6b4371ae{bottom:0;color:var(--cosmograph-watermark-color);cursor:pointer;line-height:0;margin:0 .6rem .6rem 0;position:absolute;right:0;user-select:none}.style_module_cosmograph__6b4371ae{display:flex;height:100%;overflow:hidden;position:relative;width:100%}.style_module_cosmographShowLabelsFor__6b4371ae{opacity:1}.style_module_cosmographShowTopLabels__6b4371ae{opacity:.9}.style_module_cosmographShowDynamicLabels__6b4371ae{opacity:.7}",
  sl = {
    watermark: "style_module_watermark__6b4371ae",
    cosmograph: "style_module_cosmograph__6b4371ae",
    cosmographShowLabelsFor: "style_module_cosmographShowLabelsFor__6b4371ae",
    cosmographShowTopLabels: "style_module_cosmographShowTopLabels__6b4371ae",
    cosmographShowDynamicLabels:
      "style_module_cosmographShowDynamicLabels__6b4371ae",
  };
Cw(e7, {});
var ng = {
  disableSimulation: null,
  showDynamicLabels: !0,
  showTopLabels: !1,
  showTopLabelsLimit: 100,
  showTopLabelsValueKey: void 0,
  showLabelsFor: void 0,
  showHoveredNodeLabel: !0,
  nodeLabelAccessor: t => t.id,
  nodeLabelClassName: void 0,
  nodeLabelColor: void 0,
  hoveredNodeLabelClassName: void 0,
  hoveredNodeLabelColor: void 0,
  onSetData: void 0,
  onNodesFiltered: void 0,
  onLinksFiltered: void 0,
  onLabelClick: void 0,
};
var ag = ll, kw = ll, Lw = ll, Ow = Fw, Rw = Dw;
typeof Uint8Array < "u" && (ag = function(t) {
  return new Uint8Array(t);
},
  kw = function(t) {
    return new Uint16Array(t);
  },
  Lw = function(t) {
    return new Uint32Array(t);
  },
  Ow = function(t, e) {
    if (t.length >= e) return t;
    var i = new t.constructor(e);
    return i.set(t), i;
  },
  Rw = function(t, e) {
    var i;
    switch (e) {
      case 16:
        i = kw(t.length);
        break;
      case 32:
        i = Lw(t.length);
        break;
      default:
        throw new Error("invalid array width!");
    }
    return i.set(t), i;
  });
function ll(t) {
  for (var e = new Array(t), i = -1; ++i < t;) e[i] = 0;
  return e;
}
function Fw(t, e) {
  for (var i = t.length; i < e;) t[i++] = 0;
  return t;
}
function Dw(t, e) {
  if (e > 32) throw new Error("invalid array width!");
  return t;
}
function Qn(t) {
  this.length = t,
    this.subarrays = 1,
    this.width = 8,
    this.masks = { 0: 0 },
    this[0] = ag(t);
}
Qn.prototype.lengthen = function(t) {
  var e, i;
  for (e = 0, i = this.subarrays; e < i; ++e) this[e] = Ow(this[e], t);
  this.length = t;
};
Qn.prototype.add = function() {
  var t, e, i, r, n;
  for (r = 0, n = this.subarrays; r < n; ++r) {
    if (
      t = this.masks[r],
        e = this.width - 32 * r,
        i = (~t & t + 1) >>> 0,
        !(e >= 32 && !i)
    ) {
      return e < 32 && i & 1 << e
        && (this[r] = Rw(this[r], e <<= 1), this.width = 32 * r + e),
        this.masks[r] |= i,
        { offset: r, one: i };
    }
  }
  return this[this.subarrays] = ag(this.length),
    this.masks[this.subarrays] = 1,
    this.width += 8,
    { offset: this.subarrays++, one: 1 };
};
Qn.prototype.copy = function(t, e) {
  var i, r;
  for (i = 0, r = this.subarrays; i < r; ++i) this[i][t] = this[i][e];
};
Qn.prototype.truncate = function(t) {
  var e, i;
  for (e = 0, i = this.subarrays; e < i; ++e) {
    for (var r = this.length - 1; r >= t; r--) {
      this[e][r] = 0;
    }
  }
  this.length = t;
};
Qn.prototype.zero = function(t) {
  var e, i;
  for (e = 0, i = this.subarrays; e < i; ++e) if (this[e][t]) return !1;
  return !0;
};
Qn.prototype.zeroExcept = function(t, e, i) {
  var r, n;
  for (r = 0, n = this.subarrays; r < n; ++r) {
    if (r === e ? this[r][t] & i : this[r][t]) return !1;
  }
  return !0;
};
Qn.prototype.zeroExceptMask = function(t, e) {
  var i, r;
  for (i = 0, r = this.subarrays; i < r; ++i) if (this[i][t] & e[i]) return !1;
  return !0;
};
Qn.prototype.only = function(t, e, i) {
  var r, n;
  for (r = 0, n = this.subarrays; r < n; ++r) {
    if (this[r][t] != (r === e ? i : 0)) return !1;
  }
  return !0;
};
Qn.prototype.onlyExcept = function(t, e, i, r, n) {
  var a, o, s;
  for (o = 0, s = this.subarrays; o < s; ++o) {
    if (
      a = this[o][t],
        o === e && (a = (a & i) >>> 0),
        a != (o === r ? n : 0)
    ) {
      return !1;
    }
  }
  return !0;
};
var _a = {
  array8: ll,
  array16: ll,
  array32: ll,
  arrayLengthen: Fw,
  arrayWiden: Dw,
  bitarray: Qn,
};
var t7 = (t, e) =>
    function(i) {
      var r = i.length;
      return [t.left(i, e, 0, r), t.right(i, e, 0, r)];
    },
  i7 = (t, e) => {
    var i = e[0], r = e[1];
    return function(n) {
      var a = n.length;
      return [t.left(n, i, 0, a), t.left(n, r, 0, a)];
    };
  },
  r7 = t => [0, t.length],
  es = { filterExact: t7, filterRange: i7, filterAll: r7 };
var xa = t => t;
var On = () => null;
var Kd = () => 0;
function $w(t) {
  function e(n, a, o) {
    for (var s = o - a, l = (s >>> 1) + 1; --l > 0;) r(n, l, s, a);
    return n;
  }
  function i(n, a, o) {
    for (var s = o - a, l; --s > 0;) {
      l = n[a], n[a] = n[a + s], n[a + s] = l, r(n, 1, s, a);
    }
    return n;
  }
  function r(n, a, o, s) {
    for (
      var l = n[--s + a], d = t(l), c;
      (c = a << 1) <= o
      && (c < o && t(n[s + c]) > t(n[s + c + 1]) && c++, !(d <= t(n[s + c])));
    ) {
      n[s + a] = n[s + c], a = c;
    }
    n[s + a] = l;
  }
  return e.sort = i, e;
}
var Mw = $w(xa);
Mw.by = $w;
var Zd = Mw;
function Nw(t) {
  var e = Zd.by(t);
  function i(r, n, a, o) {
    var s = new Array(o = Math.min(a - n, o)), l, d, c;
    for (d = 0; d < o; ++d) s[d] = r[n++];
    if (e(s, 0, o), n < a) {
      l = t(s[0]);
      do t(c = r[n]) > l && (s[0] = c, l = t(e(s, 0, o)[0])); while (++n < a);
    }
    return s;
  }
  return i;
}
var Pw = Nw(xa);
Pw.by = Nw;
var og = Pw;
function zw(t) {
  function e(r, n, a, o) {
    for (; a < o;) {
      var s = a + o >>> 1;
      t(r[s]) < n ? a = s + 1 : o = s;
    }
    return a;
  }
  function i(r, n, a, o) {
    for (; a < o;) {
      var s = a + o >>> 1;
      n < t(r[s]) ? o = s : a = s + 1;
    }
    return a;
  }
  return i.right = i, i.left = e, i;
}
var Bw = zw(xa);
Bw.by = zw;
var Df = Bw;
var Jd = (t, e, i) => {
  for (
    var r = 0,
      n = e.length,
      a = i ? JSON.parse(JSON.stringify(t)) : new Array(n);
    r < n;
    ++r
  ) {
    a[r] = t[e[r]];
  }
  return a;
};
var n7 = t => t + 1,
  a7 = t => t - 1,
  o7 = t =>
    function(e, i) {
      return e + +t(i);
    },
  s7 = t => function(e, i) {
    return e - t(i);
  },
  ba = {
    reduceIncrement: n7,
    reduceDecrement: a7,
    reduceAdd: o7,
    reduceSubtract: s7,
  };
function Uw(t, e, i, r, n) {
  for (n in r = (i = i.split(".")).splice(-1, 1), i) {
    e = e[i[n]] = e[i[n]] || {};
  }
  return t(e, r);
}
var l7 = (t, e) => {
    let i = t[e];
    return typeof i == "function" ? i.call(t) : i;
  },
  d7 = /\[([\w\d]+)\]/g,
  Gw = (t, e) => Uw(l7, t, e.replace(d7, ".$1"));
var Za = -1;
Qd.heap = Zd;
Qd.heapselect = og;
Qd.bisect = Df;
Qd.permute = Jd;
var lg = Qd;
function Qd() {
  var t = {
      add: l,
      remove: d,
      dimension: f,
      groupAll: h,
      size: x,
      all: S,
      allFiltered: p,
      onChange: y,
      isElementFiltered: u,
    },
    e = [],
    i = 0,
    r,
    n = [],
    a = [],
    o = [],
    s = [];
  r = new _a.bitarray(0);
  function l(g) {
    var _ = i, $ = g.length;
    return $ && (e = e.concat(g),
      r.lengthen(i += $),
      a.forEach(function(z) {
        z(g, _, $);
      }),
      E("dataAdded")),
      t;
  }
  function d(g) {
    for (
      var _ = new Array(i),
        $ = [],
        z = typeof g == "function",
        I = function(ee) {
          return z ? g(e[ee], ee) : r.zero(ee);
        },
        D = 0,
        V = 0;
      D < i;
      ++D
    ) {
      I(D) ? ($.push(D), _[D] = Za) : _[D] = V++;
    }
    n.forEach(function(ee) {
      ee(-1, -1, [], $, !0);
    }),
      o.forEach(function(ee) {
        ee(_);
      });
    for (var ue = 0, ne = 0; ue < i; ++ue) {
      _[ue] !== Za && (ue !== ne && (r.copy(ne, ue), e[ne] = e[ue]), ++ne);
    }
    e.length = i = ne, r.truncate(ne), E("dataRemoved");
  }
  function c(g) {
    var _, $, z, I, D = Array(r.subarrays);
    for (_ = 0; _ < r.subarrays; _++) D[_] = -1;
    for ($ = 0, z = g.length; $ < z; $++) {
      I = g[$].id(), D[I >> 7] &= ~(1 << (I & 63));
    }
    return D;
  }
  function u(g, _) {
    var $ = c(_ || []);
    return r.zeroExceptMask(g, $);
  }
  function f(g, _) {
    if (typeof g == "string") {
      var $ = g;
      g = function(Ze) {
        return Gw(Ze, $);
      };
    }
    var z = {
        filter: At,
        filterExact: yi,
        filterRange: Wt,
        filterFunction: Rt,
        filterAll: mt,
        currentFilter: at,
        hasCurrentFilter: v,
        top: vi,
        bottom: jr,
        group: K,
        groupAll: $i,
        dispose: on,
        remove: on,
        accessor: g,
        id: function() {
          return ue;
        },
      },
      I,
      D,
      V,
      ue,
      ne,
      ee,
      R,
      A,
      X,
      G,
      te = [],
      De = function(Ze) {
        return sg(Ze).sort(function(nt, ge) {
          var oe = R[nt], It = R[ge];
          return oe < It ? -1 : oe > It ? 1 : nt - ge;
        });
      },
      Se = es.filterAll,
      Fe,
      Be,
      We,
      me = [],
      gt = [],
      St = 0,
      ft = 0,
      xt = 0,
      _e;
    a.unshift(Ke), a.push(dt), o.push(Ee);
    var le = r.add();
    V = le.offset,
      I = le.one,
      D = ~I,
      ue = V << 7 | Math.log(I) / Math.log(2),
      Ke(e, 0, i),
      dt(e, 0, i);
    function Ke(Ze, nt, ge) {
      var oe, It;
      if (_) {
        xt = 0, Ir = 0, _e = [];
        for (var ct = 0; ct < Ze.length; ct++) {
          for (Ir = 0, _e = g(Ze[ct]); Ir < _e.length; Ir++) {
            xt++;
          }
        }
        R = [], oe = sg(Ze.length), It = ts(xt, 1);
        for (var et = sg(xt), wi = 0, er = 0; er < Ze.length; er++) {
          if (_e = g(Ze[er]), !_e.length) {
            oe[er] = 0, te.push(er + nt);
            continue;
          }
          for (oe[er] = _e.length, Ir = 0; Ir < _e.length; Ir++) {
            R.push(_e[Ir]), et[wi] = er, wi++;
          }
        }
        var or = De(xt);
        R = Jd(R, or), A = Jd(et, or);
      }
      else R = Ze.map(g), A = De(ge), R = Jd(R, A);
      var Wi = Se(R), Or = Wi[0], Pi = Wi[1], Si, tr, Rr;
      if (_) {
        if (ge = xt, Fe) {
          for (Si = 0; Si < ge; ++Si) {
            Fe(R[Si], Si)
              || (--oe[A[Si]] === 0 && (r[V][A[Si] + nt] |= I), It[Si] = 1);
          }
        }
        else {
          for (
            tr = 0; tr < Or; ++tr
          ) {
            --oe[A[tr]] === 0 && (r[V][A[tr] + nt] |= I), It[tr] = 1;
          }
          for (Rr = Pi; Rr < ge; ++Rr) {
            --oe[A[Rr]] === 0 && (r[V][A[Rr] + nt] |= I), It[Rr] = 1;
          }
        }
      }
      else if (Fe) {
        for (Si = 0; Si < ge; ++Si) Fe(R[Si], Si) || (r[V][A[Si] + nt] |= I);
      }
      else {
        for (tr = 0; tr < Or; ++tr) r[V][A[tr] + nt] |= I;
        for (Rr = Pi; Rr < ge; ++Rr) r[V][A[Rr] + nt] |= I;
      }
      if (!nt) {
        ne = R, ee = A, X = oe, G = It, St = Or, ft = Pi;
        return;
      }
      var Rn = ne, ya = ee, ur = G, wa, Nr = 0;
      if (
        ct = 0,
          _ && (wa = nt, nt = Rn.length, ge = xt),
          ne = _ ? new Array(nt + ge) : new Array(i),
          ee = _ ? new Array(nt + ge) : ts(i, i),
          _ && (G = ts(nt + ge, 1)),
          _
      ) {
        var Ja = X.length;
        X = _a.arrayLengthen(X, i);
        for (var Ir = 0; Ir + Ja < i; Ir++) X[Ir + Ja] = oe[Ir];
      }
      for (var sr = 0; ct < nt && Nr < ge; ++sr) {
        Rn[ct] < R[Nr]
          ? (ne[sr] = Rn[ct], _ && (G[sr] = ur[ct]), ee[sr] = ya[ct++])
          : (ne[sr] = R[Nr],
            _ && (G[sr] = It[Nr]),
            ee[sr] = A[Nr++] + (_ ? wa : nt));
      }
      for (; ct < nt; ++ct, ++sr) {
        ne[sr] = Rn[ct], _ && (G[sr] = ur[ct]), ee[sr] = ya[ct];
      }
      for (; Nr < ge; ++Nr, ++sr) {
        ne[sr] = R[Nr],
          _ && (G[sr] = It[Nr]),
          ee[sr] = A[Nr] + (_ ? wa : nt);
      }
      Wi = Se(ne), St = Wi[0], ft = Wi[1];
    }
    function dt(Ze, nt, ge) {
      me.forEach(function(oe) {
        oe(R, A, nt, ge);
      }), R = A = null;
    }
    function Ee(Ze) {
      if (_) {
        for (var nt = 0, ge = 0; nt < te.length; nt++) {
          Ze[te[nt]] !== Za && (te[ge] = Ze[te[nt]], ge++);
        }
        for (te.length = ge, nt = 0, ge = 0; nt < i; nt++) {
          Ze[nt] !== Za && (ge !== nt && (X[ge] = X[nt]), ge++);
        }
        X = X.slice(0, ge);
      }
      for (var oe = ne.length, It = 0, ct = 0, et; It < oe; ++It) {
        et = ee[It],
          Ze[et] !== Za
          && (It !== ct && (ne[ct] = ne[It]),
            ee[ct] = Ze[et],
            _ && (G[ct] = G[It]),
            ++ct);
      }
      for (ne.length = ct, _ && (G = G.slice(0, ct)); ct < oe;) ee[ct++] = 0;
      var wi = Se(ne);
      St = wi[0], ft = wi[1];
    }
    function Tt(Ze) {
      var nt = Ze[0], ge = Ze[1];
      if (Fe) {
        return Fe = null,
          xe(function(Pi, Si) {
            return nt <= Si && Si < ge;
          }, Ze[0] === 0 && Ze[1] === ne.length),
          St = nt,
          ft = ge,
          z;
      }
      var oe, It, ct, et = [], wi = [], er = [], or = [];
      if (nt < St) {
        for (oe = nt, It = Math.min(St, ge); oe < It; ++oe) {
          et.push(ee[oe]), er.push(oe);
        }
      }
      else if (nt > St) {
        for (oe = St, It = Math.min(nt, ft); oe < It; ++oe) {
          wi.push(ee[oe]), or.push(oe);
        }
      }
      if (ge > ft) {
        for (oe = Math.max(nt, ft), It = ge; oe < It; ++oe) {
          et.push(ee[oe]), er.push(oe);
        }
      }
      else if (ge < ft) {
        for (oe = Math.max(St, ge), It = ft; oe < It; ++oe) {
          wi.push(ee[oe]), or.push(oe);
        }
      }
      if (_) {
        var Wi = [], Or = [];
        for (oe = 0; oe < et.length; oe++) {
          X[et[oe]]++,
            G[er[oe]] = 0,
            X[et[oe]] === 1 && (r[V][et[oe]] ^= I, Wi.push(et[oe]));
        }
        for (oe = 0; oe < wi.length; oe++) {
          X[wi[oe]]--,
            G[or[oe]] = 1,
            X[wi[oe]] === 0 && (r[V][wi[oe]] ^= I, Or.push(wi[oe]));
        }
        if (et = Wi, wi = Or, Se === es.filterAll) {
          for (oe = 0; oe < te.length; oe++) {
            r[V][ct = te[oe]] & I && (r[V][ct] ^= I, et.push(ct));
          }
        }
        else {
          for (oe = 0; oe < te.length; oe++) {
            r[V][ct = te[oe]] & I || (r[V][ct] ^= I, wi.push(ct));
          }
        }
      }
      else {
        for (oe = 0; oe < et.length; oe++) r[V][et[oe]] ^= I;
        for (oe = 0; oe < wi.length; oe++) r[V][wi[oe]] ^= I;
      }
      return St = nt,
        ft = ge,
        n.forEach(function(Pi) {
          Pi(I, V, et, wi);
        }),
        E("filtered"),
        z;
    }
    function At(Ze) {
      return Ze == null
        ? mt()
        : Array.isArray(Ze)
        ? Wt(Ze)
        : typeof Ze == "function"
        ? Rt(Ze)
        : yi(Ze);
    }
    function yi(Ze) {
      return Be = Ze, We = !0, Tt((Se = es.filterExact(Df, Ze))(ne));
    }
    function Wt(Ze) {
      return Be = Ze, We = !0, Tt((Se = es.filterRange(Df, Ze))(ne));
    }
    function mt() {
      return Be = void 0, We = !1, Tt((Se = es.filterAll)(ne));
    }
    function Rt(Ze) {
      Be = Ze, We = !0, Fe = Ze, Se = es.filterAll, xe(Ze, !1);
      var nt = Se(ne);
      return St = nt[0], ft = nt[1], z;
    }
    function xe(Ze, nt) {
      var ge, oe, It, ct = [], et = [], wi = [], er = [], or = ne.length;
      if (!_) {
        for (ge = 0; ge < or; ++ge) {
          !(r[V][oe = ee[ge]] & I) ^ !!(It = Ze(ne[ge], ge))
            && (It ? ct.push(oe) : et.push(oe));
        }
      }
      if (_) {
        for (ge = 0; ge < or; ++ge) {
          Ze(ne[ge], ge)
            ? (ct.push(ee[ge]), wi.push(ge))
            : (et.push(ee[ge]), er.push(ge));
        }
      }
      if (_) {
        var Wi = [], Or = [];
        for (ge = 0; ge < ct.length; ge++) {
          G[wi[ge]] === 1
            && (X[ct[ge]]++,
              G[wi[ge]] = 0,
              X[ct[ge]] === 1 && (r[V][ct[ge]] ^= I, Wi.push(ct[ge])));
        }
        for (ge = 0; ge < et.length; ge++) {
          G[er[ge]] === 0
            && (X[et[ge]]--,
              G[er[ge]] = 1,
              X[et[ge]] === 0 && (r[V][et[ge]] ^= I, Or.push(et[ge])));
        }
        if (ct = Wi, et = Or, nt) {
          for (ge = 0; ge < te.length; ge++) {
            r[V][oe = te[ge]] & I && (r[V][oe] ^= I, ct.push(oe));
          }
        }
        else {
          for (ge = 0; ge < te.length; ge++) {
            r[V][oe = te[ge]] & I || (r[V][oe] ^= I, et.push(oe));
          }
        }
      }
      else {
        for (ge = 0; ge < ct.length; ge++) {
          r[V][ct[ge]] & I && (r[V][ct[ge]] &= D);
        }
        for (ge = 0; ge < et.length; ge++) {
          r[V][et[ge]] & I || (r[V][et[ge]] |= I);
        }
      }
      n.forEach(function(Pi) {
        Pi(I, V, ct, et);
      }), E("filtered");
    }
    function at() {
      return Be;
    }
    function v() {
      return We;
    }
    function vi(Ze, nt) {
      var ge = [], oe = ft, It, ct = 0;
      for (nt && nt > 0 && (ct = nt); --oe >= St && Ze > 0;) {
        r.zero(It = ee[oe]) && (ct > 0 ? --ct : (ge.push(e[It]), --Ze));
      }
      if (_) {
        for (oe = 0; oe < te.length && Ze > 0; oe++) {
          r.zero(It = te[oe]) && (ct > 0 ? --ct : (ge.push(e[It]), --Ze));
        }
      }
      return ge;
    }
    function jr(Ze, nt) {
      var ge = [], oe, It, ct = 0;
      if (nt && nt > 0 && (ct = nt), _) {
        for (oe = 0; oe < te.length && Ze > 0; oe++) {
          r.zero(It = te[oe]) && (ct > 0
            ? --ct
            : (ge.push(e[It]), --Ze));
        }
      }
      for (oe = St; oe < ft && Ze > 0;) {
        r.zero(It = ee[oe]) && (ct > 0 ? --ct : (ge.push(e[It]), --Ze)), oe++;
      }
      return ge;
    }
    function K(Ze) {
      var nt = {
        top: $f,
        all: sr,
        reduce: dl,
        reduceCount: tc,
        reduceSum: ic,
        order: cl,
        orderNatural: zi,
        size: Mf,
        dispose: rc,
        remove: rc,
      };
      gt.push(nt);
      var ge,
        oe,
        It = 8,
        ct = Hw(It),
        et = 0,
        wi,
        er,
        or,
        Wi,
        Or,
        Pi = On,
        Si = On,
        tr = !0,
        Rr = Ze === On,
        Rn;
      arguments.length < 1 && (Ze = xa),
        n.push(Pi),
        me.push(ya),
        o.push(ur),
        ya(ne, ee, 0, i);
      function ya(Qe, Bt, li, ir) {
        _ && (Rn = li, li = ne.length - Qe.length, ir = Qe.length);
        var Yt = ge,
          Ft = _ ? [] : ts(et, ct),
          fi = or,
          Ei = Wi,
          lr = Or,
          fr = et,
          mr = 0,
          ea = 0,
          sn,
          Sa,
          is,
          ta,
          ia,
          ul;
        for (
          tr && (fi = lr = On),
            tr && (Ei = lr = On),
            ge = new Array(et),
            et = 0,
            _
              ? oe = fr ? oe : []
              : oe = fr > 1
                ? _a.arrayLengthen(oe, i)
                : ts(i, ct),
            fr && (is = (Sa = Yt[0]).key);
          ea < ir && !((ta = Ze(Qe[ea])) >= ta);
        ) {
          ++ea;
        }
        for (; ea < ir;) {
          for (
            Sa && is <= ta
              ? (ia = Sa,
                ul = is,
                Ft[mr] = et,
                Sa = Yt[++mr],
                Sa && (is = Sa.key))
              : (ia = { key: ta, value: lr() }, ul = ta), ge[et] = ia;
            ta <= ul && (sn = Bt[ea] + (_
              ? Rn
              : li),
              _
                ? oe[sn]
                  ? oe[sn].push(et)
                  : oe[sn] = [et]
                : oe[sn] = et,
              ia.value = fi(ia.value, e[sn], !0),
              r.zeroExcept(sn, V, D) || (ia.value = Ei(ia.value, e[sn], !1)),
              !(++ea >= ir));
          ) {
            ta = Ze(Qe[ea]);
          }
          nc();
        }
        for (; mr < fr;) ge[Ft[mr] = et] = Yt[mr++], nc();
        if (_) for (var xn = 0; xn < i; xn++) oe[xn] || (oe[xn] = []);
        if (et > mr) {
          if (_) {
            for (mr = 0; mr < Rn; ++mr) {
              for (xn = 0; xn < oe[mr].length; xn++) {
                oe[mr][xn] = Ft[oe[mr][xn]];
              }
            }
          }
          else for (mr = 0; mr < li; ++mr) oe[mr] = Ft[oe[mr]];
        }
        sn = n.indexOf(Pi),
          et > 1 || _
            ? (Pi = wa, Si = Ja)
            : (!et && Rr && (et = 1, ge = [{ key: null, value: lr() }]),
              et === 1 ? (Pi = Nr, Si = Ir) : (Pi = On, Si = On),
              oe = null),
          n[sn] = Pi;
        function nc() {
          if (_) {
            et++;
            return;
          }
          ++et === ct
            && (Ft = _a.arrayWiden(Ft, It <<= 1),
              oe = _a.arrayWiden(oe, It),
              ct = Hw(It));
        }
      }
      function ur(Qe) {
        if (et > 1 || _) {
          var Bt = et, li = ge, ir = ts(Bt, Bt), Yt, Ft, fi;
          if (_) {
            for (Yt = 0, fi = 0; Yt < i; ++Yt) {
              if (Qe[Yt] !== Za) {
                for (
                  oe[fi] = oe[Yt], Ft = 0; Ft < oe[fi].length; Ft++
                ) {
                  ir[oe[fi][Ft]] = 1;
                }
                ++fi;
              }
            }
            oe = oe.slice(0, fi);
          }
          else {
            for (Yt = 0, fi = 0; Yt < i; ++Yt) {
              Qe[Yt] !== Za && (ir[oe[fi] = oe[Yt]] = 1, ++fi);
            }
          }
          for (ge = [], et = 0, Yt = 0; Yt < Bt; ++Yt) {
            ir[Yt] && (ir[Yt] = et++, ge.push(li[Yt]));
          }
          if (et > 1 || _) {
            if (_) {
              for (Yt = 0; Yt < fi; ++Yt) {
                for (Ft = 0; Ft < oe[Yt].length; ++Ft) {
                  oe[Yt][Ft] = ir[oe[Yt][Ft]];
                }
              }
            }
            else for (Yt = 0; Yt < fi; ++Yt) oe[Yt] = ir[oe[Yt]];
          }
          else oe = null;
          n[n.indexOf(Pi)] = et > 1 || _
            ? (Si = Ja, Pi = wa)
            : et === 1
            ? (Si = Ir, Pi = Nr)
            : Si = Pi = On;
        }
        else if (et === 1) {
          if (Rr) return;
          for (var Ei = 0; Ei < i; ++Ei) if (Qe[Ei] !== Za) return;
          ge = [], et = 0, n[n.indexOf(Pi)] = Pi = Si = On;
        }
      }
      function wa(Qe, Bt, li, ir, Yt) {
        if (!(Qe === I && Bt === V || tr)) {
          var Ft, fi, Ei, lr, fr;
          if (_) {
            for (Ft = 0, lr = li.length; Ft < lr; ++Ft) {
              if (r.zeroExcept(Ei = li[Ft], V, D)) {
                for (fi = 0; fi < oe[Ei].length; fi++) {
                  fr = ge[oe[Ei][fi]], fr.value = or(fr.value, e[Ei], !1, fi);
                }
              }
            }
            for (Ft = 0, lr = ir.length; Ft < lr; ++Ft) {
              if (r.onlyExcept(Ei = ir[Ft], V, D, Bt, Qe)) {
                for (fi = 0; fi < oe[Ei].length; fi++) {
                  fr = ge[oe[Ei][fi]], fr.value = Wi(fr.value, e[Ei], Yt, fi);
                }
              }
            }
            return;
          }
          for (Ft = 0, lr = li.length; Ft < lr; ++Ft) {
            r.zeroExcept(Ei = li[Ft], V, D)
              && (fr = ge[oe[Ei]], fr.value = or(fr.value, e[Ei], !1));
          }
          for (Ft = 0, lr = ir.length; Ft < lr; ++Ft) {
            r.onlyExcept(Ei = ir[Ft], V, D, Bt, Qe)
              && (fr = ge[oe[Ei]], fr.value = Wi(fr.value, e[Ei], Yt));
          }
        }
      }
      function Nr(Qe, Bt, li, ir, Yt) {
        if (!(Qe === I && Bt === V || tr)) {
          var Ft, fi, Ei, lr = ge[0];
          for (Ft = 0, Ei = li.length; Ft < Ei; ++Ft) {
            r.zeroExcept(fi = li[Ft], V, D)
              && (lr.value = or(lr.value, e[fi], !1));
          }
          for (Ft = 0, Ei = ir.length; Ft < Ei; ++Ft) {
            r.onlyExcept(fi = ir[Ft], V, D, Bt, Qe)
              && (lr.value = Wi(lr.value, e[fi], Yt));
          }
        }
      }
      function Ja() {
        var Qe, Bt, li;
        for (Qe = 0; Qe < et; ++Qe) ge[Qe].value = Or();
        if (_) {
          for (Qe = 0; Qe < i; ++Qe) {
            for (Bt = 0; Bt < oe[Qe].length; Bt++) {
              li = ge[oe[Qe][Bt]], li.value = or(li.value, e[Qe], !0, Bt);
            }
          }
          for (Qe = 0; Qe < i; ++Qe) {
            if (!r.zeroExcept(Qe, V, D)) {
              for (Bt = 0; Bt < oe[Qe].length; Bt++) {
                li = ge[oe[Qe][Bt]], li.value = Wi(li.value, e[Qe], !1, Bt);
              }
            }
          }
          return;
        }
        for (Qe = 0; Qe < i; ++Qe) {
          li = ge[oe[Qe]], li.value = or(li.value, e[Qe], !0);
        }
        for (Qe = 0; Qe < i; ++Qe) {
          r.zeroExcept(Qe, V, D)
            || (li = ge[oe[Qe]], li.value = Wi(li.value, e[Qe], !1));
        }
      }
      function Ir() {
        var Qe, Bt = ge[0];
        for (Bt.value = Or(), Qe = 0; Qe < i; ++Qe) {
          Bt.value = or(Bt.value, e[Qe], !0);
        }
        for (Qe = 0; Qe < i; ++Qe) {
          r.zeroExcept(Qe, V, D) || (Bt.value = Wi(Bt.value, e[Qe], !1));
        }
      }
      function sr() {
        return tr && (Si(), tr = !1), ge;
      }
      function $f(Qe) {
        var Bt = wi(sr(), 0, ge.length, Qe);
        return er.sort(Bt, 0, Bt.length);
      }
      function dl(Qe, Bt, li) {
        return or = Qe, Wi = Bt, Or = li, tr = !0, nt;
      }
      function tc() {
        return dl(ba.reduceIncrement, ba.reduceDecrement, Kd);
      }
      function ic(Qe) {
        return dl(ba.reduceAdd(Qe), ba.reduceSubtract(Qe), Kd);
      }
      function cl(Qe) {
        wi = og.by(Bt), er = Zd.by(Bt);
        function Bt(li) {
          return Qe(li.value);
        }
        return nt;
      }
      function zi() {
        return cl(xa);
      }
      function Mf() {
        return et;
      }
      function rc() {
        var Qe = n.indexOf(Pi);
        return Qe >= 0 && n.splice(Qe, 1),
          Qe = me.indexOf(ya),
          Qe >= 0 && me.splice(Qe, 1),
          Qe = o.indexOf(ur),
          Qe >= 0 && o.splice(Qe, 1),
          Qe = gt.indexOf(nt),
          Qe >= 0 && gt.splice(Qe, 1),
          nt;
      }
      return tc().orderNatural();
    }
    function $i() {
      var Ze = K(On), nt = Ze.all;
      return delete Ze.all,
        delete Ze.top,
        delete Ze.order,
        delete Ze.orderNatural,
        delete Ze.size,
        Ze.value = function() {
          return nt()[0].value;
        },
        Ze;
    }
    function on() {
      gt.forEach(function(nt) {
        nt.dispose();
      });
      var Ze = a.indexOf(Ke);
      return Ze >= 0 && a.splice(Ze, 1),
        Ze = a.indexOf(dt),
        Ze >= 0 && a.splice(Ze, 1),
        Ze = o.indexOf(Ee),
        Ze >= 0 && o.splice(Ze, 1),
        r.masks[V] &= D,
        mt();
    }
    return z;
  }
  function h() {
    var g = {
        reduce: ee,
        reduceCount: R,
        reduceSum: A,
        value: X,
        dispose: G,
        remove: G,
      },
      _,
      $,
      z,
      I,
      D = !0;
    n.push(ue), a.push(V), V(e, 0, i);
    function V(te, De) {
      var Se;
      if (!D) {
        for (Se = De; Se < i; ++Se) {
          _ = $(_, e[Se], !0), r.zero(Se) || (_ = z(_, e[Se], !1));
        }
      }
    }
    function ue(te, De, Se, Fe, Be) {
      var We, me, gt;
      if (!D) {
        for (We = 0, gt = Se.length; We < gt; ++We) {
          r.zero(me = Se[We]) && (_ = $(_, e[me], Be));
        }
        for (We = 0, gt = Fe.length; We < gt; ++We) {
          r.only(me = Fe[We], De, te) && (_ = z(_, e[me], Be));
        }
      }
    }
    function ne() {
      var te;
      for (_ = I(), te = 0; te < i; ++te) {
        _ = $(_, e[te], !0), r.zero(te) || (_ = z(_, e[te], !1));
      }
    }
    function ee(te, De, Se) {
      return $ = te, z = De, I = Se, D = !0, g;
    }
    function R() {
      return ee(ba.reduceIncrement, ba.reduceDecrement, Kd);
    }
    function A(te) {
      return ee(ba.reduceAdd(te), ba.reduceSubtract(te), Kd);
    }
    function X() {
      return D && (ne(), D = !1), _;
    }
    function G() {
      var te = n.indexOf(ue);
      return te >= 0 && n.splice(te, 1),
        te = a.indexOf(V),
        te >= 0 && a.splice(te, 1),
        g;
    }
    return R();
  }
  function x() {
    return i;
  }
  function S() {
    return e;
  }
  function p(g) {
    var _ = [], $ = 0, z = c(g || []);
    for ($ = 0; $ < i; $++) r.zeroExceptMask($, z) && _.push(e[$]);
    return _;
  }
  function y(g) {
    if (typeof g != "function") {
      console.warn("onChange callback parameter must be a function!");
      return;
    }
    return s.push(g), function() {
      s.splice(s.indexOf(g), 1);
    };
  }
  function E(g) {
    for (var _ = 0; _ < s.length; _++) s[_](g);
  }
  return arguments.length ? l(arguments[0]) : t;
}
function ts(t, e) {
  return (e < 257 ? _a.array8 : e < 65537 ? _a.array16 : _a.array32)(t);
}
function sg(t) {
  for (var e = ts(t, t), i = -1; ++i < t;) e[i] = i;
  return e;
}
function Hw(t) {
  return t === 8 ? 256 : t === 16 ? 65536 : 4294967296;
}
var dg = class {
    constructor(e, i, r) {
      this._crossfilter = e, this._selfRemove = i, this._syncUp = r;
    }
    setAccessor(e) {
      let { _crossfilter: i } = this;
      this.dispose(), this._dimension = i.dimension(e);
    }
    applyFilter(e) {
      var i, r;
      (i = this._dimension) === null || i === void 0 || i.filter(e),
        (r = this._syncUp) === null || r === void 0 || r.call(this);
    }
    clear() {
      var e, i;
      (e = this._dimension) === null || e === void 0 || e.filterAll(),
        (i = this._syncUp) === null || i === void 0 || i.call(this);
    }
    getAllValues() {
      let { _crossfilter: e, _dimension: i } = this;
      if (i) return e.all().map(i.accessor);
    }
    getFilteredValues() {
      let { _crossfilter: e, _dimension: i } = this;
      if (i) return e.allFiltered().map(i.accessor);
    }
    getFilteredRecords() {
      return this._crossfilter.allFiltered([this._dimension]);
    }
    isActive() {
      var e;
      return ((e = this._dimension) === null || e === void 0
        ? void 0
        : e.hasCurrentFilter()) || !1;
    }
    dispose() {
      var e;
      (e = this._dimension) === null || e === void 0 || e.dispose();
    }
    remove() {
      this.dispose(), this._selfRemove();
    }
  },
  ec = class {
    constructor(e) {
      this._crossfilter = lg(),
        this._filters = new Set(),
        this._syncUpFunction = e,
        this._crossfilter.onChange(i => {
          var r, n, a;
          switch (i) {
            case "filtered":
              (r = this.onFiltered) === null || r === void 0 || r.call(this),
                this._filters.forEach(o => {
                  var s;
                  (s = o.onFiltered) === null || s === void 0 || s.call(o);
                });
              break;
            case "dataAdded":
              (n = this.onDataAdded) === null || n === void 0 || n.call(this),
                this._filters.forEach(o => {
                  var s;
                  (s = o.onDataAdded) === null || s === void 0 || s.call(o);
                });
              break;
            case "dataRemoved":
              (a = this.onDataRemoved) === null || a === void 0 || a.call(this),
                this._filters.forEach(o => {
                  var s;
                  (s = o.onDataRemoved) === null || s === void 0 || s.call(o);
                });
          }
        });
    }
    addRecords(e) {
      let { _crossfilter: i } = this;
      this._records = e, i.remove(), i.add(e);
    }
    getFilteredRecords(e) {
      let { _crossfilter: i } = this;
      return e?.getFilteredRecords() || i.allFiltered();
    }
    addFilter(e = !0) {
      let i = new dg(this._crossfilter, () => {
        this._filters.delete(i);
      }, e ? this._syncUpFunction : void 0);
      return this._filters.add(i), i;
    }
    clearFilters() {
      this._filters.forEach(e => {
        e.clear();
      });
    }
    isAnyFiltersActive(e) {
      for (let i of this._filters.values()) {if (i !== e && i.isActive()) {
          return !0;
        }}
      return !1;
    }
    getAllRecords() {
      return this._records;
    }
  };
var cg = class {
  constructor(e, i) {
    var r;
    this._data = { nodes: [], links: [] },
      this._previousData = { nodes: [], links: [] },
      this._cosmographConfig = {},
      this._cosmosConfig = {},
      this._nodesForTopLabels = new Set(),
      this._nodesForForcedLabels = new Set(),
      this._trackedNodeToLabel = new Map(),
      this._isLabelsDestroyed = !1,
      this._svgParser = new DOMParser(),
      this._nodesCrossfilter = new ec(this._applyLinksFilter.bind(this)),
      this._linksCrossfilter = new ec(this._applyNodesFilter.bind(this)),
      this._nodesFilter = this._nodesCrossfilter.addFilter(!1),
      this._linksFilter = this._linksCrossfilter.addFilter(!1),
      this._selectedNodesFilter = this._nodesCrossfilter.addFilter(),
      this._isDataDifferent = () => {
        let a = JSON.stringify(this._data.nodes),
          o = JSON.stringify(this._previousData.nodes),
          s = JSON.stringify(this._data.links),
          l = JSON.stringify(this._previousData.links);
        return a !== o || s !== l;
      },
      this._onClick = (...a) => {
        var o, s;
        (s = (o = this._cosmographConfig).onClick) === null || s === void 0
          || s.call(o, ...a);
      },
      this._onLabelClick = (a, o) => {
        var s, l, d;
        let c = (s = this._cosmos) === null || s === void 0 ? void 0
        : s.graph.getNodeById(o.id);
        c
          && ((d = (l = this._cosmographConfig).onLabelClick) === null
            || d === void 0 || d.call(l, c, a));
      },
      this._onHoveredNodeClick = a => {
        var o, s;
        this._hoveredNode
          && ((s = (o = this._cosmographConfig).onLabelClick) === null
            || s === void 0 || s.call(o, this._hoveredNode, a));
      },
      this._onNodeMouseOver = (...a) => {
        var o, s;
        (s = (o = this._cosmographConfig).onNodeMouseOver) === null
          || s === void 0 || s.call(o, ...a);
        let [l, , d] = a;
        this._hoveredNode = l, this._renderLabelForHovered(l, d);
      },
      this._onNodeMouseOut = (...a) => {
        var o, s;
        (s = (o = this._cosmographConfig).onNodeMouseOut) === null
        || s === void 0 || s.call(o, ...a), this._renderLabelForHovered();
      },
      this._onMouseMove = (...a) => {
        var o, s;
        (s = (o = this._cosmographConfig).onMouseMove) === null || s === void 0
          || s.call(o, ...a);
        let [l, , d] = a;
        this._renderLabelForHovered(l, d);
      },
      this._onZoomStart = (...a) => {
        var o, s;
        (s = (o = this._cosmographConfig).onZoomStart) === null || s === void 0
          || s.call(o, ...a);
      },
      this._onZoom = (...a) => {
        var o, s;
        (s = (o = this._cosmographConfig).onZoom) === null || s === void 0
        || s.call(o, ...a),
          this._renderLabelForHovered(),
          this._renderLabels();
      },
      this._onZoomEnd = (...a) => {
        var o, s;
        (s = (o = this._cosmographConfig).onZoomEnd) === null || s === void 0
          || s.call(o, ...a);
      },
      this._onStart = (...a) => {
        var o, s;
        (s = (o = this._cosmographConfig).onSimulationStart) === null
          || s === void 0 || s.call(o, ...a);
      },
      this._onTick = (...a) => {
        var o, s;
        (s = (o = this._cosmographConfig).onSimulationTick) === null
        || s === void 0 || s.call(o, ...a), this._renderLabels();
      },
      this._onEnd = (...a) => {
        var o, s;
        (s = (o = this._cosmographConfig).onSimulationEnd) === null
          || s === void 0 || s.call(o, ...a);
      },
      this._onPause = (...a) => {
        var o, s;
        (s = (o = this._cosmographConfig).onSimulationPause) === null
          || s === void 0 || s.call(o, ...a);
      },
      this._onRestart = (...a) => {
        var o, s;
        (s = (o = this._cosmographConfig).onSimulationRestart) === null
          || s === void 0 || s.call(o, ...a);
      },
      this._containerNode = e,
      this._containerNode.classList.add(sl.cosmograph),
      this._cosmographConfig = wr(ng, i ?? {}),
      this._cosmosConfig = this._createCosmosConfig(i),
      this._canvasElement = document.createElement("canvas"),
      this._labelsDivElement = document.createElement("div"),
      //this._watermarkDivElement = document.createElement("div"),
      //this._watermarkDivElement.classList.add(sl.watermark),
      //this._watermarkDivElement.onclick = () => {
      //  var a;
      //  return (a = window.open("https://cosmograph.app/", "_blank")) === null
      //      || a === void 0 ? void 0 : a.focus();
      //},
      e.appendChild(this._canvasElement),
      e.appendChild(this._labelsDivElement),
      //e.appendChild(this._watermarkDivElement),
      this._cssLabelsRenderer = new $u(this._labelsDivElement, {
        dispatchWheelEventElement: this._canvasElement,
        pointerEvents: "all",
        onLabelClick: this._onLabelClick.bind(this),
      }),
      this._hoveredCssLabel = new Os(this._labelsDivElement),
      this._hoveredCssLabel.setPointerEvents("all"),
      this._hoveredCssLabel.element.addEventListener(
        "click",
        this._onHoveredNodeClick.bind(this),
      ),
      this._linksFilter.setAccessor(a => [a.source, a.target]),
      this._nodesFilter.setAccessor(a => a.id),
      this._selectedNodesFilter.setAccessor(a => a.id),
      this._nodesCrossfilter.onFiltered = () => {
        var a, o, s, l;
        let d;
        this._nodesCrossfilter.isAnyFiltersActive()
          ? (d = this._nodesCrossfilter.getFilteredRecords(),
            (a = this._cosmos) === null || a === void 0
            || a.selectNodesByIds(d.map(c => c.id)))
          : (o = this._cosmos) === null || o === void 0 || o.unselectNodes(),
          this._updateSelectedNodesSet(d),
          (l = (s = this._cosmographConfig).onNodesFiltered) === null
          || l === void 0 || l.call(s, d);
      },
      this._linksCrossfilter.onFiltered = () => {
        var a, o;
        let s;
        this._linksCrossfilter.isAnyFiltersActive()
        && (s = this._linksCrossfilter.getFilteredRecords()),
          (o = (a = this._cosmographConfig).onLinksFiltered) === null
          || o === void 0 || o.call(a, s);
      };
    let n = this._svgParser.parseFromString(Ny, "image/svg+xml").firstChild;
    (r = this._watermarkDivElement) === null || r === void 0
      || r.appendChild(n);
  }
  get data() {
    return this._data;
  }
  get progress() {
    var e;
    return (e = this._cosmos) === null || e === void 0 ? void 0 : e.progress;
  }
  get isSimulationRunning() {
    var e;
    return (e = this._cosmos) === null || e === void 0
      ? void 0
      : e.isSimulationRunning;
  }
  get maxPointSize() {
    var e;
    return (e = this._cosmos) === null || e === void 0
      ? void 0
      : e.maxPointSize;
  }
  setData(e, i) {
    var r, n, a, o;
    let { _cosmographConfig: s } = this;
    this._data = { nodes: e, links: i };
    let l = s.disableSimulation === null ? !i.length : s.disableSimulation;
    this._cosmos
    || (this._disableSimulation = l,
      this._cosmosConfig.disableSimulation = this._disableSimulation,
      this._cosmos = new Fu(this._canvasElement, this._cosmosConfig),
      this.cosmos = this._cosmos),
      this._disableSimulation !== l
      && console.warn(
        `The \`disableSimulation\` was initialized to \`${this._disableSimulation}\` during initialization and will not be modified.`,
      ),
      this._cosmos.setData(e, i),
      this._nodesCrossfilter.addRecords(e),
      this._linksCrossfilter.addRecords(i),
      this._updateLabels(),
      (n = (r = this._cosmographConfig).onSetData) === null || n === void 0
      || n.call(r, e, i),
      this._isDataDifferent()
      && (["cosmograph.app"].includes(window.location.hostname)
        || Aw({
          browser: navigator.userAgent,
          hostname: window.location.hostname,
          mode: null,
          is_library_metric: !0,
          links_count: i.length,
          links_have_time: null,
          links_raw_columns:
            i.length && (a = Object.keys(i?.[0]).length) !== null
              && a !== void 0
              ? a
              : 0,
          links_raw_lines: null,
          nodes_count: e.length,
          nodes_have_time: null,
          nodes_raw_columns:
            e.length && (o = Object.keys(e?.[0]).length) !== null
              && o !== void 0
              ? o
              : 0,
          nodes_raw_lines: null,
        })),
      this._previousData = { nodes: e, links: i };
  }
  setConfig(e) {
    var i, r;
    if (
      this._cosmographConfig = wr(ng, e ?? {}),
        this._cosmosConfig = this._createCosmosConfig(e),
        (i = this._cosmos) === null || i === void 0
        || i.setConfig(this._cosmosConfig),
        e?.backgroundColor
    ) {
      let n = (r = Pr(e?.backgroundColor)) === null || r === void 0
        ? void 0
        : r.formatHex();
      if (n) {
        let a = this._checkBrightness(n), o = document.querySelector(":root");
        a > .65
          ? o?.style.setProperty("--cosmograph-watermark-color", "#000000")
          : o?.style.setProperty("--cosmograph-watermark-color", "#ffffff");
      }
    }
    this._updateLabels();
  }
  addNodesFilter() {
    return this._nodesCrossfilter.addFilter();
  }
  addLinksFilter() {
    return this._linksCrossfilter.addFilter();
  }
  selectNodesInRange(e) {
    var i;
    if (!this._cosmos) return;
    this._cosmos.selectNodesInRange(e);
    let r = new Set(
      ((i = this.getSelectedNodes()) !== null && i !== void 0 ? i : []).map(n =>
        n.id
      ),
    );
    this._selectedNodesFilter.applyFilter(n => r.has(n));
  }
  selectNodes(e) {
    if (!this._cosmos) return;
    let i = new Set(e.map(r => r.id));
    this._selectedNodesFilter.applyFilter(r => i.has(r));
  }
  selectNode(e, i = !1) {
    if (!this._cosmos) return;
    let r = new Set(
      [e, ...i && this._cosmos.getAdjacentNodes(e.id) || []].map(n => n.id),
    );
    this._selectedNodesFilter.applyFilter(n => r.has(n));
  }
  unselectNodes() {
    this._cosmos && this._selectedNodesFilter.clear();
  }
  getSelectedNodes() {
    if (this._cosmos) return this._cosmos.getSelectedNodes();
  }
  zoomToNode(e) {
    this._cosmos && this._cosmos.zoomToNodeById(e.id);
  }
  setZoomLevel(e, i = 0) {
    this._cosmos && this._cosmos.setZoomLevel(e, i);
  }
  getZoomLevel() {
    if (this._cosmos) return this._cosmos.getZoomLevel();
  }
  getNodePositions() {
    if (this._cosmos) return this._cosmos.getNodePositions();
  }
  getNodePositionsMap() {
    if (this._cosmos) return this._cosmos.getNodePositionsMap();
  }
  getNodePositionsArray() {
    if (this._cosmos) return this._cosmos.getNodePositionsArray();
  }
  fitView(e = 250) {
    this._cosmos && this._cosmos.fitView(e);
  }
  fitViewByNodeIds(e, i = 250) {
    this._cosmos && this._cosmos.fitViewByNodeIds(e, i);
  }
  focusNode(e) {
    this._cosmos && this._cosmos.setFocusedNodeById(e?.id);
  }
  getAdjacentNodes(e) {
    if (this._cosmos) return this._cosmos.getAdjacentNodes(e);
  }
  spaceToScreenPosition(e) {
    if (this._cosmos) return this._cosmos.spaceToScreenPosition(e);
  }
  spaceToScreenRadius(e) {
    if (this._cosmos) return this._cosmos.spaceToScreenRadius(e);
  }
  getNodeRadiusByIndex(e) {
    if (this._cosmos) return this._cosmos.getNodeRadiusByIndex(e);
  }
  getNodeRadiusById(e) {
    if (this._cosmos) return this._cosmos.getNodeRadiusById(e);
  }
  getSampledNodePositionsMap() {
    if (this._cosmos) return this._cosmos.getSampledNodePositionsMap();
  }
  start(e = 1) {
    this._cosmos && this._cosmos.start(e);
  }
  pause() {
    this._cosmos && this._cosmos.pause();
  }
  restart() {
    this._cosmos && this._cosmos.restart();
  }
  step() {
    this._cosmos && this._cosmos.step();
  }
  remove() {
    var e;
    (e = this._cosmos) === null || e === void 0 || e.destroy(),
      this._isLabelsDestroyed
      || (this._containerNode.innerHTML = "",
        this._isLabelsDestroyed = !0,
        this._hoveredCssLabel.element.removeEventListener(
          "click",
          this._onHoveredNodeClick.bind(this),
        ),
        this._hoveredCssLabel.destroy(),
        this._cssLabelsRenderer.destroy());
  }
  create() {
    this._cosmos && this._cosmos.create();
  }
  getNodeDegrees() {
    if (this._cosmos) return this._cosmos.graph.degree;
  }
  _createCosmosConfig(e) {
    let i = {
      ...e,
      simulation: {
        ...Object.keys(e ?? {}).filter(r => r.indexOf("simulation") !== -1)
          .reduce((r, n) => {
            let a = n.replace("simulation", "");
            return r[a.charAt(0).toLowerCase() + a.slice(1)] = e?.[n], r;
          }, {}),
        onStart: this._onStart.bind(this),
        onTick: this._onTick.bind(this),
        onEnd: this._onEnd.bind(this),
        onPause: this._onPause.bind(this),
        onRestart: this._onRestart.bind(this),
      },
      events: {
        onClick: this._onClick.bind(this),
        onNodeMouseOver: this._onNodeMouseOver.bind(this),
        onNodeMouseOut: this._onNodeMouseOut.bind(this),
        onMouseMove: this._onMouseMove.bind(this),
        onZoomStart: this._onZoomStart.bind(this),
        onZoom: this._onZoom.bind(this),
        onZoomEnd: this._onZoomEnd.bind(this),
      },
    };
    return delete i.disableSimulation, i;
  }
  _updateLabels() {
    if (this._isLabelsDestroyed || !this._cosmos) return;
    let {
      _cosmos: e,
      data: { nodes: i },
      _cosmographConfig: {
        showTopLabels: r,
        showTopLabelsLimit: n,
        showLabelsFor: a,
        showTopLabelsValueKey: o,
        nodeLabelAccessor: s,
      },
    } = this;
    if (this._nodesForTopLabels.clear(), r && n) {
      let l;
      l = o
        ? [...i].sort((d, c) => {
          let u = d[o], f = c[o];
          return typeof u == "number" && typeof f == "number" ? f - u : 0;
        })
        : Object.entries(e.graph.degree).sort((d, c) => c[1] - d[1]).slice(0, n)
          .map(d => e.graph.getNodeByIndex(+d[0]));
      for (let d = 0; d < n && !(d >= i.length); d++) {
        let c = l[d];
        c && this._nodesForTopLabels.add(c);
      }
    }
    this._nodesForForcedLabels.clear(),
      a?.forEach(this._nodesForForcedLabels.add, this._nodesForForcedLabels),
      this._trackedNodeToLabel.clear(),
      e.trackNodePositionsByIds(
        [...r ? this._nodesForTopLabels : [], ...this._nodesForForcedLabels]
          .map(l => {
            var d;
            return this._trackedNodeToLabel.set(
              l,
              (d = s?.(l)) !== null && d !== void 0
                ? d
                : l.id,
            ),
              l.id;
          }),
      ),
      this._renderLabels();
  }
  _updateSelectedNodesSet(e) {
    this._isLabelsDestroyed
      || (e
        ? (this._selectedNodesSet = new Set(),
          e?.forEach(this._selectedNodesSet.add, this._selectedNodesSet))
        : this._selectedNodesSet = void 0,
        this._renderLabels());
  }
  _renderLabels() {
    if (this._isLabelsDestroyed || !this._cosmos) return;
    let {
        _cosmos: e,
        _selectedNodesSet: i,
        _cosmographConfig: {
          showDynamicLabels: r,
          nodeLabelAccessor: n,
          nodeLabelColor: a,
          nodeLabelClassName: o,
        },
      } = this,
      s = [],
      l = e.getTrackedNodePositionsMap(),
      d = new Map();
    if (r) {
      let c = this.getSampledNodePositionsMap();
      c?.forEach((u, f) => {
        var h;
        let x = e.graph.getNodeById(f);
        x
          && d.set(x, [
            (h = n?.(x)) !== null && h !== void 0 ? h : x.id,
            u,
            sl.cosmographShowDynamicLabels,
            .7,
          ]);
      });
    }
    this._nodesForTopLabels.forEach(c => {
      d.set(c, [
        this._trackedNodeToLabel.get(c),
        l.get(c.id),
        sl.cosmographShowTopLabels,
        .9,
      ]);
    }),
      this._nodesForForcedLabels.forEach(c => {
        d.set(c, [
          this._trackedNodeToLabel.get(c),
          l.get(c.id),
          sl.cosmographShowLabelsFor,
          1,
        ]);
      }),
      s = [...d.entries()].map(([c, [u, f, h, x]]) => {
        var S, p, y;
        let E = this.spaceToScreenPosition([
            (S = f?.[0]) !== null && S !== void 0 ? S : 0,
            (p = f?.[1]) !== null && p !== void 0 ? p : 0,
          ]),
          g = this.spaceToScreenRadius(
            e.config.nodeSizeScale * this.getNodeRadiusById(c.id),
          ),
          _ = !!i,
          $ = i?.has(c);
        return {
          id: c.id,
          text: u ?? "",
          x: E[0],
          y: E[1] - (g + 2),
          weight: _ && !$ ? .1 : x,
          shouldBeShown: this._nodesForForcedLabels.has(c),
          style: _ && !$ ? "opacity: 0.1;" : "",
          color: a && (typeof a == "string" ? a : a?.(c)),
          className: (y = typeof o == "string"
                  ? o
                  : o?.(c)) !== null && y !== void 0
            ? y
            : h,
        };
      }),
      this._cssLabelsRenderer.setLabels(s),
      this._cssLabelsRenderer.draw(!0);
  }
  _renderLabelForHovered(e, i) {
    var r, n;
    if (!this._cosmos) return;
    let {
      _cosmographConfig: {
        showHoveredNodeLabel: a,
        nodeLabelAccessor: o,
        hoveredNodeLabelClassName: s,
        hoveredNodeLabelColor: l,
      },
    } = this;
    if (!this._isLabelsDestroyed) {
      if (a && e && i) {
        let d = this.spaceToScreenPosition(i),
          c = this.spaceToScreenRadius(this.getNodeRadiusById(e.id));
        this._hoveredCssLabel.setText(
          (r = o?.(e)) !== null && r !== void 0 ? r : e.id,
        ),
          this._hoveredCssLabel.setVisibility(!0),
          this._hoveredCssLabel.setPosition(d[0], d[1] - (c + 2)),
          this._hoveredCssLabel.setClassName(
            typeof s == "string"
              ? s
              : (n = s?.(e)) !== null && n !== void 0
              ? n
              : "",
          );
        let u = l && (typeof l == "string" ? l : l?.(e));
        u && this._hoveredCssLabel.setColor(u);
      }
      else this._hoveredCssLabel.setVisibility(!1);
      this._hoveredCssLabel.draw();
    }
  }
  _applyLinksFilter() {
    if (this._nodesCrossfilter.isAnyFiltersActive(this._nodesFilter)) {
      let e = this._nodesCrossfilter.getFilteredRecords(this._nodesFilter),
        i = new Set(e.map(r => r.id));
      this._linksFilter.applyFilter(r => {
        let n = r?.[0], a = r?.[1];
        return i.has(n) && i.has(a);
      });
    }
    else this._linksFilter.clear();
  }
  _applyNodesFilter() {
    if (this._linksCrossfilter.isAnyFiltersActive(this._linksFilter)) {
      let e = this._linksCrossfilter.getFilteredRecords(this._linksFilter),
        i = new Set(e.map(r => [r.source, r.target]).flat());
      this._nodesFilter.applyFilter(r => i.has(r));
    }
    else this._nodesFilter.clear();
  }
  _checkBrightness(e) {
    let i = (r => {
      let n = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);
      return n
        ? {
          r: parseInt((n[1] || 0).toString(), 16),
          g: parseInt((n[2] || 0).toString(), 16),
          b: parseInt((n[3] || 0).toString(), 16),
        }
        : { r: 0, g: 0, b: 0 };
    })(e);
    return (.2126 * i.r + .7152 * i.g + .0722 * i.b) / 255;
  }
};
var ug = { onSelectResult: void 0, accessors: void 0 };
var fg = class {
  constructor(e, i, r) {
    this._config = {},
      this._data = [],
      this._defaultAccessors = [],
      this._createDefaultAccessorOptions = n =>
        n.length > 0 && n[0]
          ? Object.keys(n[0]).map(a => ({
            label: a,
            accessor: o => String(o[a]),
          }))
          : [{ label: "id", accessor: a => a.id }],
      this._onSelect = (...n) => {
        this._onSelectResult(...n);
      },
      this._onSearch = (...n) => {
        var a, o;
        (o = (a = this._config).onSearch) === null || o === void 0
          || o.call(a, ...n);
      },
      this._onEnter = (...n) => {
        var a, o;
        (o = (a = this._config).onEnter) === null || o === void 0
          || o.call(a, ...n);
      },
      this._onAccessorSelect = (...n) => {
        var a, o;
        (o = (a = this._config).onAccessorSelect) === null || o === void 0
          || o.call(a, ...n);
      },
      this._cosmograph = e,
      this._config = wr(ug, r ?? {}),
      this.search = new Cd(i, this._createSearchConfig(r)),
      this._filter = this._cosmograph.addNodesFilter(),
      this._filter.onDataAdded = () => {
        this._updateData();
      },
      this._updateData();
  }
  setConfig(e) {
    let i = wr(ug, e ?? {});
    this._data.length && i.accessors === void 0
    && (i.accessors = this._defaultAccessors),
      this.search.setConfig(this._createSearchConfig(i)),
      this._config = i;
  }
  _updateData() {
    let e = this._cosmograph.data.nodes;
    e?.length
      && (this._data = e,
        this.search.setData(this._data),
        this._config.accessors === void 0
        && (this._defaultAccessors = this._createDefaultAccessorOptions(
          this._data,
        ),
          this.setConfig({ accessors: this._defaultAccessors })));
  }
  getConfig() {
    return this._config;
  }
  remove() {
    this.search.destroy();
  }
  setListState(e) {
    this.search.setListState(e);
  }
  clearInput() {
    this.search.clearInput();
  }
  _onSelectResult(e) {
    var i, r;
    this._cosmograph.pause(),
      this._cosmograph.zoomToNode(e),
      this._cosmograph.selectNode(e),
      (r = (i = this._config).onSelectResult) === null || r === void 0
      || r.call(i, e);
  }
  _createSearchConfig(e) {
    return {
      ...e,
      events: {
        onSelect: this._onSelect.bind(this),
        onSearch: this._onSearch.bind(this),
        onEnter: this._onEnter.bind(this),
        onAccessorSelect: this._onAccessorSelect.bind(this),
      },
    };
  }
};
var _n;
(function(t) {
  t.Nodes = "nodes", t.Links = "links";
})(_n || (_n = {}));
var mg = { accessor: t => t.date, filterType: _n.Links };
var hg = class {
  constructor(e, i, r) {
    this._config = {},
      this.playAnimation = () => {
        this.timeline.playAnimation();
      },
      this.pauseAnimation = () => {
        this.timeline.pauseAnimation();
      },
      this.stopAnimation = () => {
        this.timeline.stopAnimation();
      },
      this._onBrush = (n, a) => {
        var o, s;
        this._applyFilter(n),
          (s = (o = this._config).onSelection) === null || s === void 0
          || s.call(o, n, a);
      },
      this._onBarHover = (...n) => {
        var a, o;
        (o = (a = this._config).onBarHover) === null || o === void 0
          || o.call(a, ...n);
      },
      this._onAnimationPlay = (...n) => {
        var a, o;
        (o = (a = this._config).onAnimationPlay) === null || o === void 0
          || o.call(a, ...n);
      },
      this._onAnimationPause = (...n) => {
        var a, o;
        (o = (a = this._config).onAnimationPause) === null || o === void 0
          || o.call(a, ...n);
      },
      this._config = wr(mg, r ?? {}),
      this.timeline = new _d(i, this._createTimelineConfig(r)),
      this._cosmograph = e,
      this._filter = this._config.filterType === _n.Nodes
        ? this._cosmograph.addNodesFilter()
        : this._cosmograph.addLinksFilter(),
      this._filter.onDataAdded = () => {
        this._updateData();
      },
      this._updateDimension(),
      this._updateData();
  }
  setConfig(e) {
    var i, r;
    let n = wr(mg, e ?? {});
    this.timeline.setConfig(this._createTimelineConfig(e)),
      ((i = this._config.accessor) === null || i === void 0
          ? void 0
          : i.toString())
        !== ((r = n.accessor) === null || r === void 0 ? void 0 : r.toString())
      && this._updateData(),
      this._config = n;
  }
  getCurrentSelection() {
    return this.timeline.getCurrentSelection();
  }
  getCurrentSelectionInPixels() {
    return this.timeline.getCurrentSelectionInPixels();
  }
  getBarWidth() {
    return this.timeline.getBarWidth();
  }
  getIsAnimationRunning() {
    return this.timeline.getIsAnimationRunning();
  }
  setSelection(e) {
    this.timeline.setSelection(e);
  }
  setSelectionInPixels(e) {
    this.timeline.setSelectionInPixels(e);
  }
  _updateData() {
    let e = this._filter.getAllValues();
    e && this.timeline.setTimeData(e),
      this.timeline.render(),
      this.timeline.resize();
  }
  _updateDimension() {
    let { _config: { accessor: e }, _filter: i } = this;
    i.setAccessor(e);
  }
  _applyFilter(e) {
    let { _filter: i } = this;
    e ? i.applyFilter(r => r >= e[0] && r <= e[1]) : i.clear();
  }
  getConfig() {
    return this._config;
  }
  remove() {
    this.timeline.destroy();
  }
  _createTimelineConfig(e) {
    return {
      ...e,
      events: {
        onBrush: this._onBrush.bind(this),
        onBarHover: this._onBarHover.bind(this),
        onAnimationPlay: this._onAnimationPlay.bind(this),
        onAnimationPause: this._onAnimationPause.bind(this),
      },
    };
  }
};
var pg = {
  accessor: t => t.value,
  customExtent: void 0,
  data: void 0,
  filterFunction: void 0,
  filterType: _n.Nodes,
  onSelection: void 0,
  highlightCrossfiltered: !0,
};
var gg = class {
  constructor(e, i, r) {
    this._onBrush = (n, a) => {
      var o, s;
      this._applyFilter(n),
        (s = (o = this._config).onSelection) === null || s === void 0
        || s.call(o, n, a);
    },
      this._onBarHover = (...n) => {
        var a, o;
        (o = (a = this._config).onBarHover) === null || o === void 0
          || o.call(a, ...n);
      },
      this._cosmograph = e,
      this._config = wr(pg, r ?? {}),
      this._histogram = new xd(i, this._createHistogramConfig(r)),
      this._filter = this._config.filterType === _n.Nodes
        ? this._cosmograph.addNodesFilter()
        : this._cosmograph.addLinksFilter(),
      this._filter.onDataAdded = () => {
        this._updateData();
      },
      this._filter.onFiltered = () => {
        this._config.highlightCrossfiltered && this._updateDynamicData();
      },
      this._updateDimension(),
      this._updateData();
  }
  setConfig(e) {
    let i = wr(pg, e ?? {});
    this._histogram.setConfig(this._createHistogramConfig(e)),
      i.accessor === this._config.accessor && i.data === this._config.data
        && i.filterFunction === this._config.filterFunction
      || (this._updateDimension(), this._updateData(), this.setSelection()),
      this._config = i;
  }
  getCurrentSelection() {
    return this._histogram.getCurrentSelection;
  }
  getCurrentSelectionInPixels() {
    return this._histogram.getCurrentSelectionInPixels;
  }
  getBarWidth() {
    return this._histogram.getBarWidth();
  }
  setSelection(e) {
    this._histogram.setSelection(e);
  }
  getConfig() {
    return this._config;
  }
  remove() {
    this._histogram.destroy();
  }
  _createHistogramConfig(e) {
    return {
      ...e,
      events: {
        onBrush: this._onBrush.bind(this),
        onBarHover: this._onBarHover.bind(this),
      },
    };
  }
  _updateDimension() {
    let {
      _config: { accessor: e, filterFunction: i, data: r, filterType: n },
      _filter: a,
    } = this;
    e
      && (i && r
        ? n === _n.Nodes
          ? a.setAccessor(o => o.id)
          : a.setAccessor(o => [o.source, o.target])
        : a.setAccessor(e));
  }
  _applyFilter(e) {
    let { _filter: i, _config: { filterFunction: r, data: n, filterType: a } } =
      this;
    if (e) {
      if (r && n) {
        let o = i.getFilteredRecords();
        if (a === _n.Nodes) {
          let s = r(e, n, o), l = new Set(s.map(d => d.id));
          i.applyFilter(d => l.has(d));
        }
        else {
          let s = r(e, n, o),
            l = new Set(s.map(d => [d.source, d.target]).flat());
          i.applyFilter(d => {
            let c = d?.[0], u = d?.[1];
            return l.has(c) && l.has(u);
          });
        }
      }
      else i.applyFilter(o => o >= e[0] && o <= e[1]);
    }
    else i.clear();
  }
  _updateData() {
    let { _config: { data: e, filterFunction: i, accessor: r } } = this,
      n = i && e && r ? e.map(r) : this._filter.getAllValues();
    n && this._histogram.setHistogramData(n, this._config.customExtent);
  }
  _updateDynamicData() {
    let e = this._filter.getFilteredValues();
    this._histogram.setHighlightedData(e);
  }
};
// export {
//   cg as Cosmograph,
//   fg as CosmographSearch,
//   gg as CosmographHistogram,
//   hg as CosmographTimeline,
// };
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
